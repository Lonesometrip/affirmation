function D4(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function WA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var i3={exports:{}},Yg={},r3={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh=Symbol.for("react.element"),I4=Symbol.for("react.portal"),k4=Symbol.for("react.fragment"),F4=Symbol.for("react.strict_mode"),O4=Symbol.for("react.profiler"),U4=Symbol.for("react.provider"),j4=Symbol.for("react.context"),z4=Symbol.for("react.forward_ref"),H4=Symbol.for("react.suspense"),G4=Symbol.for("react.memo"),V4=Symbol.for("react.lazy"),YM=Symbol.iterator;function W4(n){return n===null||typeof n!="object"?null:(n=YM&&n[YM]||n["@@iterator"],typeof n=="function"?n:null)}var s3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o3=Object.assign,a3={};function Mu(n,e,t){this.props=n,this.context=e,this.refs=a3,this.updater=t||s3}Mu.prototype.isReactComponent={};Mu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Mu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function l3(){}l3.prototype=Mu.prototype;function XA(n,e,t){this.props=n,this.context=e,this.refs=a3,this.updater=t||s3}var JA=XA.prototype=new l3;JA.constructor=XA;o3(JA,Mu.prototype);JA.isPureReactComponent=!0;var qM=Array.isArray,c3=Object.prototype.hasOwnProperty,KA={current:null},u3={key:!0,ref:!0,__self:!0,__source:!0};function d3(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)c3.call(e,i)&&!u3.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:jh,type:n,key:s,ref:o,props:r,_owner:KA.current}}function X4(n,e){return{$$typeof:jh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function YA(n){return typeof n=="object"&&n!==null&&n.$$typeof===jh}function J4(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var QM=/\/+/g;function Jv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?J4(""+n.key):e.toString(36)}function Im(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case jh:case I4:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Jv(o,0):i,qM(r)?(t="",n!=null&&(t=n.replace(QM,"$&/")+"/"),Im(r,e,t,"",function(c){return c})):r!=null&&(YA(r)&&(r=X4(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(QM,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",qM(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Jv(s,a);o+=Im(s,e,t,l,r)}else if(l=W4(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Jv(s,a++),o+=Im(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xp(n,e,t){if(n==null)return n;var i=[],r=0;return Im(n,i,"","",function(s){return e.call(t,s,r++)}),i}function K4(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Bi={current:null},km={transition:null},Y4={ReactCurrentDispatcher:Bi,ReactCurrentBatchConfig:km,ReactCurrentOwner:KA};function h3(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:xp,forEach:function(n,e,t){xp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return xp(n,function(){e++}),e},toArray:function(n){return xp(n,function(e){return e})||[]},only:function(n){if(!YA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Pt.Component=Mu;Pt.Fragment=k4;Pt.Profiler=O4;Pt.PureComponent=XA;Pt.StrictMode=F4;Pt.Suspense=H4;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y4;Pt.act=h3;Pt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=o3({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=KA.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)c3.call(e,l)&&!u3.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:jh,type:n.type,key:r,ref:s,props:i,_owner:o}};Pt.createContext=function(n){return n={$$typeof:j4,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:U4,_context:n},n.Consumer=n};Pt.createElement=d3;Pt.createFactory=function(n){var e=d3.bind(null,n);return e.type=n,e};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(n){return{$$typeof:z4,render:n}};Pt.isValidElement=YA;Pt.lazy=function(n){return{$$typeof:V4,_payload:{_status:-1,_result:n},_init:K4}};Pt.memo=function(n,e){return{$$typeof:G4,type:n,compare:e===void 0?null:e}};Pt.startTransition=function(n){var e=km.transition;km.transition={};try{n()}finally{km.transition=e}};Pt.unstable_act=h3;Pt.useCallback=function(n,e){return Bi.current.useCallback(n,e)};Pt.useContext=function(n){return Bi.current.useContext(n)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(n){return Bi.current.useDeferredValue(n)};Pt.useEffect=function(n,e){return Bi.current.useEffect(n,e)};Pt.useId=function(){return Bi.current.useId()};Pt.useImperativeHandle=function(n,e,t){return Bi.current.useImperativeHandle(n,e,t)};Pt.useInsertionEffect=function(n,e){return Bi.current.useInsertionEffect(n,e)};Pt.useLayoutEffect=function(n,e){return Bi.current.useLayoutEffect(n,e)};Pt.useMemo=function(n,e){return Bi.current.useMemo(n,e)};Pt.useReducer=function(n,e,t){return Bi.current.useReducer(n,e,t)};Pt.useRef=function(n){return Bi.current.useRef(n)};Pt.useState=function(n){return Bi.current.useState(n)};Pt.useSyncExternalStore=function(n,e,t){return Bi.current.useSyncExternalStore(n,e,t)};Pt.useTransition=function(){return Bi.current.useTransition()};Pt.version="18.3.1";r3.exports=Pt;var D=r3.exports;const pn=WA(D),q4=D4({__proto__:null,default:pn},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q4=D,$4=Symbol.for("react.element"),Z4=Symbol.for("react.fragment"),eI=Object.prototype.hasOwnProperty,tI=Q4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nI={key:!0,ref:!0,__self:!0,__source:!0};function f3(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)eI.call(e,i)&&!nI.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:$4,type:n,key:s,ref:o,props:r,_owner:tI.current}}Yg.Fragment=Z4;Yg.jsx=f3;Yg.jsxs=f3;i3.exports=Yg;var m=i3.exports,p3={exports:{}},cr={},m3={exports:{}},g3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,J){var V=O.length;O.push(J);e:for(;0<V;){var ne=V-1>>>1,j=O[ne];if(0<r(j,J))O[ne]=J,O[V]=j,V=ne;else break e}}function t(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var J=O[0],V=O.pop();if(V!==J){O[0]=V;e:for(var ne=0,j=O.length,q=j>>>1;ne<q;){var Y=2*(ne+1)-1,ue=O[Y],ye=Y+1,we=O[ye];if(0>r(ue,V))ye<j&&0>r(we,ue)?(O[ne]=we,O[ye]=V,ne=ye):(O[ne]=ue,O[Y]=V,ne=Y);else if(ye<j&&0>r(we,V))O[ne]=we,O[ye]=V,ne=ye;else break e}}return J}function r(O,J){var V=O.sortIndex-J.sortIndex;return V!==0?V:O.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,x=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var J=t(c);J!==null;){if(J.callback===null)i(c);else if(J.startTime<=O)i(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=t(c)}}function b(O){if(w=!1,_(O),!x)if(t(l)!==null)x=!0,se(C);else{var J=t(c);J!==null&&ie(b,J.startTime-O)}}function C(O,J){x=!1,w&&(w=!1,v(B),B=-1),g=!0;var V=p;try{for(_(J),f=t(l);f!==null&&(!(f.expirationTime>J)||O&&!z());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,p=f.priorityLevel;var j=ne(f.expirationTime<=J);J=n.unstable_now(),typeof j=="function"?f.callback=j:f===t(l)&&i(l),_(J)}else i(l);f=t(l)}if(f!==null)var q=!0;else{var Y=t(c);Y!==null&&ie(b,Y.startTime-J),q=!1}return q}finally{f=null,p=V,g=!1}}var T=!1,N=null,B=-1,P=5,L=-1;function z(){return!(n.unstable_now()-L<P)}function ee(){if(N!==null){var O=n.unstable_now();L=O;var J=!0;try{J=N(!0,O)}finally{J?K():(T=!1,N=null)}}else T=!1}var K;if(typeof S=="function")K=function(){S(ee)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Z=Q.port2;Q.port1.onmessage=ee,K=function(){Z.postMessage(null)}}else K=function(){A(ee,0)};function se(O){N=O,T||(T=!0,K())}function ie(O,J){B=A(function(){O(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){x||g||(x=!0,se(C))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var V=p;p=J;try{return O()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,J){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=p;p=O;try{return J()}finally{p=V}},n.unstable_scheduleCallback=function(O,J,V){var ne=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ne+V:ne):V=ne,O){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=V+j,O={id:d++,callback:J,priorityLevel:O,startTime:V,expirationTime:j,sortIndex:-1},V>ne?(O.sortIndex=V,e(c,O),t(l)===null&&O===t(c)&&(w?(v(B),B=-1):w=!0,ie(b,V-ne))):(O.sortIndex=j,e(l,O),x||g||(x=!0,se(C))),O},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(O){var J=p;return function(){var V=p;p=J;try{return O.apply(this,arguments)}finally{p=V}}}})(g3);m3.exports=g3;var iI=m3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI=D,ar=iI;function Pe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v3=new Set,sh={};function Rl(n,e){lu(n,e),lu(n+"Capture",e)}function lu(n,e){for(sh[n]=e,n=0;n<e.length;n++)v3.add(e[n])}var no=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uy=Object.prototype.hasOwnProperty,sI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$M={},ZM={};function oI(n){return Uy.call(ZM,n)?!0:Uy.call($M,n)?!1:sI.test(n)?ZM[n]=!0:($M[n]=!0,!1)}function aI(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function lI(n,e,t,i){if(e===null||typeof e>"u"||aI(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Di(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){si[n]=new Di(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];si[e]=new Di(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){si[n]=new Di(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){si[n]=new Di(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){si[n]=new Di(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){si[n]=new Di(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){si[n]=new Di(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){si[n]=new Di(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){si[n]=new Di(n,5,!1,n.toLowerCase(),null,!1,!1)});var qA=/[\-:]([a-z])/g;function QA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(qA,QA);si[e]=new Di(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(qA,QA);si[e]=new Di(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(qA,QA);si[e]=new Di(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){si[n]=new Di(n,1,!1,n.toLowerCase(),null,!1,!1)});si.xlinkHref=new Di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){si[n]=new Di(n,1,!1,n.toLowerCase(),null,!0,!0)});function $A(n,e,t,i){var r=si.hasOwnProperty(e)?si[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lI(e,t,r,i)&&(t=null),i||r===null?oI(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var co=rI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yp=Symbol.for("react.element"),Pc=Symbol.for("react.portal"),Lc=Symbol.for("react.fragment"),ZA=Symbol.for("react.strict_mode"),jy=Symbol.for("react.profiler"),x3=Symbol.for("react.provider"),y3=Symbol.for("react.context"),e_=Symbol.for("react.forward_ref"),zy=Symbol.for("react.suspense"),Hy=Symbol.for("react.suspense_list"),t_=Symbol.for("react.memo"),Bo=Symbol.for("react.lazy"),A3=Symbol.for("react.offscreen"),eb=Symbol.iterator;function rd(n){return n===null||typeof n!="object"?null:(n=eb&&n[eb]||n["@@iterator"],typeof n=="function"?n:null)}var gn=Object.assign,Kv;function Nd(n){if(Kv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Kv=e&&e[1]||""}return`
`+Kv+n}var Yv=!1;function qv(n,e){if(!n||Yv)return"";Yv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Nd(n):""}function cI(n){switch(n.tag){case 5:return Nd(n.type);case 16:return Nd("Lazy");case 13:return Nd("Suspense");case 19:return Nd("SuspenseList");case 0:case 2:case 15:return n=qv(n.type,!1),n;case 11:return n=qv(n.type.render,!1),n;case 1:return n=qv(n.type,!0),n;default:return""}}function Gy(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Lc:return"Fragment";case Pc:return"Portal";case jy:return"Profiler";case ZA:return"StrictMode";case zy:return"Suspense";case Hy:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case y3:return(n.displayName||"Context")+".Consumer";case x3:return(n._context.displayName||"Context")+".Provider";case e_:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case t_:return e=n.displayName||null,e!==null?e:Gy(n.type)||"Memo";case Bo:e=n._payload,n=n._init;try{return Gy(n(e))}catch{}}return null}function uI(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gy(e);case 8:return e===ZA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ra(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _3(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dI(n){var e=_3(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ap(n){n._valueTracker||(n._valueTracker=dI(n))}function w3(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=_3(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function rg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Vy(n,e){var t=e.checked;return gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function tb(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=ra(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S3(n,e){e=e.checked,e!=null&&$A(n,"checked",e,!1)}function Wy(n,e){S3(n,e);var t=ra(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Xy(n,e.type,t):e.hasOwnProperty("defaultValue")&&Xy(n,e.type,ra(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function nb(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Xy(n,e,t){(e!=="number"||rg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Bd=Array.isArray;function Qc(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+ra(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Jy(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return gn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ib(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Pe(92));if(Bd(t)){if(1<t.length)throw Error(Pe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ra(t)}}function M3(n,e){var t=ra(e.value),i=ra(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function rb(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function b3(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ky(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?b3(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var _p,E3=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(_p=_p||document.createElement("div"),_p.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_p.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function oh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Ud={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hI=["Webkit","ms","Moz","O"];Object.keys(Ud).forEach(function(n){hI.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Ud[e]=Ud[n]})});function C3(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ud.hasOwnProperty(n)&&Ud[n]?(""+e).trim():e+"px"}function T3(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=C3(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var fI=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yy(n,e){if(e){if(fI[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function qy(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qy=null;function n_(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $y=null,$c=null,Zc=null;function sb(n){if(n=Gh(n)){if(typeof $y!="function")throw Error(Pe(280));var e=n.stateNode;e&&(e=e0(e),$y(n.stateNode,n.type,e))}}function R3(n){$c?Zc?Zc.push(n):Zc=[n]:$c=n}function P3(){if($c){var n=$c,e=Zc;if(Zc=$c=null,sb(n),e)for(n=0;n<e.length;n++)sb(e[n])}}function L3(n,e){return n(e)}function N3(){}var Qv=!1;function B3(n,e,t){if(Qv)return n(e,t);Qv=!0;try{return L3(n,e,t)}finally{Qv=!1,($c!==null||Zc!==null)&&(N3(),P3())}}function ah(n,e){var t=n.stateNode;if(t===null)return null;var i=e0(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Pe(231,e,typeof t));return t}var Zy=!1;if(no)try{var sd={};Object.defineProperty(sd,"passive",{get:function(){Zy=!0}}),window.addEventListener("test",sd,sd),window.removeEventListener("test",sd,sd)}catch{Zy=!1}function pI(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var jd=!1,sg=null,og=!1,e1=null,mI={onError:function(n){jd=!0,sg=n}};function gI(n,e,t,i,r,s,o,a,l){jd=!1,sg=null,pI.apply(mI,arguments)}function vI(n,e,t,i,r,s,o,a,l){if(gI.apply(this,arguments),jd){if(jd){var c=sg;jd=!1,sg=null}else throw Error(Pe(198));og||(og=!0,e1=c)}}function Pl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function D3(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function ob(n){if(Pl(n)!==n)throw Error(Pe(188))}function xI(n){var e=n.alternate;if(!e){if(e=Pl(n),e===null)throw Error(Pe(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return ob(r),n;if(s===i)return ob(r),e;s=s.sibling}throw Error(Pe(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Pe(189))}}if(t.alternate!==i)throw Error(Pe(190))}if(t.tag!==3)throw Error(Pe(188));return t.stateNode.current===t?n:e}function I3(n){return n=xI(n),n!==null?k3(n):null}function k3(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=k3(n);if(e!==null)return e;n=n.sibling}return null}var F3=ar.unstable_scheduleCallback,ab=ar.unstable_cancelCallback,yI=ar.unstable_shouldYield,AI=ar.unstable_requestPaint,Pn=ar.unstable_now,_I=ar.unstable_getCurrentPriorityLevel,i_=ar.unstable_ImmediatePriority,O3=ar.unstable_UserBlockingPriority,ag=ar.unstable_NormalPriority,wI=ar.unstable_LowPriority,U3=ar.unstable_IdlePriority,qg=null,As=null;function SI(n){if(As&&typeof As.onCommitFiberRoot=="function")try{As.onCommitFiberRoot(qg,n,void 0,(n.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:EI,MI=Math.log,bI=Math.LN2;function EI(n){return n>>>=0,n===0?32:31-(MI(n)/bI|0)|0}var wp=64,Sp=4194304;function Dd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function lg(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Dd(a):(s&=o,s!==0&&(i=Dd(s)))}else o=t&~r,o!==0?i=Dd(o):s!==0&&(i=Dd(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-qr(e),r=1<<t,i|=n[t],e&=~r;return i}function CI(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TI(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-qr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=CI(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function t1(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function j3(){var n=wp;return wp<<=1,!(wp&4194240)&&(wp=64),n}function $v(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function zh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-qr(e),n[e]=t}function RI(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-qr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function r_(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-qr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Jt=0;function z3(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var H3,s_,G3,V3,W3,n1=!1,Mp=[],zo=null,Ho=null,Go=null,lh=new Map,ch=new Map,ko=[],PI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lb(n,e){switch(n){case"focusin":case"focusout":zo=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":Go=null;break;case"pointerover":case"pointerout":lh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ch.delete(e.pointerId)}}function od(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Gh(e),e!==null&&s_(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function LI(n,e,t,i,r){switch(e){case"focusin":return zo=od(zo,n,e,t,i,r),!0;case"dragenter":return Ho=od(Ho,n,e,t,i,r),!0;case"mouseover":return Go=od(Go,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return lh.set(s,od(lh.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ch.set(s,od(ch.get(s)||null,n,e,t,i,r)),!0}return!1}function X3(n){var e=Za(n.target);if(e!==null){var t=Pl(e);if(t!==null){if(e=t.tag,e===13){if(e=D3(t),e!==null){n.blockedOn=e,W3(n.priority,function(){G3(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Fm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=i1(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Qy=i,t.target.dispatchEvent(i),Qy=null}else return e=Gh(t),e!==null&&s_(e),n.blockedOn=t,!1;e.shift()}return!0}function cb(n,e,t){Fm(n)&&t.delete(e)}function NI(){n1=!1,zo!==null&&Fm(zo)&&(zo=null),Ho!==null&&Fm(Ho)&&(Ho=null),Go!==null&&Fm(Go)&&(Go=null),lh.forEach(cb),ch.forEach(cb)}function ad(n,e){n.blockedOn===e&&(n.blockedOn=null,n1||(n1=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,NI)))}function uh(n){function e(r){return ad(r,n)}if(0<Mp.length){ad(Mp[0],n);for(var t=1;t<Mp.length;t++){var i=Mp[t];i.blockedOn===n&&(i.blockedOn=null)}}for(zo!==null&&ad(zo,n),Ho!==null&&ad(Ho,n),Go!==null&&ad(Go,n),lh.forEach(e),ch.forEach(e),t=0;t<ko.length;t++)i=ko[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<ko.length&&(t=ko[0],t.blockedOn===null);)X3(t),t.blockedOn===null&&ko.shift()}var eu=co.ReactCurrentBatchConfig,cg=!0;function BI(n,e,t,i){var r=Jt,s=eu.transition;eu.transition=null;try{Jt=1,o_(n,e,t,i)}finally{Jt=r,eu.transition=s}}function DI(n,e,t,i){var r=Jt,s=eu.transition;eu.transition=null;try{Jt=4,o_(n,e,t,i)}finally{Jt=r,eu.transition=s}}function o_(n,e,t,i){if(cg){var r=i1(n,e,t,i);if(r===null)lx(n,e,i,ug,t),lb(n,i);else if(LI(r,n,e,t,i))i.stopPropagation();else if(lb(n,i),e&4&&-1<PI.indexOf(n)){for(;r!==null;){var s=Gh(r);if(s!==null&&H3(s),s=i1(n,e,t,i),s===null&&lx(n,e,i,ug,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else lx(n,e,i,null,t)}}var ug=null;function i1(n,e,t,i){if(ug=null,n=n_(i),n=Za(n),n!==null)if(e=Pl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=D3(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return ug=n,null}function J3(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_I()){case i_:return 1;case O3:return 4;case ag:case wI:return 16;case U3:return 536870912;default:return 16}default:return 16}}var Oo=null,a_=null,Om=null;function K3(){if(Om)return Om;var n,e=a_,t=e.length,i,r="value"in Oo?Oo.value:Oo.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Om=r.slice(n,1<i?1-i:void 0)}function Um(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function bp(){return!0}function ub(){return!1}function ur(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bp:ub,this.isPropagationStopped=ub,this}return gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=bp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=bp)},persist:function(){},isPersistent:bp}),e}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l_=ur(bu),Hh=gn({},bu,{view:0,detail:0}),II=ur(Hh),Zv,ex,ld,Qg=gn({},Hh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c_,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ld&&(ld&&n.type==="mousemove"?(Zv=n.screenX-ld.screenX,ex=n.screenY-ld.screenY):ex=Zv=0,ld=n),Zv)},movementY:function(n){return"movementY"in n?n.movementY:ex}}),db=ur(Qg),kI=gn({},Qg,{dataTransfer:0}),FI=ur(kI),OI=gn({},Hh,{relatedTarget:0}),tx=ur(OI),UI=gn({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),jI=ur(UI),zI=gn({},bu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),HI=ur(zI),GI=gn({},bu,{data:0}),hb=ur(GI),VI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JI(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=XI[n])?!!e[n]:!1}function c_(){return JI}var KI=gn({},Hh,{key:function(n){if(n.key){var e=VI[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Um(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?WI[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c_,charCode:function(n){return n.type==="keypress"?Um(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Um(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),YI=ur(KI),qI=gn({},Qg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fb=ur(qI),QI=gn({},Hh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c_}),$I=ur(QI),ZI=gn({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),ek=ur(ZI),tk=gn({},Qg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),nk=ur(tk),ik=[9,13,27,32],u_=no&&"CompositionEvent"in window,zd=null;no&&"documentMode"in document&&(zd=document.documentMode);var rk=no&&"TextEvent"in window&&!zd,Y3=no&&(!u_||zd&&8<zd&&11>=zd),pb=String.fromCharCode(32),mb=!1;function q3(n,e){switch(n){case"keyup":return ik.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q3(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Nc=!1;function sk(n,e){switch(n){case"compositionend":return Q3(e);case"keypress":return e.which!==32?null:(mb=!0,pb);case"textInput":return n=e.data,n===pb&&mb?null:n;default:return null}}function ok(n,e){if(Nc)return n==="compositionend"||!u_&&q3(n,e)?(n=K3(),Om=a_=Oo=null,Nc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y3&&e.locale!=="ko"?null:e.data;default:return null}}var ak={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!ak[n.type]:e==="textarea"}function $3(n,e,t,i){R3(i),e=dg(e,"onChange"),0<e.length&&(t=new l_("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Hd=null,dh=null;function lk(n){cR(n,0)}function $g(n){var e=Ic(n);if(w3(e))return n}function ck(n,e){if(n==="change")return e}var Z3=!1;if(no){var nx;if(no){var ix="oninput"in document;if(!ix){var vb=document.createElement("div");vb.setAttribute("oninput","return;"),ix=typeof vb.oninput=="function"}nx=ix}else nx=!1;Z3=nx&&(!document.documentMode||9<document.documentMode)}function xb(){Hd&&(Hd.detachEvent("onpropertychange",eR),dh=Hd=null)}function eR(n){if(n.propertyName==="value"&&$g(dh)){var e=[];$3(e,dh,n,n_(n)),B3(lk,e)}}function uk(n,e,t){n==="focusin"?(xb(),Hd=e,dh=t,Hd.attachEvent("onpropertychange",eR)):n==="focusout"&&xb()}function dk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $g(dh)}function hk(n,e){if(n==="click")return $g(e)}function fk(n,e){if(n==="input"||n==="change")return $g(e)}function pk(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var es=typeof Object.is=="function"?Object.is:pk;function hh(n,e){if(es(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Uy.call(e,r)||!es(n[r],e[r]))return!1}return!0}function yb(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ab(n,e){var t=yb(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=yb(t)}}function tR(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?tR(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function nR(){for(var n=window,e=rg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=rg(n.document)}return e}function d_(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function mk(n){var e=nR(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&tR(t.ownerDocument.documentElement,t)){if(i!==null&&d_(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Ab(t,s);var o=Ab(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var gk=no&&"documentMode"in document&&11>=document.documentMode,Bc=null,r1=null,Gd=null,s1=!1;function _b(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;s1||Bc==null||Bc!==rg(i)||(i=Bc,"selectionStart"in i&&d_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gd&&hh(Gd,i)||(Gd=i,i=dg(r1,"onSelect"),0<i.length&&(e=new l_("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Bc)))}function Ep(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Dc={animationend:Ep("Animation","AnimationEnd"),animationiteration:Ep("Animation","AnimationIteration"),animationstart:Ep("Animation","AnimationStart"),transitionend:Ep("Transition","TransitionEnd")},rx={},iR={};no&&(iR=document.createElement("div").style,"AnimationEvent"in window||(delete Dc.animationend.animation,delete Dc.animationiteration.animation,delete Dc.animationstart.animation),"TransitionEvent"in window||delete Dc.transitionend.transition);function Zg(n){if(rx[n])return rx[n];if(!Dc[n])return n;var e=Dc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in iR)return rx[n]=e[t];return n}var rR=Zg("animationend"),sR=Zg("animationiteration"),oR=Zg("animationstart"),aR=Zg("transitionend"),lR=new Map,wb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(n,e){lR.set(n,e),Rl(e,[n])}for(var sx=0;sx<wb.length;sx++){var ox=wb[sx],vk=ox.toLowerCase(),xk=ox[0].toUpperCase()+ox.slice(1);fa(vk,"on"+xk)}fa(rR,"onAnimationEnd");fa(sR,"onAnimationIteration");fa(oR,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(aR,"onTransitionEnd");lu("onMouseEnter",["mouseout","mouseover"]);lu("onMouseLeave",["mouseout","mouseover"]);lu("onPointerEnter",["pointerout","pointerover"]);lu("onPointerLeave",["pointerout","pointerover"]);Rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Id));function Sb(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,vI(i,e,void 0,n),n.currentTarget=null}function cR(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Sb(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Sb(r,a,c),s=l}}}if(og)throw n=e1,og=!1,e1=null,n}function tn(n,e){var t=e[u1];t===void 0&&(t=e[u1]=new Set);var i=n+"__bubble";t.has(i)||(uR(e,n,2,!1),t.add(i))}function ax(n,e,t){var i=0;e&&(i|=4),uR(t,n,i,e)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function fh(n){if(!n[Cp]){n[Cp]=!0,v3.forEach(function(t){t!=="selectionchange"&&(yk.has(t)||ax(t,!1,n),ax(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Cp]||(e[Cp]=!0,ax("selectionchange",!1,e))}}function uR(n,e,t,i){switch(J3(e)){case 1:var r=BI;break;case 4:r=DI;break;default:r=o_}t=r.bind(null,e,t,n),r=void 0,!Zy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function lx(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Za(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}B3(function(){var c=s,d=n_(t),f=[];e:{var p=lR.get(n);if(p!==void 0){var g=l_,x=n;switch(n){case"keypress":if(Um(t)===0)break e;case"keydown":case"keyup":g=YI;break;case"focusin":x="focus",g=tx;break;case"focusout":x="blur",g=tx;break;case"beforeblur":case"afterblur":g=tx;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=db;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=FI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=$I;break;case rR:case sR:case oR:g=jI;break;case aR:g=ek;break;case"scroll":g=II;break;case"wheel":g=nk;break;case"copy":case"cut":case"paste":g=HI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=fb}var w=(e&4)!==0,A=!w&&n==="scroll",v=w?p!==null?p+"Capture":null:p;w=[];for(var S=c,_;S!==null;){_=S;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,v!==null&&(b=ah(S,v),b!=null&&w.push(ph(S,b,_)))),A)break;S=S.return}0<w.length&&(p=new g(p,x,null,t,d),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&t!==Qy&&(x=t.relatedTarget||t.fromElement)&&(Za(x)||x[io]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(x=t.relatedTarget||t.toElement,g=c,x=x?Za(x):null,x!==null&&(A=Pl(x),x!==A||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=c),g!==x)){if(w=db,b="onMouseLeave",v="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(w=fb,b="onPointerLeave",v="onPointerEnter",S="pointer"),A=g==null?p:Ic(g),_=x==null?p:Ic(x),p=new w(b,S+"leave",g,t,d),p.target=A,p.relatedTarget=_,b=null,Za(d)===c&&(w=new w(v,S+"enter",x,t,d),w.target=_,w.relatedTarget=A,b=w),A=b,g&&x)t:{for(w=g,v=x,S=0,_=w;_;_=$l(_))S++;for(_=0,b=v;b;b=$l(b))_++;for(;0<S-_;)w=$l(w),S--;for(;0<_-S;)v=$l(v),_--;for(;S--;){if(w===v||v!==null&&w===v.alternate)break t;w=$l(w),v=$l(v)}w=null}else w=null;g!==null&&Mb(f,p,g,w,!1),x!==null&&A!==null&&Mb(f,A,x,w,!0)}}e:{if(p=c?Ic(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var C=ck;else if(gb(p))if(Z3)C=fk;else{C=dk;var T=uk}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=hk);if(C&&(C=C(n,c))){$3(f,C,t,d);break e}T&&T(n,p,c),n==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&Xy(p,"number",p.value)}switch(T=c?Ic(c):window,n){case"focusin":(gb(T)||T.contentEditable==="true")&&(Bc=T,r1=c,Gd=null);break;case"focusout":Gd=r1=Bc=null;break;case"mousedown":s1=!0;break;case"contextmenu":case"mouseup":case"dragend":s1=!1,_b(f,t,d);break;case"selectionchange":if(gk)break;case"keydown":case"keyup":_b(f,t,d)}var N;if(u_)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Nc?q3(n,t)&&(B="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(B="onCompositionStart");B&&(Y3&&t.locale!=="ko"&&(Nc||B!=="onCompositionStart"?B==="onCompositionEnd"&&Nc&&(N=K3()):(Oo=d,a_="value"in Oo?Oo.value:Oo.textContent,Nc=!0)),T=dg(c,B),0<T.length&&(B=new hb(B,n,null,t,d),f.push({event:B,listeners:T}),N?B.data=N:(N=Q3(t),N!==null&&(B.data=N)))),(N=rk?sk(n,t):ok(n,t))&&(c=dg(c,"onBeforeInput"),0<c.length&&(d=new hb("onBeforeInput","beforeinput",null,t,d),f.push({event:d,listeners:c}),d.data=N))}cR(f,e)})}function ph(n,e,t){return{instance:n,listener:e,currentTarget:t}}function dg(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=ah(n,t),s!=null&&i.unshift(ph(n,s,r)),s=ah(n,e),s!=null&&i.push(ph(n,s,r))),n=n.return}return i}function $l(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Mb(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=ah(t,s),l!=null&&o.unshift(ph(t,l,a))):r||(l=ah(t,s),l!=null&&o.push(ph(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Ak=/\r\n?/g,_k=/\u0000|\uFFFD/g;function bb(n){return(typeof n=="string"?n:""+n).replace(Ak,`
`).replace(_k,"")}function Tp(n,e,t){if(e=bb(e),bb(n)!==e&&t)throw Error(Pe(425))}function hg(){}var o1=null,a1=null;function l1(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c1=typeof setTimeout=="function"?setTimeout:void 0,wk=typeof clearTimeout=="function"?clearTimeout:void 0,Eb=typeof Promise=="function"?Promise:void 0,Sk=typeof queueMicrotask=="function"?queueMicrotask:typeof Eb<"u"?function(n){return Eb.resolve(null).then(n).catch(Mk)}:c1;function Mk(n){setTimeout(function(){throw n})}function cx(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),uh(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);uh(e)}function Vo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Cb(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Eu=Math.random().toString(36).slice(2),gs="__reactFiber$"+Eu,mh="__reactProps$"+Eu,io="__reactContainer$"+Eu,u1="__reactEvents$"+Eu,bk="__reactListeners$"+Eu,Ek="__reactHandles$"+Eu;function Za(n){var e=n[gs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[io]||t[gs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Cb(n);n!==null;){if(t=n[gs])return t;n=Cb(n)}return e}n=t,t=n.parentNode}return null}function Gh(n){return n=n[gs]||n[io],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ic(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Pe(33))}function e0(n){return n[mh]||null}var d1=[],kc=-1;function pa(n){return{current:n}}function nn(n){0>kc||(n.current=d1[kc],d1[kc]=null,kc--)}function $t(n,e){kc++,d1[kc]=n.current,n.current=e}var sa={},yi=pa(sa),Gi=pa(!1),vl=sa;function cu(n,e){var t=n.type.contextTypes;if(!t)return sa;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Vi(n){return n=n.childContextTypes,n!=null}function fg(){nn(Gi),nn(yi)}function Tb(n,e,t){if(yi.current!==sa)throw Error(Pe(168));$t(yi,e),$t(Gi,t)}function dR(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Pe(108,uI(n)||"Unknown",r));return gn({},t,i)}function pg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||sa,vl=yi.current,$t(yi,n),$t(Gi,Gi.current),!0}function Rb(n,e,t){var i=n.stateNode;if(!i)throw Error(Pe(169));t?(n=dR(n,e,vl),i.__reactInternalMemoizedMergedChildContext=n,nn(Gi),nn(yi),$t(yi,n)):nn(Gi),$t(Gi,t)}var Gs=null,t0=!1,ux=!1;function hR(n){Gs===null?Gs=[n]:Gs.push(n)}function Ck(n){t0=!0,hR(n)}function ma(){if(!ux&&Gs!==null){ux=!0;var n=0,e=Jt;try{var t=Gs;for(Jt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Gs=null,t0=!1}catch(r){throw Gs!==null&&(Gs=Gs.slice(n+1)),F3(i_,ma),r}finally{Jt=e,ux=!1}}return null}var Fc=[],Oc=0,mg=null,gg=0,Cr=[],Tr=0,xl=null,Xs=1,Js="";function Ga(n,e){Fc[Oc++]=gg,Fc[Oc++]=mg,mg=n,gg=e}function fR(n,e,t){Cr[Tr++]=Xs,Cr[Tr++]=Js,Cr[Tr++]=xl,xl=n;var i=Xs;n=Js;var r=32-qr(i)-1;i&=~(1<<r),t+=1;var s=32-qr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Xs=1<<32-qr(e)+r|t<<r|i,Js=s+n}else Xs=1<<s|t<<r|i,Js=n}function h_(n){n.return!==null&&(Ga(n,1),fR(n,1,0))}function f_(n){for(;n===mg;)mg=Fc[--Oc],Fc[Oc]=null,gg=Fc[--Oc],Fc[Oc]=null;for(;n===xl;)xl=Cr[--Tr],Cr[Tr]=null,Js=Cr[--Tr],Cr[Tr]=null,Xs=Cr[--Tr],Cr[Tr]=null}var sr=null,nr=null,sn=!1,Kr=null;function pR(n,e){var t=Pr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Pb(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,sr=n,nr=Vo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,sr=n,nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=xl!==null?{id:Xs,overflow:Js}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Pr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,sr=n,nr=null,!0):!1;default:return!1}}function h1(n){return(n.mode&1)!==0&&(n.flags&128)===0}function f1(n){if(sn){var e=nr;if(e){var t=e;if(!Pb(n,e)){if(h1(n))throw Error(Pe(418));e=Vo(t.nextSibling);var i=sr;e&&Pb(n,e)?pR(i,t):(n.flags=n.flags&-4097|2,sn=!1,sr=n)}}else{if(h1(n))throw Error(Pe(418));n.flags=n.flags&-4097|2,sn=!1,sr=n}}}function Lb(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sr=n}function Rp(n){if(n!==sr)return!1;if(!sn)return Lb(n),sn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!l1(n.type,n.memoizedProps)),e&&(e=nr)){if(h1(n))throw mR(),Error(Pe(418));for(;e;)pR(n,e),e=Vo(e.nextSibling)}if(Lb(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Pe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){nr=Vo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}nr=null}}else nr=sr?Vo(n.stateNode.nextSibling):null;return!0}function mR(){for(var n=nr;n;)n=Vo(n.nextSibling)}function uu(){nr=sr=null,sn=!1}function p_(n){Kr===null?Kr=[n]:Kr.push(n)}var Tk=co.ReactCurrentBatchConfig;function cd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Pe(309));var i=t.stateNode}if(!i)throw Error(Pe(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Pe(284));if(!t._owner)throw Error(Pe(290,n))}return n}function Pp(n,e){throw n=Object.prototype.toString.call(e),Error(Pe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Nb(n){var e=n._init;return e(n._payload)}function gR(n){function e(v,S){if(n){var _=v.deletions;_===null?(v.deletions=[S],v.flags|=16):_.push(S)}}function t(v,S){if(!n)return null;for(;S!==null;)e(v,S),S=S.sibling;return null}function i(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function r(v,S){return v=Ko(v,S),v.index=0,v.sibling=null,v}function s(v,S,_){return v.index=_,n?(_=v.alternate,_!==null?(_=_.index,_<S?(v.flags|=2,S):_):(v.flags|=2,S)):(v.flags|=1048576,S)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,S,_,b){return S===null||S.tag!==6?(S=vx(_,v.mode,b),S.return=v,S):(S=r(S,_),S.return=v,S)}function l(v,S,_,b){var C=_.type;return C===Lc?d(v,S,_.props.children,b,_.key):S!==null&&(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Bo&&Nb(C)===S.type)?(b=r(S,_.props),b.ref=cd(v,S,_),b.return=v,b):(b=Xm(_.type,_.key,_.props,null,v.mode,b),b.ref=cd(v,S,_),b.return=v,b)}function c(v,S,_,b){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=xx(_,v.mode,b),S.return=v,S):(S=r(S,_.children||[]),S.return=v,S)}function d(v,S,_,b,C){return S===null||S.tag!==7?(S=ul(_,v.mode,b,C),S.return=v,S):(S=r(S,_),S.return=v,S)}function f(v,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=vx(""+S,v.mode,_),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yp:return _=Xm(S.type,S.key,S.props,null,v.mode,_),_.ref=cd(v,null,S),_.return=v,_;case Pc:return S=xx(S,v.mode,_),S.return=v,S;case Bo:var b=S._init;return f(v,b(S._payload),_)}if(Bd(S)||rd(S))return S=ul(S,v.mode,_,null),S.return=v,S;Pp(v,S)}return null}function p(v,S,_,b){var C=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return C!==null?null:a(v,S,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yp:return _.key===C?l(v,S,_,b):null;case Pc:return _.key===C?c(v,S,_,b):null;case Bo:return C=_._init,p(v,S,C(_._payload),b)}if(Bd(_)||rd(_))return C!==null?null:d(v,S,_,b,null);Pp(v,_)}return null}function g(v,S,_,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(_)||null,a(S,v,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yp:return v=v.get(b.key===null?_:b.key)||null,l(S,v,b,C);case Pc:return v=v.get(b.key===null?_:b.key)||null,c(S,v,b,C);case Bo:var T=b._init;return g(v,S,_,T(b._payload),C)}if(Bd(b)||rd(b))return v=v.get(_)||null,d(S,v,b,C,null);Pp(S,b)}return null}function x(v,S,_,b){for(var C=null,T=null,N=S,B=S=0,P=null;N!==null&&B<_.length;B++){N.index>B?(P=N,N=null):P=N.sibling;var L=p(v,N,_[B],b);if(L===null){N===null&&(N=P);break}n&&N&&L.alternate===null&&e(v,N),S=s(L,S,B),T===null?C=L:T.sibling=L,T=L,N=P}if(B===_.length)return t(v,N),sn&&Ga(v,B),C;if(N===null){for(;B<_.length;B++)N=f(v,_[B],b),N!==null&&(S=s(N,S,B),T===null?C=N:T.sibling=N,T=N);return sn&&Ga(v,B),C}for(N=i(v,N);B<_.length;B++)P=g(N,v,B,_[B],b),P!==null&&(n&&P.alternate!==null&&N.delete(P.key===null?B:P.key),S=s(P,S,B),T===null?C=P:T.sibling=P,T=P);return n&&N.forEach(function(z){return e(v,z)}),sn&&Ga(v,B),C}function w(v,S,_,b){var C=rd(_);if(typeof C!="function")throw Error(Pe(150));if(_=C.call(_),_==null)throw Error(Pe(151));for(var T=C=null,N=S,B=S=0,P=null,L=_.next();N!==null&&!L.done;B++,L=_.next()){N.index>B?(P=N,N=null):P=N.sibling;var z=p(v,N,L.value,b);if(z===null){N===null&&(N=P);break}n&&N&&z.alternate===null&&e(v,N),S=s(z,S,B),T===null?C=z:T.sibling=z,T=z,N=P}if(L.done)return t(v,N),sn&&Ga(v,B),C;if(N===null){for(;!L.done;B++,L=_.next())L=f(v,L.value,b),L!==null&&(S=s(L,S,B),T===null?C=L:T.sibling=L,T=L);return sn&&Ga(v,B),C}for(N=i(v,N);!L.done;B++,L=_.next())L=g(N,v,B,L.value,b),L!==null&&(n&&L.alternate!==null&&N.delete(L.key===null?B:L.key),S=s(L,S,B),T===null?C=L:T.sibling=L,T=L);return n&&N.forEach(function(ee){return e(v,ee)}),sn&&Ga(v,B),C}function A(v,S,_,b){if(typeof _=="object"&&_!==null&&_.type===Lc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case yp:e:{for(var C=_.key,T=S;T!==null;){if(T.key===C){if(C=_.type,C===Lc){if(T.tag===7){t(v,T.sibling),S=r(T,_.props.children),S.return=v,v=S;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Bo&&Nb(C)===T.type){t(v,T.sibling),S=r(T,_.props),S.ref=cd(v,T,_),S.return=v,v=S;break e}t(v,T);break}else e(v,T);T=T.sibling}_.type===Lc?(S=ul(_.props.children,v.mode,b,_.key),S.return=v,v=S):(b=Xm(_.type,_.key,_.props,null,v.mode,b),b.ref=cd(v,S,_),b.return=v,v=b)}return o(v);case Pc:e:{for(T=_.key;S!==null;){if(S.key===T)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){t(v,S.sibling),S=r(S,_.children||[]),S.return=v,v=S;break e}else{t(v,S);break}else e(v,S);S=S.sibling}S=xx(_,v.mode,b),S.return=v,v=S}return o(v);case Bo:return T=_._init,A(v,S,T(_._payload),b)}if(Bd(_))return x(v,S,_,b);if(rd(_))return w(v,S,_,b);Pp(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(t(v,S.sibling),S=r(S,_),S.return=v,v=S):(t(v,S),S=vx(_,v.mode,b),S.return=v,v=S),o(v)):t(v,S)}return A}var du=gR(!0),vR=gR(!1),vg=pa(null),xg=null,Uc=null,m_=null;function g_(){m_=Uc=xg=null}function v_(n){var e=vg.current;nn(vg),n._currentValue=e}function p1(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function tu(n,e){xg=n,m_=Uc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Hi=!0),n.firstContext=null)}function Nr(n){var e=n._currentValue;if(m_!==n)if(n={context:n,memoizedValue:e,next:null},Uc===null){if(xg===null)throw Error(Pe(308));Uc=n,xg.dependencies={lanes:0,firstContext:n}}else Uc=Uc.next=n;return e}var el=null;function x_(n){el===null?el=[n]:el.push(n)}function xR(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,x_(e)):(t.next=r.next,r.next=t),e.interleaved=t,ro(n,i)}function ro(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Do=!1;function y_(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yR(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Qs(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Wo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,It&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ro(n,t)}return r=i.interleaved,r===null?(e.next=e,x_(i)):(e.next=r.next,r.next=e),i.interleaved=e,ro(n,t)}function jm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,r_(n,t)}}function Bb(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function yg(n,e,t,i){var r=n.updateQueue;Do=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=n,w=a;switch(p=e,g=t,w.tag){case 1:if(x=w.payload,typeof x=="function"){f=x.call(g,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,p=typeof x=="function"?x.call(g,f,p):x,p==null)break e;f=gn({},f,p);break e;case 2:Do=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(d===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Al|=o,n.lanes=o,n.memoizedState=f}}function Db(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Pe(191,r));r.call(i)}}}var Vh={},_s=pa(Vh),gh=pa(Vh),vh=pa(Vh);function tl(n){if(n===Vh)throw Error(Pe(174));return n}function A_(n,e){switch($t(vh,e),$t(gh,n),$t(_s,Vh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ky(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ky(e,n)}nn(_s),$t(_s,e)}function hu(){nn(_s),nn(gh),nn(vh)}function AR(n){tl(vh.current);var e=tl(_s.current),t=Ky(e,n.type);e!==t&&($t(gh,n),$t(_s,t))}function __(n){gh.current===n&&(nn(_s),nn(gh))}var dn=pa(0);function Ag(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dx=[];function w_(){for(var n=0;n<dx.length;n++)dx[n]._workInProgressVersionPrimary=null;dx.length=0}var zm=co.ReactCurrentDispatcher,hx=co.ReactCurrentBatchConfig,yl=0,mn=null,Hn=null,qn=null,_g=!1,Vd=!1,xh=0,Rk=0;function fi(){throw Error(Pe(321))}function S_(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!es(n[t],e[t]))return!1;return!0}function M_(n,e,t,i,r,s){if(yl=s,mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zm.current=n===null||n.memoizedState===null?Bk:Dk,n=t(i,r),Vd){s=0;do{if(Vd=!1,xh=0,25<=s)throw Error(Pe(301));s+=1,qn=Hn=null,e.updateQueue=null,zm.current=Ik,n=t(i,r)}while(Vd)}if(zm.current=wg,e=Hn!==null&&Hn.next!==null,yl=0,qn=Hn=mn=null,_g=!1,e)throw Error(Pe(300));return n}function b_(){var n=xh!==0;return xh=0,n}function ms(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?mn.memoizedState=qn=n:qn=qn.next=n,qn}function Br(){if(Hn===null){var n=mn.alternate;n=n!==null?n.memoizedState:null}else n=Hn.next;var e=qn===null?mn.memoizedState:qn.next;if(e!==null)qn=e,Hn=n;else{if(n===null)throw Error(Pe(310));Hn=n,n={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},qn===null?mn.memoizedState=qn=n:qn=qn.next=n}return qn}function yh(n,e){return typeof e=="function"?e(n):e}function fx(n){var e=Br(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=n;var i=Hn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((yl&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,mn.lanes|=d,Al|=d}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,es(i,e.memoizedState)||(Hi=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,mn.lanes|=s,Al|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function px(n){var e=Br(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);es(s,e.memoizedState)||(Hi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function _R(){}function wR(n,e){var t=mn,i=Br(),r=e(),s=!es(i.memoizedState,r);if(s&&(i.memoizedState=r,Hi=!0),i=i.queue,E_(bR.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||qn!==null&&qn.memoizedState.tag&1){if(t.flags|=2048,Ah(9,MR.bind(null,t,i,r,e),void 0,null),$n===null)throw Error(Pe(349));yl&30||SR(t,e,r)}return r}function SR(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=mn.updateQueue,e===null?(e={lastEffect:null,stores:null},mn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function MR(n,e,t,i){e.value=t,e.getSnapshot=i,ER(e)&&CR(n)}function bR(n,e,t){return t(function(){ER(e)&&CR(n)})}function ER(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!es(n,t)}catch{return!0}}function CR(n){var e=ro(n,1);e!==null&&Qr(e,n,1,-1)}function Ib(n){var e=ms();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:n},e.queue=n,n=n.dispatch=Nk.bind(null,mn,n),[e.memoizedState,n]}function Ah(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=mn.updateQueue,e===null?(e={lastEffect:null,stores:null},mn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function TR(){return Br().memoizedState}function Hm(n,e,t,i){var r=ms();mn.flags|=n,r.memoizedState=Ah(1|e,t,void 0,i===void 0?null:i)}function n0(n,e,t,i){var r=Br();i=i===void 0?null:i;var s=void 0;if(Hn!==null){var o=Hn.memoizedState;if(s=o.destroy,i!==null&&S_(i,o.deps)){r.memoizedState=Ah(e,t,s,i);return}}mn.flags|=n,r.memoizedState=Ah(1|e,t,s,i)}function kb(n,e){return Hm(8390656,8,n,e)}function E_(n,e){return n0(2048,8,n,e)}function RR(n,e){return n0(4,2,n,e)}function PR(n,e){return n0(4,4,n,e)}function LR(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function NR(n,e,t){return t=t!=null?t.concat([n]):null,n0(4,4,LR.bind(null,e,n),t)}function C_(){}function BR(n,e){var t=Br();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&S_(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function DR(n,e){var t=Br();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&S_(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function IR(n,e,t){return yl&21?(es(t,e)||(t=j3(),mn.lanes|=t,Al|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Hi=!0),n.memoizedState=t)}function Pk(n,e){var t=Jt;Jt=t!==0&&4>t?t:4,n(!0);var i=hx.transition;hx.transition={};try{n(!1),e()}finally{Jt=t,hx.transition=i}}function kR(){return Br().memoizedState}function Lk(n,e,t){var i=Jo(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},FR(n))OR(e,t);else if(t=xR(n,e,t,i),t!==null){var r=Pi();Qr(t,n,i,r),UR(t,e,i)}}function Nk(n,e,t){var i=Jo(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(FR(n))OR(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,es(a,o)){var l=e.interleaved;l===null?(r.next=r,x_(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=xR(n,e,r,i),t!==null&&(r=Pi(),Qr(t,n,i,r),UR(t,e,i))}}function FR(n){var e=n.alternate;return n===mn||e!==null&&e===mn}function OR(n,e){Vd=_g=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function UR(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,r_(n,t)}}var wg={readContext:Nr,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Bk={readContext:Nr,useCallback:function(n,e){return ms().memoizedState=[n,e===void 0?null:e],n},useContext:Nr,useEffect:kb,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Hm(4194308,4,LR.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Hm(4194308,4,n,e)},useInsertionEffect:function(n,e){return Hm(4,2,n,e)},useMemo:function(n,e){var t=ms();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=ms();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=Lk.bind(null,mn,n),[i.memoizedState,n]},useRef:function(n){var e=ms();return n={current:n},e.memoizedState=n},useState:Ib,useDebugValue:C_,useDeferredValue:function(n){return ms().memoizedState=n},useTransition:function(){var n=Ib(!1),e=n[0];return n=Pk.bind(null,n[1]),ms().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=mn,r=ms();if(sn){if(t===void 0)throw Error(Pe(407));t=t()}else{if(t=e(),$n===null)throw Error(Pe(349));yl&30||SR(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,kb(bR.bind(null,i,s,n),[n]),i.flags|=2048,Ah(9,MR.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=ms(),e=$n.identifierPrefix;if(sn){var t=Js,i=Xs;t=(i&~(1<<32-qr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=xh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Rk++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Dk={readContext:Nr,useCallback:BR,useContext:Nr,useEffect:E_,useImperativeHandle:NR,useInsertionEffect:RR,useLayoutEffect:PR,useMemo:DR,useReducer:fx,useRef:TR,useState:function(){return fx(yh)},useDebugValue:C_,useDeferredValue:function(n){var e=Br();return IR(e,Hn.memoizedState,n)},useTransition:function(){var n=fx(yh)[0],e=Br().memoizedState;return[n,e]},useMutableSource:_R,useSyncExternalStore:wR,useId:kR,unstable_isNewReconciler:!1},Ik={readContext:Nr,useCallback:BR,useContext:Nr,useEffect:E_,useImperativeHandle:NR,useInsertionEffect:RR,useLayoutEffect:PR,useMemo:DR,useReducer:px,useRef:TR,useState:function(){return px(yh)},useDebugValue:C_,useDeferredValue:function(n){var e=Br();return Hn===null?e.memoizedState=n:IR(e,Hn.memoizedState,n)},useTransition:function(){var n=px(yh)[0],e=Br().memoizedState;return[n,e]},useMutableSource:_R,useSyncExternalStore:wR,useId:kR,unstable_isNewReconciler:!1};function Wr(n,e){if(n&&n.defaultProps){e=gn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function m1(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:gn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var i0={isMounted:function(n){return(n=n._reactInternals)?Pl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Pi(),r=Jo(n),s=Qs(i,r);s.payload=e,t!=null&&(s.callback=t),e=Wo(n,s,r),e!==null&&(Qr(e,n,r,i),jm(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Pi(),r=Jo(n),s=Qs(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Wo(n,s,r),e!==null&&(Qr(e,n,r,i),jm(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Pi(),i=Jo(n),r=Qs(t,i);r.tag=2,e!=null&&(r.callback=e),e=Wo(n,r,i),e!==null&&(Qr(e,n,i,t),jm(e,n,i))}};function Fb(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!hh(t,i)||!hh(r,s):!0}function jR(n,e,t){var i=!1,r=sa,s=e.contextType;return typeof s=="object"&&s!==null?s=Nr(s):(r=Vi(e)?vl:yi.current,i=e.contextTypes,s=(i=i!=null)?cu(n,r):sa),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=i0,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function Ob(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&i0.enqueueReplaceState(e,e.state,null)}function g1(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},y_(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Nr(s):(s=Vi(e)?vl:yi.current,r.context=cu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(m1(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&i0.enqueueReplaceState(r,r.state,null),yg(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function fu(n,e){try{var t="",i=e;do t+=cI(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function mx(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function v1(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var kk=typeof WeakMap=="function"?WeakMap:Map;function zR(n,e,t){t=Qs(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Mg||(Mg=!0,C1=i),v1(n,e)},t}function HR(n,e,t){t=Qs(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){v1(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){v1(n,e),typeof i!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Ub(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new kk;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=qk.bind(null,n,e,t),e.then(n,n))}function jb(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function zb(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Qs(-1,1),e.tag=2,Wo(t,e,1))),t.lanes|=1),n)}var Fk=co.ReactCurrentOwner,Hi=!1;function Ri(n,e,t,i){e.child=n===null?vR(e,null,t,i):du(e,n.child,t,i)}function Hb(n,e,t,i,r){t=t.render;var s=e.ref;return tu(e,r),i=M_(n,e,t,i,s,r),t=b_(),n!==null&&!Hi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,so(n,e,r)):(sn&&t&&h_(e),e.flags|=1,Ri(n,e,i,r),e.child)}function Gb(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!I_(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,GR(n,e,s,i,r)):(n=Xm(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:hh,t(o,i)&&n.ref===e.ref)return so(n,e,r)}return e.flags|=1,n=Ko(s,i),n.ref=e.ref,n.return=e,e.child=n}function GR(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(hh(s,i)&&n.ref===e.ref)if(Hi=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Hi=!0);else return e.lanes=n.lanes,so(n,e,r)}return x1(n,e,t,i,r)}function VR(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(zc,tr),tr|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,$t(zc,tr),tr|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,$t(zc,tr),tr|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,$t(zc,tr),tr|=i;return Ri(n,e,r,t),e.child}function WR(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function x1(n,e,t,i,r){var s=Vi(t)?vl:yi.current;return s=cu(e,s),tu(e,r),t=M_(n,e,t,i,s,r),i=b_(),n!==null&&!Hi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,so(n,e,r)):(sn&&i&&h_(e),e.flags|=1,Ri(n,e,t,r),e.child)}function Vb(n,e,t,i,r){if(Vi(t)){var s=!0;pg(e)}else s=!1;if(tu(e,r),e.stateNode===null)Gm(n,e),jR(e,t,i),g1(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Nr(c):(c=Vi(t)?vl:yi.current,c=cu(e,c));var d=t.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Ob(e,o,i,c),Do=!1;var p=e.memoizedState;o.state=p,yg(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Gi.current||Do?(typeof d=="function"&&(m1(e,t,d,i),l=e.memoizedState),(a=Do||Fb(e,t,a,i,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,yR(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Wr(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Nr(l):(l=Vi(t)?vl:yi.current,l=cu(e,l));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Ob(e,o,i,l),Do=!1,p=e.memoizedState,o.state=p,yg(e,i,o,r);var x=e.memoizedState;a!==f||p!==x||Gi.current||Do?(typeof g=="function"&&(m1(e,t,g,i),x=e.memoizedState),(c=Do||Fb(e,t,c,i,p,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),o.props=i,o.state=x,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return y1(n,e,t,i,s,r)}function y1(n,e,t,i,r,s){WR(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Rb(e,t,!1),so(n,e,s);i=e.stateNode,Fk.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=du(e,n.child,null,s),e.child=du(e,null,a,s)):Ri(n,e,a,s),e.memoizedState=i.state,r&&Rb(e,t,!0),e.child}function XR(n){var e=n.stateNode;e.pendingContext?Tb(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Tb(n,e.context,!1),A_(n,e.containerInfo)}function Wb(n,e,t,i,r){return uu(),p_(r),e.flags|=256,Ri(n,e,t,i),e.child}var A1={dehydrated:null,treeContext:null,retryLane:0};function _1(n){return{baseLanes:n,cachePool:null,transitions:null}}function JR(n,e,t){var i=e.pendingProps,r=dn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),$t(dn,r&1),n===null)return f1(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=o0(o,i,0,null),n=ul(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=_1(t),e.memoizedState=A1,n):T_(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return Ok(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ko(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ko(a,s):(s=ul(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?_1(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=A1,i}return s=n.child,n=s.sibling,i=Ko(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function T_(n,e){return e=o0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Lp(n,e,t,i){return i!==null&&p_(i),du(e,n.child,null,t),n=T_(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Ok(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=mx(Error(Pe(422))),Lp(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=o0({mode:"visible",children:i.children},r,0,null),s=ul(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&du(e,n.child,null,o),e.child.memoizedState=_1(o),e.memoizedState=A1,s);if(!(e.mode&1))return Lp(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Pe(419)),i=mx(s,i,void 0),Lp(n,e,o,i)}if(a=(o&n.childLanes)!==0,Hi||a){if(i=$n,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ro(n,r),Qr(i,n,r,-1))}return D_(),i=mx(Error(Pe(421))),Lp(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=Qk.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,nr=Vo(r.nextSibling),sr=e,sn=!0,Kr=null,n!==null&&(Cr[Tr++]=Xs,Cr[Tr++]=Js,Cr[Tr++]=xl,Xs=n.id,Js=n.overflow,xl=e),e=T_(e,i.children),e.flags|=4096,e)}function Xb(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),p1(n.return,e,t)}function gx(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function KR(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Ri(n,e,i.children,t),i=dn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Xb(n,t,e);else if(n.tag===19)Xb(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if($t(dn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Ag(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),gx(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Ag(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}gx(e,!0,t,null,s);break;case"together":gx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function so(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Al|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Pe(153));if(e.child!==null){for(n=e.child,t=Ko(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ko(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Uk(n,e,t){switch(e.tag){case 3:XR(e),uu();break;case 5:AR(e);break;case 1:Vi(e.type)&&pg(e);break;case 4:A_(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;$t(vg,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?($t(dn,dn.current&1),e.flags|=128,null):t&e.child.childLanes?JR(n,e,t):($t(dn,dn.current&1),n=so(n,e,t),n!==null?n.sibling:null);$t(dn,dn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return KR(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),$t(dn,dn.current),i)break;return null;case 22:case 23:return e.lanes=0,VR(n,e,t)}return so(n,e,t)}var YR,w1,qR,QR;YR=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};w1=function(){};qR=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,tl(_s.current);var s=null;switch(t){case"input":r=Vy(n,r),i=Vy(n,i),s=[];break;case"select":r=gn({},r,{value:void 0}),i=gn({},i,{value:void 0}),s=[];break;case"textarea":r=Jy(n,r),i=Jy(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=hg)}Yy(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};QR=function(n,e,t,i){t!==i&&(e.flags|=4)};function ud(n,e){if(!sn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function pi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function jk(n,e,t){var i=e.pendingProps;switch(f_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(e),null;case 1:return Vi(e.type)&&fg(),pi(e),null;case 3:return i=e.stateNode,hu(),nn(Gi),nn(yi),w_(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Rp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kr!==null&&(P1(Kr),Kr=null))),w1(n,e),pi(e),null;case 5:__(e);var r=tl(vh.current);if(t=e.type,n!==null&&e.stateNode!=null)qR(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Pe(166));return pi(e),null}if(n=tl(_s.current),Rp(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[gs]=e,i[mh]=s,n=(e.mode&1)!==0,t){case"dialog":tn("cancel",i),tn("close",i);break;case"iframe":case"object":case"embed":tn("load",i);break;case"video":case"audio":for(r=0;r<Id.length;r++)tn(Id[r],i);break;case"source":tn("error",i);break;case"img":case"image":case"link":tn("error",i),tn("load",i);break;case"details":tn("toggle",i);break;case"input":tb(i,s),tn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},tn("invalid",i);break;case"textarea":ib(i,s),tn("invalid",i)}Yy(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Tp(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Tp(i.textContent,a,n),r=["children",""+a]):sh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tn("scroll",i)}switch(t){case"input":Ap(i),nb(i,s,!0);break;case"textarea":Ap(i),rb(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=hg)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=b3(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[gs]=e,n[mh]=i,YR(n,e,!1,!1),e.stateNode=n;e:{switch(o=qy(t,i),t){case"dialog":tn("cancel",n),tn("close",n),r=i;break;case"iframe":case"object":case"embed":tn("load",n),r=i;break;case"video":case"audio":for(r=0;r<Id.length;r++)tn(Id[r],n);r=i;break;case"source":tn("error",n),r=i;break;case"img":case"image":case"link":tn("error",n),tn("load",n),r=i;break;case"details":tn("toggle",n),r=i;break;case"input":tb(n,i),r=Vy(n,i),tn("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=gn({},i,{value:void 0}),tn("invalid",n);break;case"textarea":ib(n,i),r=Jy(n,i),tn("invalid",n);break;default:r=i}Yy(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?T3(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&E3(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&oh(n,l):typeof l=="number"&&oh(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tn("scroll",n):l!=null&&$A(n,s,l,o))}switch(t){case"input":Ap(n),nb(n,i,!1);break;case"textarea":Ap(n),rb(n);break;case"option":i.value!=null&&n.setAttribute("value",""+ra(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Qc(n,!!i.multiple,s,!1):i.defaultValue!=null&&Qc(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=hg)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pi(e),null;case 6:if(n&&e.stateNode!=null)QR(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Pe(166));if(t=tl(vh.current),tl(_s.current),Rp(e)){if(i=e.stateNode,t=e.memoizedProps,i[gs]=e,(s=i.nodeValue!==t)&&(n=sr,n!==null))switch(n.tag){case 3:Tp(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Tp(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[gs]=e,e.stateNode=i}return pi(e),null;case 13:if(nn(dn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(sn&&nr!==null&&e.mode&1&&!(e.flags&128))mR(),uu(),e.flags|=98560,s=!1;else if(s=Rp(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Pe(317));s[gs]=e}else uu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pi(e),s=!1}else Kr!==null&&(P1(Kr),Kr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||dn.current&1?Gn===0&&(Gn=3):D_())),e.updateQueue!==null&&(e.flags|=4),pi(e),null);case 4:return hu(),w1(n,e),n===null&&fh(e.stateNode.containerInfo),pi(e),null;case 10:return v_(e.type._context),pi(e),null;case 17:return Vi(e.type)&&fg(),pi(e),null;case 19:if(nn(dn),s=e.memoizedState,s===null)return pi(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)ud(s,!1);else{if(Gn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Ag(n),o!==null){for(e.flags|=128,ud(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return $t(dn,dn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Pn()>pu&&(e.flags|=128,i=!0,ud(s,!1),e.lanes=4194304)}else{if(!i)if(n=Ag(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ud(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!sn)return pi(e),null}else 2*Pn()-s.renderingStartTime>pu&&t!==1073741824&&(e.flags|=128,i=!0,ud(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pn(),e.sibling=null,t=dn.current,$t(dn,i?t&1|2:t&1),e):(pi(e),null);case 22:case 23:return B_(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?tr&1073741824&&(pi(e),e.subtreeFlags&6&&(e.flags|=8192)):pi(e),null;case 24:return null;case 25:return null}throw Error(Pe(156,e.tag))}function zk(n,e){switch(f_(e),e.tag){case 1:return Vi(e.type)&&fg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return hu(),nn(Gi),nn(yi),w_(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return __(e),null;case 13:if(nn(dn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Pe(340));uu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return nn(dn),null;case 4:return hu(),null;case 10:return v_(e.type._context),null;case 22:case 23:return B_(),null;case 24:return null;default:return null}}var Np=!1,xi=!1,Hk=typeof WeakSet=="function"?WeakSet:Set,Je=null;function jc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Sn(n,e,i)}else t.current=null}function S1(n,e,t){try{t()}catch(i){Sn(n,e,i)}}var Jb=!1;function Gk(n,e){if(o1=cg,n=nR(),d_(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=n,p=null;t:for(;;){for(var g;f!==t||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++d===i&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(a1={focusedElem:n,selectionRange:t},cg=!1,Je=e;Je!==null;)if(e=Je,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Je=n;else for(;Je!==null;){e=Je;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,A=x.memoizedState,v=e.stateNode,S=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Wr(e.type,w),A);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(b){Sn(e,e.return,b)}if(n=e.sibling,n!==null){n.return=e.return,Je=n;break}Je=e.return}return x=Jb,Jb=!1,x}function Wd(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&S1(e,t,s)}r=r.next}while(r!==i)}}function r0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function M1(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function $R(n){var e=n.alternate;e!==null&&(n.alternate=null,$R(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[gs],delete e[mh],delete e[u1],delete e[bk],delete e[Ek])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ZR(n){return n.tag===5||n.tag===3||n.tag===4}function Kb(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ZR(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function b1(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=hg));else if(i!==4&&(n=n.child,n!==null))for(b1(n,e,t),n=n.sibling;n!==null;)b1(n,e,t),n=n.sibling}function E1(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(E1(n,e,t),n=n.sibling;n!==null;)E1(n,e,t),n=n.sibling}var ti=null,Jr=!1;function Mo(n,e,t){for(t=t.child;t!==null;)eP(n,e,t),t=t.sibling}function eP(n,e,t){if(As&&typeof As.onCommitFiberUnmount=="function")try{As.onCommitFiberUnmount(qg,t)}catch{}switch(t.tag){case 5:xi||jc(t,e);case 6:var i=ti,r=Jr;ti=null,Mo(n,e,t),ti=i,Jr=r,ti!==null&&(Jr?(n=ti,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ti.removeChild(t.stateNode));break;case 18:ti!==null&&(Jr?(n=ti,t=t.stateNode,n.nodeType===8?cx(n.parentNode,t):n.nodeType===1&&cx(n,t),uh(n)):cx(ti,t.stateNode));break;case 4:i=ti,r=Jr,ti=t.stateNode.containerInfo,Jr=!0,Mo(n,e,t),ti=i,Jr=r;break;case 0:case 11:case 14:case 15:if(!xi&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&S1(t,e,o),r=r.next}while(r!==i)}Mo(n,e,t);break;case 1:if(!xi&&(jc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Sn(t,e,a)}Mo(n,e,t);break;case 21:Mo(n,e,t);break;case 22:t.mode&1?(xi=(i=xi)||t.memoizedState!==null,Mo(n,e,t),xi=i):Mo(n,e,t);break;default:Mo(n,e,t)}}function Yb(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Hk),e.forEach(function(i){var r=$k.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function zr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ti=a.stateNode,Jr=!1;break e;case 3:ti=a.stateNode.containerInfo,Jr=!0;break e;case 4:ti=a.stateNode.containerInfo,Jr=!0;break e}a=a.return}if(ti===null)throw Error(Pe(160));eP(s,o,r),ti=null,Jr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Sn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tP(e,n),e=e.sibling}function tP(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(zr(e,n),ps(n),i&4){try{Wd(3,n,n.return),r0(3,n)}catch(w){Sn(n,n.return,w)}try{Wd(5,n,n.return)}catch(w){Sn(n,n.return,w)}}break;case 1:zr(e,n),ps(n),i&512&&t!==null&&jc(t,t.return);break;case 5:if(zr(e,n),ps(n),i&512&&t!==null&&jc(t,t.return),n.flags&32){var r=n.stateNode;try{oh(r,"")}catch(w){Sn(n,n.return,w)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&S3(r,s),qy(a,o);var c=qy(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?T3(r,f):d==="dangerouslySetInnerHTML"?E3(r,f):d==="children"?oh(r,f):$A(r,d,f,c)}switch(a){case"input":Wy(r,s);break;case"textarea":M3(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Qc(r,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Qc(r,!!s.multiple,s.defaultValue,!0):Qc(r,!!s.multiple,s.multiple?[]:"",!1))}r[mh]=s}catch(w){Sn(n,n.return,w)}}break;case 6:if(zr(e,n),ps(n),i&4){if(n.stateNode===null)throw Error(Pe(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(w){Sn(n,n.return,w)}}break;case 3:if(zr(e,n),ps(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{uh(e.containerInfo)}catch(w){Sn(n,n.return,w)}break;case 4:zr(e,n),ps(n);break;case 13:zr(e,n),ps(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(L_=Pn())),i&4&&Yb(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(xi=(c=xi)||d,zr(e,n),xi=c):zr(e,n),ps(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(Je=n,d=n.child;d!==null;){for(f=Je=d;Je!==null;){switch(p=Je,g=p.child,p.tag){case 0:case 11:case 14:case 15:Wd(4,p,p.return);break;case 1:jc(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){Sn(i,t,w)}}break;case 5:jc(p,p.return);break;case 22:if(p.memoizedState!==null){Qb(f);continue}}g!==null?(g.return=p,Je=g):Qb(f)}d=d.sibling}e:for(d=null,f=n;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=C3("display",o))}catch(w){Sn(n,n.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){Sn(n,n.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zr(e,n),ps(n),i&4&&Yb(n);break;case 21:break;default:zr(e,n),ps(n)}}function ps(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(ZR(t)){var i=t;break e}t=t.return}throw Error(Pe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(oh(r,""),i.flags&=-33);var s=Kb(n);E1(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Kb(n);b1(n,a,o);break;default:throw Error(Pe(161))}}catch(l){Sn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Vk(n,e,t){Je=n,nP(n)}function nP(n,e,t){for(var i=(n.mode&1)!==0;Je!==null;){var r=Je,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Np;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||xi;a=Np;var c=xi;if(Np=o,(xi=l)&&!c)for(Je=r;Je!==null;)o=Je,l=o.child,o.tag===22&&o.memoizedState!==null?$b(r):l!==null?(l.return=o,Je=l):$b(r);for(;s!==null;)Je=s,nP(s),s=s.sibling;Je=r,Np=a,xi=c}qb(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Je=s):qb(n)}}function qb(n){for(;Je!==null;){var e=Je;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xi||r0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!xi)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Wr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Db(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Db(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&uh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}xi||e.flags&512&&M1(e)}catch(p){Sn(e,e.return,p)}}if(e===n){Je=null;break}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}}function Qb(n){for(;Je!==null;){var e=Je;if(e===n){Je=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Je=t;break}Je=e.return}}function $b(n){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{r0(4,e)}catch(l){Sn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Sn(e,r,l)}}var s=e.return;try{M1(e)}catch(l){Sn(e,s,l)}break;case 5:var o=e.return;try{M1(e)}catch(l){Sn(e,o,l)}}}catch(l){Sn(e,e.return,l)}if(e===n){Je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Je=a;break}Je=e.return}}var Wk=Math.ceil,Sg=co.ReactCurrentDispatcher,R_=co.ReactCurrentOwner,Lr=co.ReactCurrentBatchConfig,It=0,$n=null,Fn=null,ri=0,tr=0,zc=pa(0),Gn=0,_h=null,Al=0,s0=0,P_=0,Xd=null,Ui=null,L_=0,pu=1/0,zs=null,Mg=!1,C1=null,Xo=null,Bp=!1,Uo=null,bg=0,Jd=0,T1=null,Vm=-1,Wm=0;function Pi(){return It&6?Pn():Vm!==-1?Vm:Vm=Pn()}function Jo(n){return n.mode&1?It&2&&ri!==0?ri&-ri:Tk.transition!==null?(Wm===0&&(Wm=j3()),Wm):(n=Jt,n!==0||(n=window.event,n=n===void 0?16:J3(n.type)),n):1}function Qr(n,e,t,i){if(50<Jd)throw Jd=0,T1=null,Error(Pe(185));zh(n,t,i),(!(It&2)||n!==$n)&&(n===$n&&(!(It&2)&&(s0|=t),Gn===4&&Fo(n,ri)),Wi(n,i),t===1&&It===0&&!(e.mode&1)&&(pu=Pn()+500,t0&&ma()))}function Wi(n,e){var t=n.callbackNode;TI(n,e);var i=lg(n,n===$n?ri:0);if(i===0)t!==null&&ab(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&ab(t),e===1)n.tag===0?Ck(Zb.bind(null,n)):hR(Zb.bind(null,n)),Sk(function(){!(It&6)&&ma()}),t=null;else{switch(z3(i)){case 1:t=i_;break;case 4:t=O3;break;case 16:t=ag;break;case 536870912:t=U3;break;default:t=ag}t=uP(t,iP.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function iP(n,e){if(Vm=-1,Wm=0,It&6)throw Error(Pe(327));var t=n.callbackNode;if(nu()&&n.callbackNode!==t)return null;var i=lg(n,n===$n?ri:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Eg(n,i);else{e=i;var r=It;It|=2;var s=sP();($n!==n||ri!==e)&&(zs=null,pu=Pn()+500,cl(n,e));do try{Kk();break}catch(a){rP(n,a)}while(1);g_(),Sg.current=s,It=r,Fn!==null?e=0:($n=null,ri=0,e=Gn)}if(e!==0){if(e===2&&(r=t1(n),r!==0&&(i=r,e=R1(n,r))),e===1)throw t=_h,cl(n,0),Fo(n,i),Wi(n,Pn()),t;if(e===6)Fo(n,i);else{if(r=n.current.alternate,!(i&30)&&!Xk(r)&&(e=Eg(n,i),e===2&&(s=t1(n),s!==0&&(i=s,e=R1(n,s))),e===1))throw t=_h,cl(n,0),Fo(n,i),Wi(n,Pn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Pe(345));case 2:Va(n,Ui,zs);break;case 3:if(Fo(n,i),(i&130023424)===i&&(e=L_+500-Pn(),10<e)){if(lg(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Pi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=c1(Va.bind(null,n,Ui,zs),e);break}Va(n,Ui,zs);break;case 4:if(Fo(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-qr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Pn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Wk(i/1960))-i,10<i){n.timeoutHandle=c1(Va.bind(null,n,Ui,zs),i);break}Va(n,Ui,zs);break;case 5:Va(n,Ui,zs);break;default:throw Error(Pe(329))}}}return Wi(n,Pn()),n.callbackNode===t?iP.bind(null,n):null}function R1(n,e){var t=Xd;return n.current.memoizedState.isDehydrated&&(cl(n,e).flags|=256),n=Eg(n,e),n!==2&&(e=Ui,Ui=t,e!==null&&P1(e)),n}function P1(n){Ui===null?Ui=n:Ui.push.apply(Ui,n)}function Xk(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!es(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fo(n,e){for(e&=~P_,e&=~s0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-qr(e),i=1<<t;n[t]=-1,e&=~i}}function Zb(n){if(It&6)throw Error(Pe(327));nu();var e=lg(n,0);if(!(e&1))return Wi(n,Pn()),null;var t=Eg(n,e);if(n.tag!==0&&t===2){var i=t1(n);i!==0&&(e=i,t=R1(n,i))}if(t===1)throw t=_h,cl(n,0),Fo(n,e),Wi(n,Pn()),t;if(t===6)throw Error(Pe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Va(n,Ui,zs),Wi(n,Pn()),null}function N_(n,e){var t=It;It|=1;try{return n(e)}finally{It=t,It===0&&(pu=Pn()+500,t0&&ma())}}function _l(n){Uo!==null&&Uo.tag===0&&!(It&6)&&nu();var e=It;It|=1;var t=Lr.transition,i=Jt;try{if(Lr.transition=null,Jt=1,n)return n()}finally{Jt=i,Lr.transition=t,It=e,!(It&6)&&ma()}}function B_(){tr=zc.current,nn(zc)}function cl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,wk(t)),Fn!==null)for(t=Fn.return;t!==null;){var i=t;switch(f_(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&fg();break;case 3:hu(),nn(Gi),nn(yi),w_();break;case 5:__(i);break;case 4:hu();break;case 13:nn(dn);break;case 19:nn(dn);break;case 10:v_(i.type._context);break;case 22:case 23:B_()}t=t.return}if($n=n,Fn=n=Ko(n.current,null),ri=tr=e,Gn=0,_h=null,P_=s0=Al=0,Ui=Xd=null,el!==null){for(e=0;e<el.length;e++)if(t=el[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}el=null}return n}function rP(n,e){do{var t=Fn;try{if(g_(),zm.current=wg,_g){for(var i=mn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}_g=!1}if(yl=0,qn=Hn=mn=null,Vd=!1,xh=0,R_.current=null,t===null||t.return===null){Gn=1,_h=e,Fn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ri,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=jb(o);if(g!==null){g.flags&=-257,zb(g,o,a,s,e),g.mode&1&&Ub(s,c,e),e=g,l=c;var x=e.updateQueue;if(x===null){var w=new Set;w.add(l),e.updateQueue=w}else x.add(l);break e}else{if(!(e&1)){Ub(s,c,e),D_();break e}l=Error(Pe(426))}}else if(sn&&a.mode&1){var A=jb(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),zb(A,o,a,s,e),p_(fu(l,a));break e}}s=l=fu(l,a),Gn!==4&&(Gn=2),Xd===null?Xd=[s]:Xd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=zR(s,l,e);Bb(s,v);break e;case 1:a=l;var S=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Xo===null||!Xo.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=HR(s,a,e);Bb(s,b);break e}}s=s.return}while(s!==null)}aP(t)}catch(C){e=C,Fn===t&&t!==null&&(Fn=t=t.return);continue}break}while(1)}function sP(){var n=Sg.current;return Sg.current=wg,n===null?wg:n}function D_(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),$n===null||!(Al&268435455)&&!(s0&268435455)||Fo($n,ri)}function Eg(n,e){var t=It;It|=2;var i=sP();($n!==n||ri!==e)&&(zs=null,cl(n,e));do try{Jk();break}catch(r){rP(n,r)}while(1);if(g_(),It=t,Sg.current=i,Fn!==null)throw Error(Pe(261));return $n=null,ri=0,Gn}function Jk(){for(;Fn!==null;)oP(Fn)}function Kk(){for(;Fn!==null&&!yI();)oP(Fn)}function oP(n){var e=cP(n.alternate,n,tr);n.memoizedProps=n.pendingProps,e===null?aP(n):Fn=e,R_.current=null}function aP(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=zk(t,e),t!==null){t.flags&=32767,Fn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Gn=6,Fn=null;return}}else if(t=jk(t,e,tr),t!==null){Fn=t;return}if(e=e.sibling,e!==null){Fn=e;return}Fn=e=n}while(e!==null);Gn===0&&(Gn=5)}function Va(n,e,t){var i=Jt,r=Lr.transition;try{Lr.transition=null,Jt=1,Yk(n,e,t,i)}finally{Lr.transition=r,Jt=i}return null}function Yk(n,e,t,i){do nu();while(Uo!==null);if(It&6)throw Error(Pe(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Pe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(RI(n,s),n===$n&&(Fn=$n=null,ri=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Bp||(Bp=!0,uP(ag,function(){return nu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Lr.transition,Lr.transition=null;var o=Jt;Jt=1;var a=It;It|=4,R_.current=null,Gk(n,t),tP(t,n),mk(a1),cg=!!o1,a1=o1=null,n.current=t,Vk(t),AI(),It=a,Jt=o,Lr.transition=s}else n.current=t;if(Bp&&(Bp=!1,Uo=n,bg=r),s=n.pendingLanes,s===0&&(Xo=null),SI(t.stateNode),Wi(n,Pn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Mg)throw Mg=!1,n=C1,C1=null,n;return bg&1&&n.tag!==0&&nu(),s=n.pendingLanes,s&1?n===T1?Jd++:(Jd=0,T1=n):Jd=0,ma(),null}function nu(){if(Uo!==null){var n=z3(bg),e=Lr.transition,t=Jt;try{if(Lr.transition=null,Jt=16>n?16:n,Uo===null)var i=!1;else{if(n=Uo,Uo=null,bg=0,It&6)throw Error(Pe(331));var r=It;for(It|=4,Je=n.current;Je!==null;){var s=Je,o=s.child;if(Je.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Je=c;Je!==null;){var d=Je;switch(d.tag){case 0:case 11:case 15:Wd(8,d,s)}var f=d.child;if(f!==null)f.return=d,Je=f;else for(;Je!==null;){d=Je;var p=d.sibling,g=d.return;if($R(d),d===c){Je=null;break}if(p!==null){p.return=g,Je=p;break}Je=g}}}var x=s.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var A=w.sibling;w.sibling=null,w=A}while(w!==null)}}Je=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Je=o;else e:for(;Je!==null;){if(s=Je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wd(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Je=v;break e}Je=s.return}}var S=n.current;for(Je=S;Je!==null;){o=Je;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Je=_;else e:for(o=S;Je!==null;){if(a=Je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:r0(9,a)}}catch(C){Sn(a,a.return,C)}if(a===o){Je=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Je=b;break e}Je=a.return}}if(It=r,ma(),As&&typeof As.onPostCommitFiberRoot=="function")try{As.onPostCommitFiberRoot(qg,n)}catch{}i=!0}return i}finally{Jt=t,Lr.transition=e}}return!1}function e2(n,e,t){e=fu(t,e),e=zR(n,e,1),n=Wo(n,e,1),e=Pi(),n!==null&&(zh(n,1,e),Wi(n,e))}function Sn(n,e,t){if(n.tag===3)e2(n,n,t);else for(;e!==null;){if(e.tag===3){e2(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Xo===null||!Xo.has(i))){n=fu(t,n),n=HR(e,n,1),e=Wo(e,n,1),n=Pi(),e!==null&&(zh(e,1,n),Wi(e,n));break}}e=e.return}}function qk(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Pi(),n.pingedLanes|=n.suspendedLanes&t,$n===n&&(ri&t)===t&&(Gn===4||Gn===3&&(ri&130023424)===ri&&500>Pn()-L_?cl(n,0):P_|=t),Wi(n,e)}function lP(n,e){e===0&&(n.mode&1?(e=Sp,Sp<<=1,!(Sp&130023424)&&(Sp=4194304)):e=1);var t=Pi();n=ro(n,e),n!==null&&(zh(n,e,t),Wi(n,t))}function Qk(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),lP(n,t)}function $k(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Pe(314))}i!==null&&i.delete(e),lP(n,t)}var cP;cP=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Gi.current)Hi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Hi=!1,Uk(n,e,t);Hi=!!(n.flags&131072)}else Hi=!1,sn&&e.flags&1048576&&fR(e,gg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Gm(n,e),n=e.pendingProps;var r=cu(e,yi.current);tu(e,t),r=M_(null,e,i,n,r,t);var s=b_();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vi(i)?(s=!0,pg(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,y_(e),r.updater=i0,e.stateNode=r,r._reactInternals=e,g1(e,i,n,t),e=y1(null,e,i,!0,s,t)):(e.tag=0,sn&&s&&h_(e),Ri(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Gm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=eF(i),n=Wr(i,n),r){case 0:e=x1(null,e,i,n,t);break e;case 1:e=Vb(null,e,i,n,t);break e;case 11:e=Hb(null,e,i,n,t);break e;case 14:e=Gb(null,e,i,Wr(i.type,n),t);break e}throw Error(Pe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Wr(i,r),x1(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Wr(i,r),Vb(n,e,i,r,t);case 3:e:{if(XR(e),n===null)throw Error(Pe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,yR(n,e),yg(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=fu(Error(Pe(423)),e),e=Wb(n,e,i,t,r);break e}else if(i!==r){r=fu(Error(Pe(424)),e),e=Wb(n,e,i,t,r);break e}else for(nr=Vo(e.stateNode.containerInfo.firstChild),sr=e,sn=!0,Kr=null,t=vR(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(uu(),i===r){e=so(n,e,t);break e}Ri(n,e,i,t)}e=e.child}return e;case 5:return AR(e),n===null&&f1(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,l1(i,r)?o=null:s!==null&&l1(i,s)&&(e.flags|=32),WR(n,e),Ri(n,e,o,t),e.child;case 6:return n===null&&f1(e),null;case 13:return JR(n,e,t);case 4:return A_(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=du(e,null,i,t):Ri(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Wr(i,r),Hb(n,e,i,r,t);case 7:return Ri(n,e,e.pendingProps,t),e.child;case 8:return Ri(n,e,e.pendingProps.children,t),e.child;case 12:return Ri(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,$t(vg,i._currentValue),i._currentValue=o,s!==null)if(es(s.value,o)){if(s.children===r.children&&!Gi.current){e=so(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Qs(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),p1(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Pe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),p1(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ri(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,tu(e,t),r=Nr(r),i=i(r),e.flags|=1,Ri(n,e,i,t),e.child;case 14:return i=e.type,r=Wr(i,e.pendingProps),r=Wr(i.type,r),Gb(n,e,i,r,t);case 15:return GR(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Wr(i,r),Gm(n,e),e.tag=1,Vi(i)?(n=!0,pg(e)):n=!1,tu(e,t),jR(e,i,r),g1(e,i,r,t),y1(null,e,i,!0,n,t);case 19:return KR(n,e,t);case 22:return VR(n,e,t)}throw Error(Pe(156,e.tag))};function uP(n,e){return F3(n,e)}function Zk(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(n,e,t,i){return new Zk(n,e,t,i)}function I_(n){return n=n.prototype,!(!n||!n.isReactComponent)}function eF(n){if(typeof n=="function")return I_(n)?1:0;if(n!=null){if(n=n.$$typeof,n===e_)return 11;if(n===t_)return 14}return 2}function Ko(n,e){var t=n.alternate;return t===null?(t=Pr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Xm(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")I_(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Lc:return ul(t.children,r,s,e);case ZA:o=8,r|=8;break;case jy:return n=Pr(12,t,e,r|2),n.elementType=jy,n.lanes=s,n;case zy:return n=Pr(13,t,e,r),n.elementType=zy,n.lanes=s,n;case Hy:return n=Pr(19,t,e,r),n.elementType=Hy,n.lanes=s,n;case A3:return o0(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x3:o=10;break e;case y3:o=9;break e;case e_:o=11;break e;case t_:o=14;break e;case Bo:o=16,i=null;break e}throw Error(Pe(130,n==null?n:typeof n,""))}return e=Pr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function ul(n,e,t,i){return n=Pr(7,n,i,e),n.lanes=t,n}function o0(n,e,t,i){return n=Pr(22,n,i,e),n.elementType=A3,n.lanes=t,n.stateNode={isHidden:!1},n}function vx(n,e,t){return n=Pr(6,n,null,e),n.lanes=t,n}function xx(n,e,t){return e=Pr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function tF(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$v(0),this.expirationTimes=$v(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$v(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function k_(n,e,t,i,r,s,o,a,l){return n=new tF(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},y_(s),n}function nF(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pc,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function dP(n){if(!n)return sa;n=n._reactInternals;e:{if(Pl(n)!==n||n.tag!==1)throw Error(Pe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pe(171))}if(n.tag===1){var t=n.type;if(Vi(t))return dR(n,t,e)}return e}function hP(n,e,t,i,r,s,o,a,l){return n=k_(t,i,!0,n,r,s,o,a,l),n.context=dP(null),t=n.current,i=Pi(),r=Jo(t),s=Qs(i,r),s.callback=e??null,Wo(t,s,r),n.current.lanes=r,zh(n,r,i),Wi(n,i),n}function a0(n,e,t,i){var r=e.current,s=Pi(),o=Jo(r);return t=dP(t),e.context===null?e.context=t:e.pendingContext=t,e=Qs(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Wo(r,e,o),n!==null&&(Qr(n,r,o,s),jm(n,r,o)),o}function Cg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function t2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function F_(n,e){t2(n,e),(n=n.alternate)&&t2(n,e)}function iF(){return null}var fP=typeof reportError=="function"?reportError:function(n){console.error(n)};function O_(n){this._internalRoot=n}l0.prototype.render=O_.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Pe(409));a0(n,e,null,null)};l0.prototype.unmount=O_.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;_l(function(){a0(null,n,null,null)}),e[io]=null}};function l0(n){this._internalRoot=n}l0.prototype.unstable_scheduleHydration=function(n){if(n){var e=V3();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ko.length&&e!==0&&e<ko[t].priority;t++);ko.splice(t,0,n),t===0&&X3(n)}};function U_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function n2(){}function rF(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Cg(o);s.call(c)}}var o=hP(e,i,n,0,null,!1,!1,"",n2);return n._reactRootContainer=o,n[io]=o.current,fh(n.nodeType===8?n.parentNode:n),_l(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Cg(l);a.call(c)}}var l=k_(n,0,!1,null,null,!1,!1,"",n2);return n._reactRootContainer=l,n[io]=l.current,fh(n.nodeType===8?n.parentNode:n),_l(function(){a0(e,l,t,i)}),l}function u0(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Cg(o);a.call(l)}}a0(e,o,n,r)}else o=rF(t,e,n,r,i);return Cg(o)}H3=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Dd(e.pendingLanes);t!==0&&(r_(e,t|1),Wi(e,Pn()),!(It&6)&&(pu=Pn()+500,ma()))}break;case 13:_l(function(){var i=ro(n,1);if(i!==null){var r=Pi();Qr(i,n,1,r)}}),F_(n,1)}};s_=function(n){if(n.tag===13){var e=ro(n,134217728);if(e!==null){var t=Pi();Qr(e,n,134217728,t)}F_(n,134217728)}};G3=function(n){if(n.tag===13){var e=Jo(n),t=ro(n,e);if(t!==null){var i=Pi();Qr(t,n,e,i)}F_(n,e)}};V3=function(){return Jt};W3=function(n,e){var t=Jt;try{return Jt=n,e()}finally{Jt=t}};$y=function(n,e,t){switch(e){case"input":if(Wy(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=e0(i);if(!r)throw Error(Pe(90));w3(i),Wy(i,r)}}}break;case"textarea":M3(n,t);break;case"select":e=t.value,e!=null&&Qc(n,!!t.multiple,e,!1)}};L3=N_;N3=_l;var sF={usingClientEntryPoint:!1,Events:[Gh,Ic,e0,R3,P3,N_]},dd={findFiberByHostInstance:Za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oF={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:co.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=I3(n),n===null?null:n.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||iF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dp.isDisabled&&Dp.supportsFiber)try{qg=Dp.inject(oF),As=Dp}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sF;cr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U_(e))throw Error(Pe(200));return nF(n,e,null,t)};cr.createRoot=function(n,e){if(!U_(n))throw Error(Pe(299));var t=!1,i="",r=fP;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=k_(n,1,!1,null,null,t,!1,i,r),n[io]=e.current,fh(n.nodeType===8?n.parentNode:n),new O_(e)};cr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Pe(188)):(n=Object.keys(n).join(","),Error(Pe(268,n)));return n=I3(e),n=n===null?null:n.stateNode,n};cr.flushSync=function(n){return _l(n)};cr.hydrate=function(n,e,t){if(!c0(e))throw Error(Pe(200));return u0(null,n,e,!0,t)};cr.hydrateRoot=function(n,e,t){if(!U_(n))throw Error(Pe(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=fP;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=hP(e,null,n,1,t??null,r,!1,s,o),n[io]=e.current,fh(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new l0(e)};cr.render=function(n,e,t){if(!c0(e))throw Error(Pe(200));return u0(null,n,e,!1,t)};cr.unmountComponentAtNode=function(n){if(!c0(n))throw Error(Pe(40));return n._reactRootContainer?(_l(function(){u0(null,null,n,!1,function(){n._reactRootContainer=null,n[io]=null})}),!0):!1};cr.unstable_batchedUpdates=N_;cr.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!c0(t))throw Error(Pe(200));if(n==null||n._reactInternals===void 0)throw Error(Pe(38));return u0(n,e,t,!1,i)};cr.version="18.3.1-next-f1338f8080-20240426";function pP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pP)}catch(n){console.error(n)}}pP(),p3.exports=cr;var aF=p3.exports,j_,i2=aF;j_=i2.createRoot,i2.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wh(){return wh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wh.apply(this,arguments)}var jo;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(jo||(jo={}));const r2="popstate";function lF(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return L1("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Tg(r)}return uF(e,t,null,n)}function Ln(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mP(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cF(){return Math.random().toString(36).substr(2,8)}function s2(n,e){return{usr:n.state,key:n.key,idx:e}}function L1(n,e,t,i){return t===void 0&&(t=null),wh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Cu(e):e,{state:t,key:e&&e.key||i||cF()})}function Tg(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Cu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function uF(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=jo.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(wh({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=jo.Pop;let A=d(),v=A==null?null:A-c;c=A,l&&l({action:a,location:w.location,delta:v})}function p(A,v){a=jo.Push;let S=L1(w.location,A,v);t&&t(S,A),c=d()+1;let _=s2(S,c),b=w.createHref(S);try{o.pushState(_,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(b)}s&&l&&l({action:a,location:w.location,delta:1})}function g(A,v){a=jo.Replace;let S=L1(w.location,A,v);t&&t(S,A),c=d();let _=s2(S,c),b=w.createHref(S);o.replaceState(_,"",b),s&&l&&l({action:a,location:w.location,delta:0})}function x(A){let v=r.location.origin!=="null"?r.location.origin:r.location.href,S=typeof A=="string"?A:Tg(A);return S=S.replace(/ $/,"%20"),Ln(v,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,v)}let w={get action(){return a},get location(){return n(r,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(r2,f),l=A,()=>{r.removeEventListener(r2,f),l=null}},createHref(A){return e(r,A)},createURL:x,encodeLocation(A){let v=x(A);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:g,go(A){return o.go(A)}};return w}var o2;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(o2||(o2={}));function dF(n,e,t){return t===void 0&&(t="/"),hF(n,e,t,!1)}function hF(n,e,t,i){let r=typeof e=="string"?Cu(e):e,s=z_(r.pathname||"/",t);if(s==null)return null;let o=gP(n);fF(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=MF(s);a=wF(o[l],c,i)}return a}function gP(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ln(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Yo([i,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(Ln(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),gP(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:AF(c,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of vP(s.path))r(s,o,l)}),e}function vP(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=vP(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function fF(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_F(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const pF=/^:[\w-]+$/,mF=3,gF=2,vF=1,xF=10,yF=-2,a2=n=>n==="*";function AF(n,e){let t=n.split("/"),i=t.length;return t.some(a2)&&(i+=yF),e&&(i+=gF),t.filter(r=>!a2(r)).reduce((r,s)=>r+(pF.test(s)?mF:s===""?vF:xF),i)}function _F(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function wF(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=l2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&t&&!i[i.length-1].route.index&&(f=l2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:Yo([s,f.pathname]),pathnameBase:TF(Yo([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Yo([s,f.pathnameBase]))}return o}function l2(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=SF(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const x=a[f];return g&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function SF(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),mP(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function MF(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mP(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function z_(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function bF(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Cu(n):n;return{pathname:t?t.startsWith("/")?t:EF(t,e):e,search:RF(i),hash:PF(r)}}function EF(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function yx(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CF(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function H_(n,e){let t=CF(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function G_(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Cu(n):(r=wh({},n),Ln(!r.pathname||!r.pathname.includes("?"),yx("?","pathname","search",r)),Ln(!r.pathname||!r.pathname.includes("#"),yx("#","pathname","hash",r)),Ln(!r.search||!r.search.includes("#"),yx("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let f=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;r.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=bF(r,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Yo=n=>n.join("/").replace(/\/\/+/g,"/"),TF=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),RF=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,PF=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function LF(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const xP=["post","put","patch","delete"];new Set(xP);const NF=["get",...xP];new Set(NF);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sh(){return Sh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Sh.apply(this,arguments)}const V_=D.createContext(null),BF=D.createContext(null),ga=D.createContext(null),d0=D.createContext(null),uo=D.createContext({outlet:null,matches:[],isDataRoute:!1}),yP=D.createContext(null);function DF(n,e){let{relative:t}=e===void 0?{}:e;Tu()||Ln(!1);let{basename:i,navigator:r}=D.useContext(ga),{hash:s,pathname:o,search:a}=wP(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:Yo([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Tu(){return D.useContext(d0)!=null}function Ru(){return Tu()||Ln(!1),D.useContext(d0).location}function AP(n){D.useContext(ga).static||D.useLayoutEffect(n)}function _P(){let{isDataRoute:n}=D.useContext(uo);return n?YF():IF()}function IF(){Tu()||Ln(!1);let n=D.useContext(V_),{basename:e,future:t,navigator:i}=D.useContext(ga),{matches:r}=D.useContext(uo),{pathname:s}=Ru(),o=JSON.stringify(H_(r,t.v7_relativeSplatPath)),a=D.useRef(!1);return AP(()=>{a.current=!0}),D.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let f=G_(c,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Yo([e,f.pathname])),(d.replace?i.replace:i.push)(f,d.state,d)},[e,i,o,s,n])}const kF=D.createContext(null);function FF(n){let e=D.useContext(uo).outlet;return e&&D.createElement(kF.Provider,{value:n},e)}function wP(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=D.useContext(ga),{matches:r}=D.useContext(uo),{pathname:s}=Ru(),o=JSON.stringify(H_(r,i.v7_relativeSplatPath));return D.useMemo(()=>G_(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function OF(n,e){return UF(n,e)}function UF(n,e,t,i){Tu()||Ln(!1);let{navigator:r}=D.useContext(ga),{matches:s}=D.useContext(uo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ru(),d;if(e){var f;let A=typeof e=="string"?Cu(e):e;l==="/"||(f=A.pathname)!=null&&f.startsWith(l)||Ln(!1),d=A}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let A=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(A.length).join("/")}let x=dF(n,{pathname:g}),w=VF(x&&x.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:Yo([l,r.encodeLocation?r.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:Yo([l,r.encodeLocation?r.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,t,i);return e&&w?D.createElement(d0.Provider,{value:{location:Sh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:jo.Pop}},w):w}function jF(){let n=KF(),e=LF(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:r},t):null,s)}const zF=D.createElement(jF,null);class HF extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(uo.Provider,{value:this.props.routeContext},D.createElement(yP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GF(n){let{routeContext:e,match:t,children:i}=n,r=D.useContext(V_);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(uo.Provider,{value:e},i)}function VF(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ln(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(t&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=t,x=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,x=!1,w=null,A=null;t&&(g=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||zF,l&&(c<0&&p===0?(qF("route-fallback",!1),x=!0,A=null):c===p&&(x=!0,A=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),S=()=>{let _;return g?_=w:x?_=A:f.route.Component?_=D.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,D.createElement(GF,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:t!=null},children:_})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?D.createElement(HF,{location:t.location,revalidation:t.revalidation,component:w,error:g,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):S()},null)}var SP=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(SP||{}),Rg=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Rg||{});function WF(n){let e=D.useContext(V_);return e||Ln(!1),e}function XF(n){let e=D.useContext(BF);return e||Ln(!1),e}function JF(n){let e=D.useContext(uo);return e||Ln(!1),e}function MP(n){let e=JF(),t=e.matches[e.matches.length-1];return t.route.id||Ln(!1),t.route.id}function KF(){var n;let e=D.useContext(yP),t=XF(Rg.UseRouteError),i=MP(Rg.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function YF(){let{router:n}=WF(SP.UseNavigateStable),e=MP(Rg.UseNavigateStable),t=D.useRef(!1);return AP(()=>{t.current=!0}),D.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Sh({fromRouteId:e},s)))},[n,e])}const c2={};function qF(n,e,t){!e&&!c2[n]&&(c2[n]=!0)}const u2={};function QF(n,e){u2[e]||(u2[e]=!0,console.warn(e))}const Zl=(n,e,t)=>QF(n,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function $F(n,e){(n==null?void 0:n.v7_startTransition)===void 0&&Zl("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||!e.v7_relativeSplatPath)&&Zl("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist===void 0&&Zl("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod===void 0&&Zl("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration===void 0&&Zl("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation===void 0&&Zl("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function d2(n){let{to:e,replace:t,state:i,relative:r}=n;Tu()||Ln(!1);let{future:s,static:o}=D.useContext(ga),{matches:a}=D.useContext(uo),{pathname:l}=Ru(),c=_P(),d=G_(e,H_(a,s.v7_relativeSplatPath),l,r==="path"),f=JSON.stringify(d);return D.useEffect(()=>c(JSON.parse(f),{replace:t,state:i,relative:r}),[c,f,r,t,i]),null}function ZF(n){return FF(n.context)}function un(n){Ln(!1)}function eO(n){let{basename:e="/",children:t=null,location:i,navigationType:r=jo.Pop,navigator:s,static:o=!1,future:a}=n;Tu()&&Ln(!1);let l=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:l,navigator:s,static:o,future:Sh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Cu(i));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:x="default"}=i,w=D.useMemo(()=>{let A=z_(d,l);return A==null?null:{location:{pathname:A,search:f,hash:p,state:g,key:x},navigationType:r}},[l,d,f,p,g,x,r]);return w==null?null:D.createElement(ga.Provider,{value:c},D.createElement(d0.Provider,{children:t,value:w}))}function tO(n){let{children:e,location:t}=n;return OF(N1(e),t)}new Promise(()=>{});function N1(n,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(n,(i,r)=>{if(!D.isValidElement(i))return;let s=[...e,r];if(i.type===D.Fragment){t.push.apply(t,N1(i.props.children,s));return}i.type!==un&&Ln(!1),!i.props.index||!i.props.children||Ln(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=N1(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function B1(){return B1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},B1.apply(this,arguments)}function nO(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function iO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rO(n,e){return n.button===0&&(!e||e==="_self")&&!iO(n)}const sO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oO="6";try{window.__reactRouterVersion=oO}catch{}const aO="startTransition",h2=q4[aO];function lO(n){let{basename:e,children:t,future:i,window:r}=n,s=D.useRef();s.current==null&&(s.current=lF({window:r,v5Compat:!0}));let o=s.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},d=D.useCallback(f=>{c&&h2?h2(()=>l(f)):l(f)},[l,c]);return D.useLayoutEffect(()=>o.listen(d),[o,d]),D.useEffect(()=>$F(i),[i]),D.createElement(eO,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const cO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qt=D.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=nO(e,sO),{basename:g}=D.useContext(ga),x,w=!1;if(typeof c=="string"&&uO.test(c)&&(x=c,cO))try{let _=new URL(window.location.href),b=c.startsWith("//")?new URL(_.protocol+c):new URL(c),C=z_(b.pathname,g);b.origin===_.origin&&C!=null?c=C+b.search+b.hash:w=!0}catch{}let A=DF(c,{relative:r}),v=dO(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:f});function S(_){i&&i(_),_.defaultPrevented||v(_)}return D.createElement("a",B1({},p,{href:x||A,onClick:w||s?i:S,ref:t,target:l}))});var f2;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(f2||(f2={}));var p2;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(p2||(p2={}));function dO(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=_P(),c=Ru(),d=wP(n,{relative:o});return D.useCallback(f=>{if(rO(f,t)){f.preventDefault();let p=i!==void 0?i:Tg(c)===Tg(d);l(n,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,i,r,t,n,s,o,a])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Pu="153",Wa={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Xa={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},bP=0,D1=1,EP=2,hO=3,CP=0,h0=1,Kd=2,Xr=3,bs=0,Li=1,Rr=2,fO=2,$s=0,dl=1,I1=2,k1=3,F1=4,TP=5,Qa=100,RP=101,PP=102,O1=103,U1=104,LP=200,NP=201,BP=202,DP=203,W_=204,X_=205,IP=206,kP=207,FP=208,OP=209,UP=210,jP=0,zP=1,HP=2,Pg=3,GP=4,VP=5,WP=6,XP=7,Wh=0,JP=1,KP=2,$r=0,YP=1,qP=2,QP=3,J_=4,$P=5,f0=300,oa=301,aa=302,Mh=303,bh=304,Lu=306,la=1e3,ii=1001,mu=1002,Mn=1003,Eh=1004,pO=1004,iu=1005,mO=1005,Vt=1006,p0=1007,gO=1007,Es=1008,vO=1008,ws=1009,ZP=1010,eL=1011,m0=1012,K_=1013,Ks=1014,vs=1015,gu=1016,Y_=1017,q_=1018,qo=1020,tL=1021,zi=1023,nL=1024,iL=1025,Qo=1026,wl=1027,rL=1028,Q_=1029,sL=1030,$_=1031,Z_=1033,Jm=33776,Km=33777,Ym=33778,qm=33779,j1=35840,z1=35841,H1=35842,G1=35843,oL=36196,V1=37492,W1=37496,X1=37808,J1=37809,K1=37810,Y1=37811,q1=37812,Q1=37813,$1=37814,Z1=37815,eA=37816,tA=37817,nA=37818,iA=37819,rA=37820,sA=37821,Qm=36492,aL=36283,oA=36284,aA=36285,lA=36286,lL=2200,cL=2201,uL=2202,vu=2300,Sl=2301,$m=2302,nl=2400,il=2401,Ch=2402,g0=2500,ew=2501,dL=0,tw=1,Lg=2,nw=3e3,$o=3001,hL=3200,fL=3201,va=0,pL=1,Zo="",mt="srgb",Dr="srgb-linear",iw="display-p3",xO=0,Zm=7680,yO=7681,AO=7682,_O=7683,wO=34055,SO=34056,MO=5386,bO=512,EO=513,CO=514,TO=515,RO=516,PO=517,LO=518,mL=519,gL=512,vL=513,xL=514,yL=515,AL=516,_L=517,wL=518,SL=519,Th=35044,hl=35048,NO=35040,BO=35045,DO=35049,IO=35041,kO=35046,FO=35050,OO=35042,UO="100",cA="300 es",Ng=1035,xs=2e3,Rh=2001;let ho=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const mi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let m2=1234567;const fl=Math.PI/180,xu=180/Math.PI;function or(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(mi[n&255]+mi[n>>8&255]+mi[n>>16&255]+mi[n>>24&255]+"-"+mi[e&255]+mi[e>>8&255]+"-"+mi[e>>16&15|64]+mi[e>>24&255]+"-"+mi[t&63|128]+mi[t>>8&255]+"-"+mi[t>>16&255]+mi[t>>24&255]+mi[i&255]+mi[i>>8&255]+mi[i>>16&255]+mi[i>>24&255]).toLowerCase()}function bn(n,e,t){return Math.max(e,Math.min(t,n))}function rw(n,e){return(n%e+e)%e}function jO(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function zO(n,e,t){return n!==e?(t-n)/(e-n):0}function Yd(n,e,t){return(1-t)*n+t*e}function HO(n,e,t,i){return Yd(n,e,1-Math.exp(-t*i))}function GO(n,e=1){return e-Math.abs(rw(n,e*2)-e)}function VO(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function WO(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function XO(n,e){return n+Math.floor(Math.random()*(e-n+1))}function JO(n,e){return n+Math.random()*(e-n)}function KO(n){return n*(.5-Math.random())}function YO(n){n!==void 0&&(m2=n);let e=m2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function qO(n){return n*fl}function QO(n){return n*xu}function uA(n){return(n&n-1)===0&&n!==0}function ML(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Bg(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function $O(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),d=o((e+i)/2),f=s((e-i)/2),p=o((e-i)/2),g=s((i-e)/2),x=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*f,l*p,a*c);break;case"YZY":n.set(l*p,a*d,l*f,a*c);break;case"ZXZ":n.set(l*f,l*p,a*d,a*c);break;case"XZX":n.set(a*d,l*x,l*g,a*c);break;case"YXY":n.set(l*g,a*d,l*x,a*c);break;case"ZYZ":n.set(l*x,l*g,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ir(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Mt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const bL={DEG2RAD:fl,RAD2DEG:xu,generateUUID:or,clamp:bn,euclideanModulo:rw,mapLinear:jO,inverseLerp:zO,lerp:Yd,damp:HO,pingpong:GO,smoothstep:VO,smootherstep:WO,randInt:XO,randFloat:JO,randFloatSpread:KO,seededRandom:YO,degToRad:qO,radToDeg:QO,isPowerOfTwo:uA,ceilPowerOfTwo:ML,floorPowerOfTwo:Bg,setQuaternionFromProperEuler:$O,normalize:Mt,denormalize:ir};class ve{constructor(e=0,t=0){ve.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(bn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class St{constructor(e,t,i,r,s,o,a,l,c){St.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],d=i[4],f=i[7],p=i[2],g=i[5],x=i[8],w=r[0],A=r[3],v=r[6],S=r[1],_=r[4],b=r[7],C=r[2],T=r[5],N=r[8];return s[0]=o*w+a*S+l*C,s[3]=o*A+a*_+l*T,s[6]=o*v+a*b+l*N,s[1]=c*w+d*S+f*C,s[4]=c*A+d*_+f*T,s[7]=c*v+d*b+f*N,s[2]=p*w+g*S+x*C,s[5]=p*A+g*_+x*T,s[8]=p*v+g*b+x*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return t*o*d-t*a*c-i*s*d+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],f=d*o-a*c,p=a*l-d*s,g=c*s-o*l,x=t*f+i*p+r*g;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/x;return e[0]=f*w,e[1]=(r*c-d*i)*w,e[2]=(a*i-r*o)*w,e[3]=p*w,e[4]=(d*t-r*l)*w,e[5]=(r*s-a*t)*w,e[6]=g*w,e[7]=(i*l-c*t)*w,e[8]=(o*t-i*s)*w,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Ax.makeScale(e,t)),this}rotate(e){return this.premultiply(Ax.makeRotation(-e)),this}translate(e,t){return this.premultiply(Ax.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Ax=new St;function EL(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const ZO={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Hc(n,e){return new ZO[n](e)}function Ph(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const g2={};function qd(n){n in g2||(g2[n]=!0,console.warn(n))}function ru(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function _x(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const eU=new St().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),tU=new St().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function nU(n){return n.convertSRGBToLinear().applyMatrix3(tU)}function iU(n){return n.applyMatrix3(eU).convertLinearToSRGB()}const rU={[Dr]:n=>n,[mt]:n=>n.convertSRGBToLinear(),[iw]:nU},sU={[Dr]:n=>n,[mt]:n=>n.convertLinearToSRGB(),[iw]:iU},wr={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Dr},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=rU[e],r=sU[t];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let ec;class sw{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ec===void 0&&(ec=Ph("canvas")),ec.width=e.width,ec.height=e.height;const i=ec.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=ec}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Ph("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=ru(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(ru(t[i]/255)*255):t[i]=ru(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let oU=0;class rl{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:oU++}),this.uuid=or(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(wx(r[o].image)):s.push(wx(r[o]))}else s=wx(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function wx(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?sw.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let aU=0;class an extends ho{constructor(e=an.DEFAULT_IMAGE,t=an.DEFAULT_MAPPING,i=ii,r=ii,s=Vt,o=Es,a=zi,l=ws,c=an.DEFAULT_ANISOTROPY,d=Zo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:aU++}),this.uuid=or(),this.name="",this.source=new rl(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ve(0,0),this.repeat=new ve(1,1),this.center=new ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new St,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof d=="string"?this.colorSpace=d:(qd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===$o?mt:Zo),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==f0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case la:e.x=e.x-Math.floor(e.x);break;case ii:e.x=e.x<0?0:1;break;case mu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case la:e.y=e.y-Math.floor(e.y);break;case ii:e.y=e.y<0?0:1;break;case mu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return qd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===mt?$o:nw}set encoding(e){qd("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===$o?mt:Zo}}an.DEFAULT_IMAGE=null;an.DEFAULT_MAPPING=f0;an.DEFAULT_ANISOTROPY=1;class Wt{constructor(e=0,t=0,i=0,r=1){Wt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],d=l[4],f=l[8],p=l[1],g=l[5],x=l[9],w=l[2],A=l[6],v=l[10];if(Math.abs(d-p)<.01&&Math.abs(f-w)<.01&&Math.abs(x-A)<.01){if(Math.abs(d+p)<.1&&Math.abs(f+w)<.1&&Math.abs(x+A)<.1&&Math.abs(c+g+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(c+1)/2,b=(g+1)/2,C=(v+1)/2,T=(d+p)/4,N=(f+w)/4,B=(x+A)/4;return _>b&&_>C?_<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(_),r=T/i,s=N/i):b>C?b<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(b),i=T/r,s=B/r):C<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(C),i=N/s,r=B/s),this.set(i,r,s,t),this}let S=Math.sqrt((A-x)*(A-x)+(f-w)*(f-w)+(p-d)*(p-d));return Math.abs(S)<.001&&(S=1),this.x=(A-x)/S,this.y=(f-w)/S,this.z=(p-d)/S,this.w=Math.acos((c+g+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ts extends ho{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Wt(0,0,e,t),this.scissorTest=!1,this.viewport=new Wt(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(qd("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===$o?mt:Zo),this.texture=new an(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Vt,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new rl(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class v0 extends an{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Mn,this.minFilter=Mn,this.wrapR=ii,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class lU extends ts{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new v0(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class ow extends an{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Mn,this.minFilter=Mn,this.wrapR=ii,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class cU extends ts{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new ow(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class uU extends ts{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Zn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],d=i[r+2],f=i[r+3];const p=s[o+0],g=s[o+1],x=s[o+2],w=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=f;return}if(a===1){e[t+0]=p,e[t+1]=g,e[t+2]=x,e[t+3]=w;return}if(f!==w||l!==p||c!==g||d!==x){let A=1-a;const v=l*p+c*g+d*x+f*w,S=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const C=Math.sqrt(_),T=Math.atan2(C,v*S);A=Math.sin(A*T)/C,a=Math.sin(a*T)/C}const b=a*S;if(l=l*A+p*b,c=c*A+g*b,d=d*A+x*b,f=f*A+w*b,A===1-a){const C=1/Math.sqrt(l*l+c*c+d*d+f*f);l*=C,c*=C,d*=C,f*=C}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],d=i[r+3],f=s[o],p=s[o+1],g=s[o+2],x=s[o+3];return e[t]=a*x+d*f+l*g-c*p,e[t+1]=l*x+d*p+c*f-a*g,e[t+2]=c*x+d*g+a*p-l*f,e[t+3]=d*x-a*f-l*p-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),d=a(r/2),f=a(s/2),p=l(i/2),g=l(r/2),x=l(s/2);switch(o){case"XYZ":this._x=p*d*f+c*g*x,this._y=c*g*f-p*d*x,this._z=c*d*x+p*g*f,this._w=c*d*f-p*g*x;break;case"YXZ":this._x=p*d*f+c*g*x,this._y=c*g*f-p*d*x,this._z=c*d*x-p*g*f,this._w=c*d*f+p*g*x;break;case"ZXY":this._x=p*d*f-c*g*x,this._y=c*g*f+p*d*x,this._z=c*d*x+p*g*f,this._w=c*d*f-p*g*x;break;case"ZYX":this._x=p*d*f-c*g*x,this._y=c*g*f+p*d*x,this._z=c*d*x-p*g*f,this._w=c*d*f+p*g*x;break;case"YZX":this._x=p*d*f+c*g*x,this._y=c*g*f+p*d*x,this._z=c*d*x-p*g*f,this._w=c*d*f-p*g*x;break;case"XZY":this._x=p*d*f-c*g*x,this._y=c*g*f-p*d*x,this._z=c*d*x+p*g*f,this._w=c*d*f+p*g*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],d=t[6],f=t[10],p=i+a+f;if(p>0){const g=.5/Math.sqrt(p+1);this._w=.25/g,this._x=(d-l)*g,this._y=(s-c)*g,this._z=(o-r)*g}else if(i>a&&i>f){const g=2*Math.sqrt(1+i-a-f);this._w=(d-l)/g,this._x=.25*g,this._y=(r+o)/g,this._z=(s+c)/g}else if(a>f){const g=2*Math.sqrt(1+a-i-f);this._w=(s-c)/g,this._x=(r+o)/g,this._y=.25*g,this._z=(l+d)/g}else{const g=2*Math.sqrt(1+f-i-a);this._w=(o-r)/g,this._x=(s+c)/g,this._y=(l+d)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(bn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,d=t._w;return this._x=i*d+o*a+r*c-s*l,this._y=r*d+o*l+s*a-i*c,this._z=s*d+o*c+i*l-r*a,this._w=o*d-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-t;return this._w=g*o+t*this._w,this._x=g*i+t*this._x,this._y=g*r+t*this._y,this._z=g*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),f=Math.sin((1-t)*d)/c,p=Math.sin(t*d)/c;return this._w=o*f+this._w*p,this._x=i*f+this._x*p,this._y=r*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class k{constructor(e=0,t=0,i=0){k.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(v2.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(v2.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,d=l*i+a*t-s*r,f=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=c*l+p*-s+d*-a-f*-o,this.y=d*l+p*-o+f*-s-c*-a,this.z=f*l+p*-a+c*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Sx.copy(this).projectOnVector(e),this.sub(Sx)}reflect(e){return this.sub(Sx.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(bn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Sx=new k,v2=new Zn;class ns{constructor(e=new k(1/0,1/0,1/0),t=new k(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Is.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Is.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Is.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),tc.copy(e.boundingBox),tc.applyMatrix4(e.matrixWorld),this.union(tc);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Is.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Is)}else r.boundingBox===null&&r.computeBoundingBox(),tc.copy(r.boundingBox),tc.applyMatrix4(e.matrixWorld),this.union(tc)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Is),Is.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(hd),Ip.subVectors(this.max,hd),nc.subVectors(e.a,hd),ic.subVectors(e.b,hd),rc.subVectors(e.c,hd),bo.subVectors(ic,nc),Eo.subVectors(rc,ic),Pa.subVectors(nc,rc);let t=[0,-bo.z,bo.y,0,-Eo.z,Eo.y,0,-Pa.z,Pa.y,bo.z,0,-bo.x,Eo.z,0,-Eo.x,Pa.z,0,-Pa.x,-bo.y,bo.x,0,-Eo.y,Eo.x,0,-Pa.y,Pa.x,0];return!Mx(t,nc,ic,rc,Ip)||(t=[1,0,0,0,1,0,0,0,1],!Mx(t,nc,ic,rc,Ip))?!1:(kp.crossVectors(bo,Eo),t=[kp.x,kp.y,kp.z],Mx(t,nc,ic,rc,Ip))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Is).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Is).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ds[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ds[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ds[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ds[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ds[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ds[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ds[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ds[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ds),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ds=[new k,new k,new k,new k,new k,new k,new k,new k],Is=new k,tc=new ns,nc=new k,ic=new k,rc=new k,bo=new k,Eo=new k,Pa=new k,hd=new k,Ip=new k,kp=new k,La=new k;function Mx(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){La.fromArray(n,s);const a=r.x*Math.abs(La.x)+r.y*Math.abs(La.y)+r.z*Math.abs(La.z),l=e.dot(La),c=t.dot(La),d=i.dot(La);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const dU=new ns,fd=new k,bx=new k;class Ir{constructor(e=new k,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):dU.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;fd.subVectors(e,this.center);const t=fd.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(fd,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(bx.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(fd.copy(e.center).add(bx)),this.expandByPoint(fd.copy(e.center).sub(bx))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ks=new k,Ex=new k,Fp=new k,Co=new k,Cx=new k,Op=new k,Tx=new k;class Ll{constructor(e=new k,t=new k(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ks)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ks.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ks.copy(this.origin).addScaledVector(this.direction,t),ks.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Ex.copy(e).add(t).multiplyScalar(.5),Fp.copy(t).sub(e).normalize(),Co.copy(this.origin).sub(Ex);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Fp),a=Co.dot(this.direction),l=-Co.dot(Fp),c=Co.lengthSq(),d=Math.abs(1-o*o);let f,p,g,x;if(d>0)if(f=o*l-a,p=o*a-l,x=s*d,f>=0)if(p>=-x)if(p<=x){const w=1/d;f*=w,p*=w,g=f*(f+o*p+2*a)+p*(o*f+p+2*l)+c}else p=s,f=Math.max(0,-(o*p+a)),g=-f*f+p*(p+2*l)+c;else p=-s,f=Math.max(0,-(o*p+a)),g=-f*f+p*(p+2*l)+c;else p<=-x?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),g=-f*f+p*(p+2*l)+c):p<=x?(f=0,p=Math.min(Math.max(-s,-l),s),g=p*(p+2*l)+c):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),g=-f*f+p*(p+2*l)+c);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),g=-f*f+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(Ex).addScaledVector(Fp,p),g}intersectSphere(e,t){ks.subVectors(e.center,this.origin);const i=ks.dot(this.direction),r=ks.dot(ks)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ks)!==null}intersectTriangle(e,t,i,r,s){Cx.subVectors(t,e),Op.subVectors(i,e),Tx.crossVectors(Cx,Op);let o=this.direction.dot(Tx),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Co.subVectors(this.origin,e);const l=a*this.direction.dot(Op.crossVectors(Co,Op));if(l<0)return null;const c=a*this.direction.dot(Cx.cross(Co));if(c<0||l+c>o)return null;const d=-a*Co.dot(Tx);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class lt{constructor(e,t,i,r,s,o,a,l,c,d,f,p,g,x,w,A){lt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,d,f,p,g,x,w,A)}set(e,t,i,r,s,o,a,l,c,d,f,p,g,x,w,A){const v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=d,v[10]=f,v[14]=p,v[3]=g,v[7]=x,v[11]=w,v[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new lt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/sc.setFromMatrixColumn(e,0).length(),s=1/sc.setFromMatrixColumn(e,1).length(),o=1/sc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*d,g=o*f,x=a*d,w=a*f;t[0]=l*d,t[4]=-l*f,t[8]=c,t[1]=g+x*c,t[5]=p-w*c,t[9]=-a*l,t[2]=w-p*c,t[6]=x+g*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,g=l*f,x=c*d,w=c*f;t[0]=p+w*a,t[4]=x*a-g,t[8]=o*c,t[1]=o*f,t[5]=o*d,t[9]=-a,t[2]=g*a-x,t[6]=w+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,g=l*f,x=c*d,w=c*f;t[0]=p-w*a,t[4]=-o*f,t[8]=x+g*a,t[1]=g+x*a,t[5]=o*d,t[9]=w-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,g=o*f,x=a*d,w=a*f;t[0]=l*d,t[4]=x*c-g,t[8]=p*c+w,t[1]=l*f,t[5]=w*c+p,t[9]=g*c-x,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,g=o*c,x=a*l,w=a*c;t[0]=l*d,t[4]=w-p*f,t[8]=x*f+g,t[1]=f,t[5]=o*d,t[9]=-a*d,t[2]=-c*d,t[6]=g*f+x,t[10]=p-w*f}else if(e.order==="XZY"){const p=o*l,g=o*c,x=a*l,w=a*c;t[0]=l*d,t[4]=-f,t[8]=c*d,t[1]=p*f+w,t[5]=o*d,t[9]=g*f-x,t[2]=x*f-g,t[6]=a*d,t[10]=w*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(hU,e,fU)}lookAt(e,t,i){const r=this.elements;return Zi.subVectors(e,t),Zi.lengthSq()===0&&(Zi.z=1),Zi.normalize(),To.crossVectors(i,Zi),To.lengthSq()===0&&(Math.abs(i.z)===1?Zi.x+=1e-4:Zi.z+=1e-4,Zi.normalize(),To.crossVectors(i,Zi)),To.normalize(),Up.crossVectors(Zi,To),r[0]=To.x,r[4]=Up.x,r[8]=Zi.x,r[1]=To.y,r[5]=Up.y,r[9]=Zi.y,r[2]=To.z,r[6]=Up.z,r[10]=Zi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],d=i[1],f=i[5],p=i[9],g=i[13],x=i[2],w=i[6],A=i[10],v=i[14],S=i[3],_=i[7],b=i[11],C=i[15],T=r[0],N=r[4],B=r[8],P=r[12],L=r[1],z=r[5],ee=r[9],K=r[13],Q=r[2],Z=r[6],se=r[10],ie=r[14],O=r[3],J=r[7],V=r[11],ne=r[15];return s[0]=o*T+a*L+l*Q+c*O,s[4]=o*N+a*z+l*Z+c*J,s[8]=o*B+a*ee+l*se+c*V,s[12]=o*P+a*K+l*ie+c*ne,s[1]=d*T+f*L+p*Q+g*O,s[5]=d*N+f*z+p*Z+g*J,s[9]=d*B+f*ee+p*se+g*V,s[13]=d*P+f*K+p*ie+g*ne,s[2]=x*T+w*L+A*Q+v*O,s[6]=x*N+w*z+A*Z+v*J,s[10]=x*B+w*ee+A*se+v*V,s[14]=x*P+w*K+A*ie+v*ne,s[3]=S*T+_*L+b*Q+C*O,s[7]=S*N+_*z+b*Z+C*J,s[11]=S*B+_*ee+b*se+C*V,s[15]=S*P+_*K+b*ie+C*ne,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],f=e[6],p=e[10],g=e[14],x=e[3],w=e[7],A=e[11],v=e[15];return x*(+s*l*f-r*c*f-s*a*p+i*c*p+r*a*g-i*l*g)+w*(+t*l*g-t*c*p+s*o*p-r*o*g+r*c*d-s*l*d)+A*(+t*c*f-t*a*g-s*o*f+i*o*g+s*a*d-i*c*d)+v*(-r*a*d-t*l*f+t*a*p+r*o*f-i*o*p+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],f=e[9],p=e[10],g=e[11],x=e[12],w=e[13],A=e[14],v=e[15],S=f*A*c-w*p*c+w*l*g-a*A*g-f*l*v+a*p*v,_=x*p*c-d*A*c-x*l*g+o*A*g+d*l*v-o*p*v,b=d*w*c-x*f*c+x*a*g-o*w*g-d*a*v+o*f*v,C=x*f*l-d*w*l-x*a*p+o*w*p+d*a*A-o*f*A,T=t*S+i*_+r*b+s*C;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/T;return e[0]=S*N,e[1]=(w*p*s-f*A*s-w*r*g+i*A*g+f*r*v-i*p*v)*N,e[2]=(a*A*s-w*l*s+w*r*c-i*A*c-a*r*v+i*l*v)*N,e[3]=(f*l*s-a*p*s-f*r*c+i*p*c+a*r*g-i*l*g)*N,e[4]=_*N,e[5]=(d*A*s-x*p*s+x*r*g-t*A*g-d*r*v+t*p*v)*N,e[6]=(x*l*s-o*A*s-x*r*c+t*A*c+o*r*v-t*l*v)*N,e[7]=(o*p*s-d*l*s+d*r*c-t*p*c-o*r*g+t*l*g)*N,e[8]=b*N,e[9]=(x*f*s-d*w*s-x*i*g+t*w*g+d*i*v-t*f*v)*N,e[10]=(o*w*s-x*a*s+x*i*c-t*w*c-o*i*v+t*a*v)*N,e[11]=(d*a*s-o*f*s-d*i*c+t*f*c+o*i*g-t*a*g)*N,e[12]=C*N,e[13]=(d*w*r-x*f*r+x*i*p-t*w*p-d*i*A+t*f*A)*N,e[14]=(x*a*r-o*w*r-x*i*l+t*w*l+o*i*A-t*a*A)*N,e[15]=(o*f*r-d*a*r+d*i*l-t*f*l-o*i*p+t*a*p)*N,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,d*a+i,d*l-r*o,0,c*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,d=o+o,f=a+a,p=s*c,g=s*d,x=s*f,w=o*d,A=o*f,v=a*f,S=l*c,_=l*d,b=l*f,C=i.x,T=i.y,N=i.z;return r[0]=(1-(w+v))*C,r[1]=(g+b)*C,r[2]=(x-_)*C,r[3]=0,r[4]=(g-b)*T,r[5]=(1-(p+v))*T,r[6]=(A+S)*T,r[7]=0,r[8]=(x+_)*N,r[9]=(A-S)*N,r[10]=(1-(p+w))*N,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=sc.set(r[0],r[1],r[2]).length();const o=sc.set(r[4],r[5],r[6]).length(),a=sc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Hr.copy(this);const c=1/s,d=1/o,f=1/a;return Hr.elements[0]*=c,Hr.elements[1]*=c,Hr.elements[2]*=c,Hr.elements[4]*=d,Hr.elements[5]*=d,Hr.elements[6]*=d,Hr.elements[8]*=f,Hr.elements[9]*=f,Hr.elements[10]*=f,t.setFromRotationMatrix(Hr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=xs){const l=this.elements,c=2*s/(t-e),d=2*s/(i-r),f=(t+e)/(t-e),p=(i+r)/(i-r);let g,x;if(a===xs)g=-(o+s)/(o-s),x=-2*o*s/(o-s);else if(a===Rh)g=-o/(o-s),x=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=d,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=g,l[14]=x,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=xs){const l=this.elements,c=1/(t-e),d=1/(i-r),f=1/(o-s),p=(t+e)*c,g=(i+r)*d;let x,w;if(a===xs)x=(o+s)*f,w=-2*f;else if(a===Rh)x=s*f,w=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-g,l[2]=0,l[6]=0,l[10]=w,l[14]=-x,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const sc=new k,Hr=new lt,hU=new k(0,0,0),fU=new k(1,1,1),To=new k,Up=new k,Zi=new k,x2=new lt,y2=new Zn;class Xh{constructor(e=0,t=0,i=0,r=Xh.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],d=r[9],f=r[2],p=r[6],g=r[10];switch(t){case"XYZ":this._y=Math.asin(bn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-bn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(bn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,g),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-bn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(bn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-bn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return x2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(x2,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return y2.setFromEuler(this),this.setFromQuaternion(y2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Xh.DEFAULT_ORDER="XYZ";class pl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let pU=0;const A2=new k,oc=new Zn,Fs=new lt,jp=new k,pd=new k,mU=new k,gU=new Zn,_2=new k(1,0,0),w2=new k(0,1,0),S2=new k(0,0,1),vU={type:"added"},M2={type:"removed"};class Bt extends ho{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:pU++}),this.uuid=or(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bt.DEFAULT_UP.clone();const e=new k,t=new Xh,i=new Zn,r=new k(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new lt},normalMatrix:{value:new St}}),this.matrix=new lt,this.matrixWorld=new lt,this.matrixAutoUpdate=Bt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new pl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return oc.setFromAxisAngle(e,t),this.quaternion.multiply(oc),this}rotateOnWorldAxis(e,t){return oc.setFromAxisAngle(e,t),this.quaternion.premultiply(oc),this}rotateX(e){return this.rotateOnAxis(_2,e)}rotateY(e){return this.rotateOnAxis(w2,e)}rotateZ(e){return this.rotateOnAxis(S2,e)}translateOnAxis(e,t){return A2.copy(e).applyQuaternion(this.quaternion),this.position.add(A2.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(_2,e)}translateY(e){return this.translateOnAxis(w2,e)}translateZ(e){return this.translateOnAxis(S2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Fs.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?jp.copy(e):jp.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),pd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fs.lookAt(pd,jp,this.up):Fs.lookAt(jp,pd,this.up),this.quaternion.setFromRotationMatrix(Fs),r&&(Fs.extractRotation(r.matrixWorld),oc.setFromRotationMatrix(Fs),this.quaternion.premultiply(oc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(vU)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(M2)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(M2)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Fs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Fs.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fs),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pd,e,mU),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pd,gU,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),f=o(e.shapes),p=o(e.skeletons),g=o(e.animations),x=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),f.length>0&&(i.shapes=f),p.length>0&&(i.skeletons=p),g.length>0&&(i.animations=g),x.length>0&&(i.nodes=x)}return i.object=r,i;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Bt.DEFAULT_UP=new k(0,1,0);Bt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Gr=new k,Os=new k,Rx=new k,Us=new k,ac=new k,lc=new k,b2=new k,Px=new k,Lx=new k,Nx=new k;let zp=!1;class ji{constructor(e=new k,t=new k,i=new k){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Gr.subVectors(e,t),r.cross(Gr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Gr.subVectors(r,t),Os.subVectors(i,t),Rx.subVectors(e,t);const o=Gr.dot(Gr),a=Gr.dot(Os),l=Gr.dot(Rx),c=Os.dot(Os),d=Os.dot(Rx),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const p=1/f,g=(c*l-a*d)*p,x=(o*d-a*l)*p;return s.set(1-g-x,x,g)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Us),Us.x>=0&&Us.y>=0&&Us.x+Us.y<=1}static getUV(e,t,i,r,s,o,a,l){return zp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),zp=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Us),l.setScalar(0),l.addScaledVector(s,Us.x),l.addScaledVector(o,Us.y),l.addScaledVector(a,Us.z),l}static isFrontFacing(e,t,i,r){return Gr.subVectors(i,t),Os.subVectors(e,t),Gr.cross(Os).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Gr.subVectors(this.c,this.b),Os.subVectors(this.a,this.b),Gr.cross(Os).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ji.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ji.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return zp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),zp=!0),ji.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return ji.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return ji.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ji.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;ac.subVectors(r,i),lc.subVectors(s,i),Px.subVectors(e,i);const l=ac.dot(Px),c=lc.dot(Px);if(l<=0&&c<=0)return t.copy(i);Lx.subVectors(e,r);const d=ac.dot(Lx),f=lc.dot(Lx);if(d>=0&&f<=d)return t.copy(r);const p=l*f-d*c;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(ac,o);Nx.subVectors(e,s);const g=ac.dot(Nx),x=lc.dot(Nx);if(x>=0&&g<=x)return t.copy(s);const w=g*c-l*x;if(w<=0&&c>=0&&x<=0)return a=c/(c-x),t.copy(i).addScaledVector(lc,a);const A=d*x-g*f;if(A<=0&&f-d>=0&&g-x>=0)return b2.subVectors(s,r),a=(f-d)/(f-d+(g-x)),t.copy(r).addScaledVector(b2,a);const v=1/(A+w+p);return o=w*v,a=p*v,t.copy(i).addScaledVector(ac,o).addScaledVector(lc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let xU=0;class On extends ho{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:xU++}),this.uuid=or(),this.name="",this.type="Material",this.blending=dl,this.side=bs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=W_,this.blendDst=X_,this.blendEquation=Qa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Pg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=mL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Zm,this.stencilZFail=Zm,this.stencilZPass=Zm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==dl&&(i.blending=this.blending),this.side!==bs&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const CL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Vr={h:0,s:0,l:0},Hp={h:0,s:0,l:0};function Bx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Fe{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=mt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wr.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=wr.workingColorSpace){return this.r=e,this.g=t,this.b=i,wr.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=wr.workingColorSpace){if(e=rw(e,1),t=bn(t,0,1),i=bn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=Bx(o,s,e+1/3),this.g=Bx(o,s,e),this.b=Bx(o,s,e-1/3)}return wr.toWorkingColorSpace(this,r),this}setStyle(e,t=mt){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=mt){const i=CL[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ru(e.r),this.g=ru(e.g),this.b=ru(e.b),this}copyLinearToSRGB(e){return this.r=_x(e.r),this.g=_x(e.g),this.b=_x(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=mt){return wr.fromWorkingColorSpace(gi.copy(this),e),Math.round(bn(gi.r*255,0,255))*65536+Math.round(bn(gi.g*255,0,255))*256+Math.round(bn(gi.b*255,0,255))}getHexString(e=mt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=wr.workingColorSpace){wr.fromWorkingColorSpace(gi.copy(this),t);const i=gi.r,r=gi.g,s=gi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=d<=.5?f/(o+a):f/(2-o-a),o){case i:l=(r-s)/f+(r<s?6:0);break;case r:l=(s-i)/f+2;break;case s:l=(i-r)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,t=wr.workingColorSpace){return wr.fromWorkingColorSpace(gi.copy(this),t),e.r=gi.r,e.g=gi.g,e.b=gi.b,e}getStyle(e=mt){wr.fromWorkingColorSpace(gi.copy(this),e);const t=gi.r,i=gi.g,r=gi.b;return e!==mt?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Vr),Vr.h+=e,Vr.s+=t,Vr.l+=i,this.setHSL(Vr.h,Vr.s,Vr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Vr),e.getHSL(Hp);const i=Yd(Vr.h,Hp.h,t),r=Yd(Vr.s,Hp.s,t),s=Yd(Vr.l,Hp.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const gi=new Fe;Fe.NAMES=CL;class rr extends On{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ws=yU();function yU(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Oi(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=bn(n,-65504,65504),Ws.floatView[0]=n;const e=Ws.uint32View[0],t=e>>23&511;return Ws.baseTable[t]+((e&8388607)>>Ws.shiftTable[t])}function kd(n){const e=n>>10;return Ws.uint32View[0]=Ws.mantissaTable[Ws.offsetTable[e]+(n&1023)]+Ws.exponentTable[e],Ws.floatView[0]}const AU={toHalfFloat:Oi,fromHalfFloat:kd},In=new k,Gp=new ve;class Dt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Th,this.updateRange={offset:0,count:-1},this.gpuType=vs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Gp.fromBufferAttribute(this,t),Gp.applyMatrix3(e),this.setXY(t,Gp.x,Gp.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)In.fromBufferAttribute(this,t),In.applyMatrix3(e),this.setXYZ(t,In.x,In.y,In.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)In.fromBufferAttribute(this,t),In.applyMatrix4(e),this.setXYZ(t,In.x,In.y,In.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)In.fromBufferAttribute(this,t),In.applyNormalMatrix(e),this.setXYZ(t,In.x,In.y,In.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)In.fromBufferAttribute(this,t),In.transformDirection(e),this.setXYZ(t,In.x,In.y,In.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ir(t,this.array)),t}setX(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ir(t,this.array)),t}setY(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ir(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ir(t,this.array)),t}setW(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Mt(t,this.array),i=Mt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Mt(t,this.array),i=Mt(i,this.array),r=Mt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Mt(t,this.array),i=Mt(i,this.array),r=Mt(r,this.array),s=Mt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Th&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class _U extends Dt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class wU extends Dt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class SU extends Dt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class MU extends Dt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class aw extends Dt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class bU extends Dt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class lw extends Dt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class EU extends Dt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=kd(this.array[e*this.itemSize]);return this.normalized&&(t=ir(t,this.array)),t}setX(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize]=Oi(t),this}getY(e){let t=kd(this.array[e*this.itemSize+1]);return this.normalized&&(t=ir(t,this.array)),t}setY(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize+1]=Oi(t),this}getZ(e){let t=kd(this.array[e*this.itemSize+2]);return this.normalized&&(t=ir(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize+2]=Oi(t),this}getW(e){let t=kd(this.array[e*this.itemSize+3]);return this.normalized&&(t=ir(t,this.array)),t}setW(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize+3]=Oi(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Mt(t,this.array),i=Mt(i,this.array)),this.array[e+0]=Oi(t),this.array[e+1]=Oi(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Mt(t,this.array),i=Mt(i,this.array),r=Mt(r,this.array)),this.array[e+0]=Oi(t),this.array[e+1]=Oi(i),this.array[e+2]=Oi(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Mt(t,this.array),i=Mt(i,this.array),r=Mt(r,this.array),s=Mt(s,this.array)),this.array[e+0]=Oi(t),this.array[e+1]=Oi(i),this.array[e+2]=Oi(r),this.array[e+3]=Oi(s),this}}class qe extends Dt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class CU extends Dt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let TU=0;const yr=new lt,Dx=new Bt,cc=new k,er=new ns,md=new ns,Yn=new k;class yt extends ho{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:TU++}),this.uuid=or(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(EL(e)?lw:aw)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new St().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return yr.makeRotationFromQuaternion(e),this.applyMatrix4(yr),this}rotateX(e){return yr.makeRotationX(e),this.applyMatrix4(yr),this}rotateY(e){return yr.makeRotationY(e),this.applyMatrix4(yr),this}rotateZ(e){return yr.makeRotationZ(e),this.applyMatrix4(yr),this}translate(e,t,i){return yr.makeTranslation(e,t,i),this.applyMatrix4(yr),this}scale(e,t,i){return yr.makeScale(e,t,i),this.applyMatrix4(yr),this}lookAt(e){return Dx.lookAt(e),Dx.updateMatrix(),this.applyMatrix4(Dx.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(cc).negate(),this.translate(cc.x,cc.y,cc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new qe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ns);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new k(-1/0,-1/0,-1/0),new k(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];er.setFromBufferAttribute(s),this.morphTargetsRelative?(Yn.addVectors(this.boundingBox.min,er.min),this.boundingBox.expandByPoint(Yn),Yn.addVectors(this.boundingBox.max,er.max),this.boundingBox.expandByPoint(Yn)):(this.boundingBox.expandByPoint(er.min),this.boundingBox.expandByPoint(er.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ir);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new k,1/0);return}if(e){const i=this.boundingSphere.center;if(er.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];md.setFromBufferAttribute(a),this.morphTargetsRelative?(Yn.addVectors(er.min,md.min),er.expandByPoint(Yn),Yn.addVectors(er.max,md.max),er.expandByPoint(Yn)):(er.expandByPoint(md.min),er.expandByPoint(md.max))}er.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Yn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Yn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)Yn.fromBufferAttribute(a,c),l&&(cc.fromBufferAttribute(e,c),Yn.add(cc)),r=Math.max(r,i.distanceToSquared(Yn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Dt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let L=0;L<a;L++)c[L]=new k,d[L]=new k;const f=new k,p=new k,g=new k,x=new ve,w=new ve,A=new ve,v=new k,S=new k;function _(L,z,ee){f.fromArray(r,L*3),p.fromArray(r,z*3),g.fromArray(r,ee*3),x.fromArray(o,L*2),w.fromArray(o,z*2),A.fromArray(o,ee*2),p.sub(f),g.sub(f),w.sub(x),A.sub(x);const K=1/(w.x*A.y-A.x*w.y);isFinite(K)&&(v.copy(p).multiplyScalar(A.y).addScaledVector(g,-w.y).multiplyScalar(K),S.copy(g).multiplyScalar(w.x).addScaledVector(p,-A.x).multiplyScalar(K),c[L].add(v),c[z].add(v),c[ee].add(v),d[L].add(S),d[z].add(S),d[ee].add(S))}let b=this.groups;b.length===0&&(b=[{start:0,count:i.length}]);for(let L=0,z=b.length;L<z;++L){const ee=b[L],K=ee.start,Q=ee.count;for(let Z=K,se=K+Q;Z<se;Z+=3)_(i[Z+0],i[Z+1],i[Z+2])}const C=new k,T=new k,N=new k,B=new k;function P(L){N.fromArray(s,L*3),B.copy(N);const z=c[L];C.copy(z),C.sub(N.multiplyScalar(N.dot(z))).normalize(),T.crossVectors(B,z);const K=T.dot(d[L])<0?-1:1;l[L*4]=C.x,l[L*4+1]=C.y,l[L*4+2]=C.z,l[L*4+3]=K}for(let L=0,z=b.length;L<z;++L){const ee=b[L],K=ee.start,Q=ee.count;for(let Z=K,se=K+Q;Z<se;Z+=3)P(i[Z+0]),P(i[Z+1]),P(i[Z+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Dt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,g=i.count;p<g;p++)i.setXYZ(p,0,0,0);const r=new k,s=new k,o=new k,a=new k,l=new k,c=new k,d=new k,f=new k;if(e)for(let p=0,g=e.count;p<g;p+=3){const x=e.getX(p+0),w=e.getX(p+1),A=e.getX(p+2);r.fromBufferAttribute(t,x),s.fromBufferAttribute(t,w),o.fromBufferAttribute(t,A),d.subVectors(o,s),f.subVectors(r,s),d.cross(f),a.fromBufferAttribute(i,x),l.fromBufferAttribute(i,w),c.fromBufferAttribute(i,A),a.add(d),l.add(d),c.add(d),i.setXYZ(x,a.x,a.y,a.z),i.setXYZ(w,l.x,l.y,l.z),i.setXYZ(A,c.x,c.y,c.z)}else for(let p=0,g=t.count;p<g;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),f.subVectors(r,s),d.cross(f),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Yn.fromBufferAttribute(e,t),Yn.normalize(),e.setXYZ(t,Yn.x,Yn.y,Yn.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,f=a.normalized,p=new c.constructor(l.length*d);let g=0,x=0;for(let w=0,A=l.length;w<A;w++){a.isInterleavedBufferAttribute?g=l[w]*a.data.stride+a.offset:g=l[w]*d;for(let v=0;v<d;v++)p[x++]=c[g++]}return new Dt(p,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new yt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,f=c.length;d<f;d++){const p=c[d],g=e(p,i);l.push(g)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let f=0,p=c.length;f<p;f++){const g=c[f];d.push(g.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const d=r[c];this.setAttribute(c,d.clone(t))}const s=e.morphAttributes;for(const c in s){const d=[],f=s[c];for(let p=0,g=f.length;p<g;p++)d.push(f[p].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const E2=new lt,Na=new Ll,Vp=new Ir,C2=new k,uc=new k,dc=new k,hc=new k,Ix=new k,Wp=new k,Xp=new ve,Jp=new ve,Kp=new ve,T2=new k,R2=new k,P2=new k,Yp=new k,qp=new k;class Qn extends Bt{constructor(e=new yt,t=new rr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Wp.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],f=s[l];d!==0&&(Ix.fromBufferAttribute(f,e),o?Wp.addScaledVector(Ix,d):Wp.addScaledVector(Ix.sub(t),d))}t.add(Wp)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Vp.copy(i.boundingSphere),Vp.applyMatrix4(s),Na.copy(e.ray).recast(e.near),!(Vp.containsPoint(Na.origin)===!1&&(Na.intersectSphere(Vp,C2)===null||Na.origin.distanceToSquared(C2)>(e.far-e.near)**2))&&(E2.copy(s).invert(),Na.copy(e.ray).applyMatrix4(E2),!(i.boundingBox!==null&&Na.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Na)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,p=s.groups,g=s.drawRange;if(a!==null)if(Array.isArray(o))for(let x=0,w=p.length;x<w;x++){const A=p[x],v=o[A.materialIndex],S=Math.max(A.start,g.start),_=Math.min(a.count,Math.min(A.start+A.count,g.start+g.count));for(let b=S,C=_;b<C;b+=3){const T=a.getX(b),N=a.getX(b+1),B=a.getX(b+2);r=Qp(this,v,e,i,c,d,f,T,N,B),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const x=Math.max(0,g.start),w=Math.min(a.count,g.start+g.count);for(let A=x,v=w;A<v;A+=3){const S=a.getX(A),_=a.getX(A+1),b=a.getX(A+2);r=Qp(this,o,e,i,c,d,f,S,_,b),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let x=0,w=p.length;x<w;x++){const A=p[x],v=o[A.materialIndex],S=Math.max(A.start,g.start),_=Math.min(l.count,Math.min(A.start+A.count,g.start+g.count));for(let b=S,C=_;b<C;b+=3){const T=b,N=b+1,B=b+2;r=Qp(this,v,e,i,c,d,f,T,N,B),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const x=Math.max(0,g.start),w=Math.min(l.count,g.start+g.count);for(let A=x,v=w;A<v;A+=3){const S=A,_=A+1,b=A+2;r=Qp(this,o,e,i,c,d,f,S,_,b),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}}}function RU(n,e,t,i,r,s,o,a){let l;if(e.side===Li?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===bs,a),l===null)return null;qp.copy(a),qp.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(qp);return c<t.near||c>t.far?null:{distance:c,point:qp.clone(),object:n}}function Qp(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,uc),n.getVertexPosition(l,dc),n.getVertexPosition(c,hc);const d=RU(n,e,t,i,uc,dc,hc,Yp);if(d){r&&(Xp.fromBufferAttribute(r,a),Jp.fromBufferAttribute(r,l),Kp.fromBufferAttribute(r,c),d.uv=ji.getInterpolation(Yp,uc,dc,hc,Xp,Jp,Kp,new ve)),s&&(Xp.fromBufferAttribute(s,a),Jp.fromBufferAttribute(s,l),Kp.fromBufferAttribute(s,c),d.uv1=ji.getInterpolation(Yp,uc,dc,hc,Xp,Jp,Kp,new ve),d.uv2=d.uv1),o&&(T2.fromBufferAttribute(o,a),R2.fromBufferAttribute(o,l),P2.fromBufferAttribute(o,c),d.normal=ji.getInterpolation(Yp,uc,dc,hc,T2,R2,P2,new k),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new k,materialIndex:0};ji.getNormal(uc,dc,hc,f.normal),d.face=f}return d}class xa extends yt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],f=[];let p=0,g=0;x("z","y","x",-1,-1,i,t,e,o,s,0),x("z","y","x",1,-1,i,t,-e,o,s,1),x("x","z","y",1,1,e,i,t,r,o,2),x("x","z","y",1,-1,e,i,-t,r,o,3),x("x","y","z",1,-1,e,t,i,r,s,4),x("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new qe(c,3)),this.setAttribute("normal",new qe(d,3)),this.setAttribute("uv",new qe(f,2));function x(w,A,v,S,_,b,C,T,N,B,P){const L=b/N,z=C/B,ee=b/2,K=C/2,Q=T/2,Z=N+1,se=B+1;let ie=0,O=0;const J=new k;for(let V=0;V<se;V++){const ne=V*z-K;for(let j=0;j<Z;j++){const q=j*L-ee;J[w]=q*S,J[A]=ne*_,J[v]=Q,c.push(J.x,J.y,J.z),J[w]=0,J[A]=0,J[v]=T>0?1:-1,d.push(J.x,J.y,J.z),f.push(j/N),f.push(1-V/B),ie+=1}}for(let V=0;V<B;V++)for(let ne=0;ne<N;ne++){const j=p+ne+Z*V,q=p+ne+Z*(V+1),Y=p+(ne+1)+Z*(V+1),ue=p+(ne+1)+Z*V;l.push(j,q,ue),l.push(q,Y,ue),O+=6}a.addGroup(g,O,P),g+=O,p+=ie}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xa(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function yu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Ci(n){const e={};for(let t=0;t<n.length;t++){const i=yu(n[t]);for(const r in i)e[r]=i[r]}return e}function PU(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function TL(n){return n.getRenderTarget()===null?n.outputColorSpace:Dr}const RL={clone:yu,merge:Ci};var LU=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,NU=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Cs extends On{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=LU,this.fragmentShader=NU,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=yu(e.uniforms),this.uniformsGroups=PU(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Jh extends Bt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new lt,this.projectionMatrix=new lt,this.projectionMatrixInverse=new lt,this.coordinateSystem=xs}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class on extends Jh{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=xu*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(fl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return xu*2*Math.atan(Math.tan(fl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(fl*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const fc=-90,pc=1;class cw extends Bt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new on(fc,pc,e,t);r.layers=this.layers,this.add(r);const s=new on(fc,pc,e,t);s.layers=this.layers,this.add(s);const o=new on(fc,pc,e,t);o.layers=this.layers,this.add(o);const a=new on(fc,pc,e,t);a.layers=this.layers,this.add(a);const l=new on(fc,pc,e,t);l.layers=this.layers,this.add(l);const c=new on(fc,pc,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===xs)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Rh)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,o,a,l,c]=this.children,d=e.getRenderTarget(),f=e.toneMapping,p=e.xr.enabled;e.toneMapping=$r,e.xr.enabled=!1;const g=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=g,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(d),e.toneMapping=f,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class Kh extends an{constructor(e,t,i,r,s,o,a,l,c,d){e=e!==void 0?e:[],t=t!==void 0?t:oa,super(e,t,i,r,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class uw extends ts{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(qd("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===$o?mt:Zo),this.texture=new Kh(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Vt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new xa(5,5,5),s=new Cs({name:"CubemapFromEquirect",uniforms:yu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Li,blending:$s});s.uniforms.tEquirect.value=t;const o=new Qn(r,s),a=t.minFilter;return t.minFilter===Es&&(t.minFilter=Vt),new cw(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const kx=new k,BU=new k,DU=new St;class Vs{constructor(e=new k(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=kx.subVectors(i,t).cross(BU.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(kx),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||DU.getNormalMatrix(e),r=this.coplanarPoint(kx).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ba=new Ir,$p=new k;class x0{constructor(e=new Vs,t=new Vs,i=new Vs,r=new Vs,s=new Vs,o=new Vs){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=xs){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],d=r[5],f=r[6],p=r[7],g=r[8],x=r[9],w=r[10],A=r[11],v=r[12],S=r[13],_=r[14],b=r[15];if(i[0].setComponents(l-s,p-c,A-g,b-v).normalize(),i[1].setComponents(l+s,p+c,A+g,b+v).normalize(),i[2].setComponents(l+o,p+d,A+x,b+S).normalize(),i[3].setComponents(l-o,p-d,A-x,b-S).normalize(),i[4].setComponents(l-a,p-f,A-w,b-_).normalize(),t===xs)i[5].setComponents(l+a,p+f,A+w,b+_).normalize();else if(t===Rh)i[5].setComponents(a,f,w,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ba.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ba.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ba)}intersectsSprite(e){return Ba.center.set(0,0,0),Ba.radius=.7071067811865476,Ba.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ba)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if($p.x=r.normal.x>0?e.max.x:e.min.x,$p.y=r.normal.y>0?e.max.y:e.min.y,$p.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint($p)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function PL(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function IU(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,d){const f=c.array,p=c.usage,g=n.createBuffer();n.bindBuffer(d,g),n.bufferData(d,f,p),c.onUploadCallback();let x;if(f instanceof Float32Array)x=n.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)x=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)x=n.SHORT;else if(f instanceof Uint32Array)x=n.UNSIGNED_INT;else if(f instanceof Int32Array)x=n.INT;else if(f instanceof Int8Array)x=n.BYTE;else if(f instanceof Uint8Array)x=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)x=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:g,type:x,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,d,f){const p=d.array,g=d.updateRange;n.bindBuffer(f,c),g.count===-1?n.bufferSubData(f,0,p):(t?n.bufferSubData(f,g.offset*p.BYTES_PER_ELEMENT,p,g.offset,g.count):n.bufferSubData(f,g.offset*p.BYTES_PER_ELEMENT,p.subarray(g.offset,g.offset+g.count)),g.count=-1),d.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d&&(n.deleteBuffer(d.buffer),i.delete(c))}function l(c,d){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=i.get(c);f===void 0?i.set(c,r(c,d)):f.version<c.version&&(s(f.buffer,c,d),f.version=c.version)}return{get:o,remove:a,update:l}}class Nu extends yt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,d=l+1,f=e/a,p=t/l,g=[],x=[],w=[],A=[];for(let v=0;v<d;v++){const S=v*p-o;for(let _=0;_<c;_++){const b=_*f-s;x.push(b,-S,0),w.push(0,0,1),A.push(_/a),A.push(1-v/l)}}for(let v=0;v<l;v++)for(let S=0;S<a;S++){const _=S+c*v,b=S+c*(v+1),C=S+1+c*(v+1),T=S+1+c*v;g.push(_,b,T),g.push(b,C,T)}this.setIndex(g),this.setAttribute("position",new qe(x,3)),this.setAttribute("normal",new qe(w,3)),this.setAttribute("uv",new qe(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nu(e.width,e.height,e.widthSegments,e.heightSegments)}}var kU=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,FU=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,OU=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,UU=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,jU=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,zU=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,HU="vec3 transformed = vec3( position );",GU=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,VU=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,WU=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,XU=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,JU=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,KU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,YU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,qU=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,QU=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,$U=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,ZU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,e5=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,t5=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,n5=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,i5=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,r5=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,s5=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,o5=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,a5=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,l5="gl_FragColor = linearToOutputTexel( gl_FragColor );",c5=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,u5=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,d5=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,h5=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,f5=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,p5=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,m5=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,g5=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,v5=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,x5=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,y5=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,A5=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,_5=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,w5=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,S5=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,M5=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,b5=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,E5=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,C5=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,T5=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,R5=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,P5=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,L5=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,N5=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,B5=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,D5=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,I5=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,k5=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,F5=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,O5=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,U5=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,j5=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,z5=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,H5=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,G5=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,V5=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,W5=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,X5=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,J5=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,K5=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Y5=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,q5=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Q5=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,$5=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Z5=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,e8=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,t8=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,n8=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,i8=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,r8=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,s8=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,o8=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,a8=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,l8=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,c8=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,u8=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,d8=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,h8=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,f8=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,p8=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,m8=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,g8=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,v8=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,x8=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,y8=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,A8=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,_8=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,w8=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,S8=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,M8=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,b8=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,E8=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,C8=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,T8=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,R8=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,P8=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const L8=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,N8=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,B8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,D8=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,I8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,k8=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,F8=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,O8=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,U8=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,j8=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,z8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,H8=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,G8=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,V8=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,W8=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,X8=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,J8=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,K8=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Y8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,q8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Q8=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,$8=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Z8=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ej=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tj=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,nj=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ij=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rj=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sj=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,oj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,aj=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lj=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,cj=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,uj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,wt={alphamap_fragment:kU,alphamap_pars_fragment:FU,alphatest_fragment:OU,alphatest_pars_fragment:UU,aomap_fragment:jU,aomap_pars_fragment:zU,begin_vertex:HU,beginnormal_vertex:GU,bsdfs:VU,iridescence_fragment:WU,bumpmap_pars_fragment:XU,clipping_planes_fragment:JU,clipping_planes_pars_fragment:KU,clipping_planes_pars_vertex:YU,clipping_planes_vertex:qU,color_fragment:QU,color_pars_fragment:$U,color_pars_vertex:ZU,color_vertex:e5,common:t5,cube_uv_reflection_fragment:n5,defaultnormal_vertex:i5,displacementmap_pars_vertex:r5,displacementmap_vertex:s5,emissivemap_fragment:o5,emissivemap_pars_fragment:a5,encodings_fragment:l5,encodings_pars_fragment:c5,envmap_fragment:u5,envmap_common_pars_fragment:d5,envmap_pars_fragment:h5,envmap_pars_vertex:f5,envmap_physical_pars_fragment:b5,envmap_vertex:p5,fog_vertex:m5,fog_pars_vertex:g5,fog_fragment:v5,fog_pars_fragment:x5,gradientmap_pars_fragment:y5,lightmap_fragment:A5,lightmap_pars_fragment:_5,lights_lambert_fragment:w5,lights_lambert_pars_fragment:S5,lights_pars_begin:M5,lights_toon_fragment:E5,lights_toon_pars_fragment:C5,lights_phong_fragment:T5,lights_phong_pars_fragment:R5,lights_physical_fragment:P5,lights_physical_pars_fragment:L5,lights_fragment_begin:N5,lights_fragment_maps:B5,lights_fragment_end:D5,logdepthbuf_fragment:I5,logdepthbuf_pars_fragment:k5,logdepthbuf_pars_vertex:F5,logdepthbuf_vertex:O5,map_fragment:U5,map_pars_fragment:j5,map_particle_fragment:z5,map_particle_pars_fragment:H5,metalnessmap_fragment:G5,metalnessmap_pars_fragment:V5,morphcolor_vertex:W5,morphnormal_vertex:X5,morphtarget_pars_vertex:J5,morphtarget_vertex:K5,normal_fragment_begin:Y5,normal_fragment_maps:q5,normal_pars_fragment:Q5,normal_pars_vertex:$5,normal_vertex:Z5,normalmap_pars_fragment:e8,clearcoat_normal_fragment_begin:t8,clearcoat_normal_fragment_maps:n8,clearcoat_pars_fragment:i8,iridescence_pars_fragment:r8,output_fragment:s8,packing:o8,premultiplied_alpha_fragment:a8,project_vertex:l8,dithering_fragment:c8,dithering_pars_fragment:u8,roughnessmap_fragment:d8,roughnessmap_pars_fragment:h8,shadowmap_pars_fragment:f8,shadowmap_pars_vertex:p8,shadowmap_vertex:m8,shadowmask_pars_fragment:g8,skinbase_vertex:v8,skinning_pars_vertex:x8,skinning_vertex:y8,skinnormal_vertex:A8,specularmap_fragment:_8,specularmap_pars_fragment:w8,tonemapping_fragment:S8,tonemapping_pars_fragment:M8,transmission_fragment:b8,transmission_pars_fragment:E8,uv_pars_fragment:C8,uv_pars_vertex:T8,uv_vertex:R8,worldpos_vertex:P8,background_vert:L8,background_frag:N8,backgroundCube_vert:B8,backgroundCube_frag:D8,cube_vert:I8,cube_frag:k8,depth_vert:F8,depth_frag:O8,distanceRGBA_vert:U8,distanceRGBA_frag:j8,equirect_vert:z8,equirect_frag:H8,linedashed_vert:G8,linedashed_frag:V8,meshbasic_vert:W8,meshbasic_frag:X8,meshlambert_vert:J8,meshlambert_frag:K8,meshmatcap_vert:Y8,meshmatcap_frag:q8,meshnormal_vert:Q8,meshnormal_frag:$8,meshphong_vert:Z8,meshphong_frag:ej,meshphysical_vert:tj,meshphysical_frag:nj,meshtoon_vert:ij,meshtoon_frag:rj,points_vert:sj,points_frag:oj,shadow_vert:aj,shadow_frag:lj,sprite_vert:cj,sprite_frag:uj},ke={common:{diffuse:{value:new Fe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new St},alphaMap:{value:null},alphaMapTransform:{value:new St},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new St}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new St}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new St}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new St},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new St},normalScale:{value:new ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new St},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new St}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new St}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new St}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Fe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Fe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new St},alphaTest:{value:0},uvTransform:{value:new St}},sprite:{diffuse:{value:new Fe(16777215)},opacity:{value:1},center:{value:new ve(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new St},alphaMap:{value:null},alphaMapTransform:{value:new St},alphaTest:{value:0}}},Yr={basic:{uniforms:Ci([ke.common,ke.specularmap,ke.envmap,ke.aomap,ke.lightmap,ke.fog]),vertexShader:wt.meshbasic_vert,fragmentShader:wt.meshbasic_frag},lambert:{uniforms:Ci([ke.common,ke.specularmap,ke.envmap,ke.aomap,ke.lightmap,ke.emissivemap,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.fog,ke.lights,{emissive:{value:new Fe(0)}}]),vertexShader:wt.meshlambert_vert,fragmentShader:wt.meshlambert_frag},phong:{uniforms:Ci([ke.common,ke.specularmap,ke.envmap,ke.aomap,ke.lightmap,ke.emissivemap,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.fog,ke.lights,{emissive:{value:new Fe(0)},specular:{value:new Fe(1118481)},shininess:{value:30}}]),vertexShader:wt.meshphong_vert,fragmentShader:wt.meshphong_frag},standard:{uniforms:Ci([ke.common,ke.envmap,ke.aomap,ke.lightmap,ke.emissivemap,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.roughnessmap,ke.metalnessmap,ke.fog,ke.lights,{emissive:{value:new Fe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:wt.meshphysical_vert,fragmentShader:wt.meshphysical_frag},toon:{uniforms:Ci([ke.common,ke.aomap,ke.lightmap,ke.emissivemap,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.gradientmap,ke.fog,ke.lights,{emissive:{value:new Fe(0)}}]),vertexShader:wt.meshtoon_vert,fragmentShader:wt.meshtoon_frag},matcap:{uniforms:Ci([ke.common,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.fog,{matcap:{value:null}}]),vertexShader:wt.meshmatcap_vert,fragmentShader:wt.meshmatcap_frag},points:{uniforms:Ci([ke.points,ke.fog]),vertexShader:wt.points_vert,fragmentShader:wt.points_frag},dashed:{uniforms:Ci([ke.common,ke.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wt.linedashed_vert,fragmentShader:wt.linedashed_frag},depth:{uniforms:Ci([ke.common,ke.displacementmap]),vertexShader:wt.depth_vert,fragmentShader:wt.depth_frag},normal:{uniforms:Ci([ke.common,ke.bumpmap,ke.normalmap,ke.displacementmap,{opacity:{value:1}}]),vertexShader:wt.meshnormal_vert,fragmentShader:wt.meshnormal_frag},sprite:{uniforms:Ci([ke.sprite,ke.fog]),vertexShader:wt.sprite_vert,fragmentShader:wt.sprite_frag},background:{uniforms:{uvTransform:{value:new St},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:wt.background_vert,fragmentShader:wt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:wt.backgroundCube_vert,fragmentShader:wt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:wt.cube_vert,fragmentShader:wt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:wt.equirect_vert,fragmentShader:wt.equirect_frag},distanceRGBA:{uniforms:Ci([ke.common,ke.displacementmap,{referencePosition:{value:new k},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:wt.distanceRGBA_vert,fragmentShader:wt.distanceRGBA_frag},shadow:{uniforms:Ci([ke.lights,ke.fog,{color:{value:new Fe(0)},opacity:{value:1}}]),vertexShader:wt.shadow_vert,fragmentShader:wt.shadow_frag}};Yr.physical={uniforms:Ci([Yr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new St},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new St},clearcoatNormalScale:{value:new ve(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new St},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new St},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new St},sheen:{value:0},sheenColor:{value:new Fe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new St},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new St},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new St},transmissionSamplerSize:{value:new ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new St},attenuationDistance:{value:0},attenuationColor:{value:new Fe(0)},specularColor:{value:new Fe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new St},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new St},anisotropyVector:{value:new ve},anisotropyMap:{value:null},anisotropyMapTransform:{value:new St}}]),vertexShader:wt.meshphysical_vert,fragmentShader:wt.meshphysical_frag};const Zp={r:0,b:0,g:0};function dj(n,e,t,i,r,s,o){const a=new Fe(0);let l=s===!0?0:1,c,d,f=null,p=0,g=null;function x(A,v){let S=!1,_=v.isScene===!0?v.background:null;switch(_&&_.isTexture&&(_=(v.backgroundBlurriness>0?t:e).get(_)),_===null?w(a,l):_&&_.isColor&&(w(_,1),S=!0),n.xr.getEnvironmentBlendMode()){case"opaque":S=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),S=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),S=!0;break}(n.autoClear||S)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===Lu)?(d===void 0&&(d=new Qn(new xa(1,1,1),new Cs({name:"BackgroundCubeMaterial",uniforms:yu(Yr.backgroundCube.uniforms),vertexShader:Yr.backgroundCube.vertexShader,fragmentShader:Yr.backgroundCube.fragmentShader,side:Li,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(T,N,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=_,d.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,d.material.toneMapped=_.colorSpace!==mt,(f!==_||p!==_.version||g!==n.toneMapping)&&(d.material.needsUpdate=!0,f=_,p=_.version,g=n.toneMapping),d.layers.enableAll(),A.unshift(d,d.geometry,d.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new Qn(new Nu(2,2),new Cs({name:"BackgroundMaterial",uniforms:yu(Yr.background.uniforms),vertexShader:Yr.background.vertexShader,fragmentShader:Yr.background.fragmentShader,side:bs,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=_.colorSpace!==mt,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(f!==_||p!==_.version||g!==n.toneMapping)&&(c.material.needsUpdate=!0,f=_,p=_.version,g=n.toneMapping),c.layers.enableAll(),A.unshift(c,c.geometry,c.material,0,0,null))}function w(A,v){A.getRGB(Zp,TL(n)),i.buffers.color.setClear(Zp.r,Zp.g,Zp.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(A,v=1){a.set(A),l=v,w(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,w(a,l)},render:x}}function hj(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=A(null);let c=l,d=!1;function f(Q,Z,se,ie,O){let J=!1;if(o){const V=w(ie,se,Z);c!==V&&(c=V,g(c.object)),J=v(Q,ie,se,O),J&&S(Q,ie,se,O)}else{const V=Z.wireframe===!0;(c.geometry!==ie.id||c.program!==se.id||c.wireframe!==V)&&(c.geometry=ie.id,c.program=se.id,c.wireframe=V,J=!0)}O!==null&&t.update(O,n.ELEMENT_ARRAY_BUFFER),(J||d)&&(d=!1,B(Q,Z,se,ie),O!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(O).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function g(Q){return i.isWebGL2?n.bindVertexArray(Q):s.bindVertexArrayOES(Q)}function x(Q){return i.isWebGL2?n.deleteVertexArray(Q):s.deleteVertexArrayOES(Q)}function w(Q,Z,se){const ie=se.wireframe===!0;let O=a[Q.id];O===void 0&&(O={},a[Q.id]=O);let J=O[Z.id];J===void 0&&(J={},O[Z.id]=J);let V=J[ie];return V===void 0&&(V=A(p()),J[ie]=V),V}function A(Q){const Z=[],se=[],ie=[];for(let O=0;O<r;O++)Z[O]=0,se[O]=0,ie[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Z,enabledAttributes:se,attributeDivisors:ie,object:Q,attributes:{},index:null}}function v(Q,Z,se,ie){const O=c.attributes,J=Z.attributes;let V=0;const ne=se.getAttributes();for(const j in ne)if(ne[j].location>=0){const Y=O[j];let ue=J[j];if(ue===void 0&&(j==="instanceMatrix"&&Q.instanceMatrix&&(ue=Q.instanceMatrix),j==="instanceColor"&&Q.instanceColor&&(ue=Q.instanceColor)),Y===void 0||Y.attribute!==ue||ue&&Y.data!==ue.data)return!0;V++}return c.attributesNum!==V||c.index!==ie}function S(Q,Z,se,ie){const O={},J=Z.attributes;let V=0;const ne=se.getAttributes();for(const j in ne)if(ne[j].location>=0){let Y=J[j];Y===void 0&&(j==="instanceMatrix"&&Q.instanceMatrix&&(Y=Q.instanceMatrix),j==="instanceColor"&&Q.instanceColor&&(Y=Q.instanceColor));const ue={};ue.attribute=Y,Y&&Y.data&&(ue.data=Y.data),O[j]=ue,V++}c.attributes=O,c.attributesNum=V,c.index=ie}function _(){const Q=c.newAttributes;for(let Z=0,se=Q.length;Z<se;Z++)Q[Z]=0}function b(Q){C(Q,0)}function C(Q,Z){const se=c.newAttributes,ie=c.enabledAttributes,O=c.attributeDivisors;se[Q]=1,ie[Q]===0&&(n.enableVertexAttribArray(Q),ie[Q]=1),O[Q]!==Z&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Q,Z),O[Q]=Z)}function T(){const Q=c.newAttributes,Z=c.enabledAttributes;for(let se=0,ie=Z.length;se<ie;se++)Z[se]!==Q[se]&&(n.disableVertexAttribArray(se),Z[se]=0)}function N(Q,Z,se,ie,O,J,V){V===!0?n.vertexAttribIPointer(Q,Z,se,O,J):n.vertexAttribPointer(Q,Z,se,ie,O,J)}function B(Q,Z,se,ie){if(i.isWebGL2===!1&&(Q.isInstancedMesh||ie.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const O=ie.attributes,J=se.getAttributes(),V=Z.defaultAttributeValues;for(const ne in J){const j=J[ne];if(j.location>=0){let q=O[ne];if(q===void 0&&(ne==="instanceMatrix"&&Q.instanceMatrix&&(q=Q.instanceMatrix),ne==="instanceColor"&&Q.instanceColor&&(q=Q.instanceColor)),q!==void 0){const Y=q.normalized,ue=q.itemSize,ye=t.get(q);if(ye===void 0)continue;const we=ye.buffer,Ce=ye.type,Ee=ye.bytesPerElement,Be=i.isWebGL2===!0&&(Ce===n.INT||Ce===n.UNSIGNED_INT||q.gpuType===K_);if(q.isInterleavedBufferAttribute){const Ae=q.data,U=Ae.stride,de=q.offset;if(Ae.isInstancedInterleavedBuffer){for(let pe=0;pe<j.locationSize;pe++)C(j.location+pe,Ae.meshPerAttribute);Q.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let pe=0;pe<j.locationSize;pe++)b(j.location+pe);n.bindBuffer(n.ARRAY_BUFFER,we);for(let pe=0;pe<j.locationSize;pe++)N(j.location+pe,ue/j.locationSize,Ce,Y,U*Ee,(de+ue/j.locationSize*pe)*Ee,Be)}else{if(q.isInstancedBufferAttribute){for(let Ae=0;Ae<j.locationSize;Ae++)C(j.location+Ae,q.meshPerAttribute);Q.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=q.meshPerAttribute*q.count)}else for(let Ae=0;Ae<j.locationSize;Ae++)b(j.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,we);for(let Ae=0;Ae<j.locationSize;Ae++)N(j.location+Ae,ue/j.locationSize,Ce,Y,ue*Ee,ue/j.locationSize*Ae*Ee,Be)}}else if(V!==void 0){const Y=V[ne];if(Y!==void 0)switch(Y.length){case 2:n.vertexAttrib2fv(j.location,Y);break;case 3:n.vertexAttrib3fv(j.location,Y);break;case 4:n.vertexAttrib4fv(j.location,Y);break;default:n.vertexAttrib1fv(j.location,Y)}}}}T()}function P(){ee();for(const Q in a){const Z=a[Q];for(const se in Z){const ie=Z[se];for(const O in ie)x(ie[O].object),delete ie[O];delete Z[se]}delete a[Q]}}function L(Q){if(a[Q.id]===void 0)return;const Z=a[Q.id];for(const se in Z){const ie=Z[se];for(const O in ie)x(ie[O].object),delete ie[O];delete Z[se]}delete a[Q.id]}function z(Q){for(const Z in a){const se=a[Z];if(se[Q.id]===void 0)continue;const ie=se[Q.id];for(const O in ie)x(ie[O].object),delete ie[O];delete se[Q.id]}}function ee(){K(),d=!0,c!==l&&(c=l,g(c.object))}function K(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:ee,resetDefaultState:K,dispose:P,releaseStatesOfGeometry:L,releaseStatesOfProgram:z,initAttributes:_,enableAttribute:b,disableUnusedAttributes:T}}function fj(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,d){n.drawArrays(s,c,d),t.update(d,s,1)}function l(c,d,f){if(f===0)return;let p,g;if(r)p=n,g="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[g](s,c,d,f),t.update(d,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function pj(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(N){if(N==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_TEXTURE_SIZE),x=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),w=n.getParameter(n.MAX_VERTEX_ATTRIBS),A=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),v=n.getParameter(n.MAX_VARYING_VECTORS),S=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),_=p>0,b=o||e.has("OES_texture_float"),C=_&&b,T=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:x,maxAttributes:w,maxVertexUniforms:A,maxVaryings:v,maxFragmentUniforms:S,vertexTextures:_,floatFragmentTextures:b,floatVertexTextures:C,maxSamples:T}}function mj(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Vs,a=new St,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const g=f.length!==0||p||i!==0||r;return r=p,i=f.length,g},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){t=d(f,p,0)},this.setState=function(f,p,g){const x=f.clippingPlanes,w=f.clipIntersection,A=f.clipShadows,v=n.get(f);if(!r||x===null||x.length===0||s&&!A)s?d(null):c();else{const S=s?0:i,_=S*4;let b=v.clippingState||null;l.value=b,b=d(x,p,_,g);for(let C=0;C!==_;++C)b[C]=t[C];v.clippingState=b,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=S}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(f,p,g,x){const w=f!==null?f.length:0;let A=null;if(w!==0){if(A=l.value,x!==!0||A===null){const v=g+w*4,S=p.matrixWorldInverse;a.getNormalMatrix(S),(A===null||A.length<v)&&(A=new Float32Array(v));for(let _=0,b=g;_!==w;++_,b+=4)o.copy(f[_]).applyMatrix4(S,a),o.normal.toArray(A,b),A[b+3]=o.constant}l.value=A,l.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,A}}function gj(n){let e=new WeakMap;function t(o,a){return a===Mh?o.mapping=oa:a===bh&&(o.mapping=aa),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Mh||a===bh)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new uw(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Zr extends Jh{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Gc=4,L2=[.125,.215,.35,.446,.526,.582],$a=20,Fx=new Zr,N2=new Fe;let Ox=null;const Ja=(1+Math.sqrt(5))/2,mc=1/Ja,B2=[new k(1,1,1),new k(-1,1,1),new k(1,1,-1),new k(-1,1,-1),new k(0,Ja,mc),new k(0,Ja,-mc),new k(mc,0,Ja),new k(-mc,0,Ja),new k(Ja,mc,0),new k(-Ja,mc,0)];class dA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){Ox=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=k2(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=I2(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ox),e.scissorTest=!1,em(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===oa||e.mapping===aa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ox=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Vt,minFilter:Vt,generateMipmaps:!1,type:gu,format:zi,colorSpace:Dr,depthBuffer:!1},r=D2(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=D2(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=vj(s)),this._blurMaterial=xj(s,e,t)}return r}_compileMaterial(e){const t=new Qn(this._lodPlanes[0],e);this._renderer.compile(t,Fx)}_sceneToCubeUV(e,t,i,r){const a=new on(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,p=d.toneMapping;d.getClearColor(N2),d.toneMapping=$r,d.autoClear=!1;const g=new rr({name:"PMREM.Background",side:Li,depthWrite:!1,depthTest:!1}),x=new Qn(new xa,g);let w=!1;const A=e.background;A?A.isColor&&(g.color.copy(A),e.background=null,w=!0):(g.color.copy(N2),w=!0);for(let v=0;v<6;v++){const S=v%3;S===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):S===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const _=this._cubeSize;em(r,S*_,v>2?_:0,_,_),d.setRenderTarget(r),w&&d.render(x,a),d.render(e,a)}x.geometry.dispose(),x.material.dispose(),d.toneMapping=p,d.autoClear=f,e.background=A}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===oa||e.mapping===aa;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=k2()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=I2());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Qn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;em(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,Fx)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=B2[(r-1)%B2.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new Qn(this._lodPlanes[r],c),p=c.uniforms,g=this._sizeLods[i]-1,x=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*$a-1),w=s/x,A=isFinite(s)?1+Math.floor(d*w):$a;A>$a&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${$a}`);const v=[];let S=0;for(let N=0;N<$a;++N){const B=N/w,P=Math.exp(-B*B/2);v.push(P),N===0?S+=P:N<A&&(S+=2*P)}for(let N=0;N<v.length;N++)v[N]=v[N]/S;p.envMap.value=e.texture,p.samples.value=A,p.weights.value=v,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:_}=this;p.dTheta.value=x,p.mipInt.value=_-i;const b=this._sizeLods[r],C=3*b*(r>_-Gc?r-_+Gc:0),T=4*(this._cubeSize-b);em(t,C,T,3*b,2*b),l.setRenderTarget(t),l.render(f,Fx)}}function vj(n){const e=[],t=[],i=[];let r=n;const s=n-Gc+1+L2.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Gc?l=L2[o-n+Gc-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),d=-c,f=1+c,p=[d,d,f,d,f,f,d,d,f,f,d,f],g=6,x=6,w=3,A=2,v=1,S=new Float32Array(w*x*g),_=new Float32Array(A*x*g),b=new Float32Array(v*x*g);for(let T=0;T<g;T++){const N=T%3*2/3-1,B=T>2?0:-1,P=[N,B,0,N+2/3,B,0,N+2/3,B+1,0,N,B,0,N+2/3,B+1,0,N,B+1,0];S.set(P,w*x*T),_.set(p,A*x*T);const L=[T,T,T,T,T,T];b.set(L,v*x*T)}const C=new yt;C.setAttribute("position",new Dt(S,w)),C.setAttribute("uv",new Dt(_,A)),C.setAttribute("faceIndex",new Dt(b,v)),e.push(C),r>Gc&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function D2(n,e,t){const i=new ts(n,e,t);return i.texture.mapping=Lu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function em(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function xj(n,e,t){const i=new Float32Array($a),r=new k(0,1,0);return new Cs({name:"SphericalGaussianBlur",defines:{n:$a,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:dw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:$s,depthTest:!1,depthWrite:!1})}function I2(){return new Cs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:dw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:$s,depthTest:!1,depthWrite:!1})}function k2(){return new Cs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:dw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:$s,depthTest:!1,depthWrite:!1})}function dw(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function yj(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Mh||l===bh,d=l===oa||l===aa;if(c||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new dA(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||d&&f&&r(f)){t===null&&(t=new dA(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function Aj(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function _j(n,e,t,i){const r={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const x in p.attributes)e.remove(p.attributes[x]);for(const x in p.morphAttributes){const w=p.morphAttributes[x];for(let A=0,v=w.length;A<v;A++)e.remove(w[A])}p.removeEventListener("dispose",o),delete r[p.id];const g=s.get(p);g&&(e.remove(g),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(f,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(f){const p=f.attributes;for(const x in p)e.update(p[x],n.ARRAY_BUFFER);const g=f.morphAttributes;for(const x in g){const w=g[x];for(let A=0,v=w.length;A<v;A++)e.update(w[A],n.ARRAY_BUFFER)}}function c(f){const p=[],g=f.index,x=f.attributes.position;let w=0;if(g!==null){const S=g.array;w=g.version;for(let _=0,b=S.length;_<b;_+=3){const C=S[_+0],T=S[_+1],N=S[_+2];p.push(C,T,T,N,N,C)}}else{const S=x.array;w=x.version;for(let _=0,b=S.length/3-1;_<b;_+=3){const C=_+0,T=_+1,N=_+2;p.push(C,T,T,N,N,C)}}const A=new(EL(p)?lw:aw)(p,1);A.version=w;const v=s.get(f);v&&e.remove(v),s.set(f,A)}function d(f){const p=s.get(f);if(p){const g=f.index;g!==null&&p.version<g.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:d}}function wj(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function d(p,g){n.drawElements(s,g,a,p*l),t.update(g,s,1)}function f(p,g,x){if(x===0)return;let w,A;if(r)w=n,A="drawElementsInstanced";else if(w=e.get("ANGLE_instanced_arrays"),A="drawElementsInstancedANGLE",w===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}w[A](s,g,a,p*l,x),t.update(g,s,x)}this.setMode=o,this.setIndex=c,this.render=d,this.renderInstances=f}function Sj(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function Mj(n,e){return n[0]-e[0]}function bj(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Ej(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Wt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,d,f){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const x=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,w=x!==void 0?x.length:0;let A=s.get(d);if(A===void 0||A.count!==w){let Z=function(){K.dispose(),s.delete(d),d.removeEventListener("dispose",Z)};var g=Z;A!==void 0&&A.texture.dispose();const _=d.morphAttributes.position!==void 0,b=d.morphAttributes.normal!==void 0,C=d.morphAttributes.color!==void 0,T=d.morphAttributes.position||[],N=d.morphAttributes.normal||[],B=d.morphAttributes.color||[];let P=0;_===!0&&(P=1),b===!0&&(P=2),C===!0&&(P=3);let L=d.attributes.position.count*P,z=1;L>e.maxTextureSize&&(z=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const ee=new Float32Array(L*z*4*w),K=new v0(ee,L,z,w);K.type=vs,K.needsUpdate=!0;const Q=P*4;for(let se=0;se<w;se++){const ie=T[se],O=N[se],J=B[se],V=L*z*4*se;for(let ne=0;ne<ie.count;ne++){const j=ne*Q;_===!0&&(o.fromBufferAttribute(ie,ne),ee[V+j+0]=o.x,ee[V+j+1]=o.y,ee[V+j+2]=o.z,ee[V+j+3]=0),b===!0&&(o.fromBufferAttribute(O,ne),ee[V+j+4]=o.x,ee[V+j+5]=o.y,ee[V+j+6]=o.z,ee[V+j+7]=0),C===!0&&(o.fromBufferAttribute(J,ne),ee[V+j+8]=o.x,ee[V+j+9]=o.y,ee[V+j+10]=o.z,ee[V+j+11]=J.itemSize===4?o.w:1)}}A={count:w,texture:K,size:new ve(L,z)},s.set(d,A),d.addEventListener("dispose",Z)}let v=0;for(let _=0;_<p.length;_++)v+=p[_];const S=d.morphTargetsRelative?1:1-v;f.getUniforms().setValue(n,"morphTargetBaseInfluence",S),f.getUniforms().setValue(n,"morphTargetInfluences",p),f.getUniforms().setValue(n,"morphTargetsTexture",A.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",A.size)}else{const x=p===void 0?0:p.length;let w=i[d.id];if(w===void 0||w.length!==x){w=[];for(let b=0;b<x;b++)w[b]=[b,0];i[d.id]=w}for(let b=0;b<x;b++){const C=w[b];C[0]=b,C[1]=p[b]}w.sort(bj);for(let b=0;b<8;b++)b<x&&w[b][1]?(a[b][0]=w[b][0],a[b][1]=w[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(Mj);const A=d.morphAttributes.position,v=d.morphAttributes.normal;let S=0;for(let b=0;b<8;b++){const C=a[b],T=C[0],N=C[1];T!==Number.MAX_SAFE_INTEGER&&N?(A&&d.getAttribute("morphTarget"+b)!==A[T]&&d.setAttribute("morphTarget"+b,A[T]),v&&d.getAttribute("morphNormal"+b)!==v[T]&&d.setAttribute("morphNormal"+b,v[T]),r[b]=N,S+=N):(A&&d.hasAttribute("morphTarget"+b)===!0&&d.deleteAttribute("morphTarget"+b),v&&d.hasAttribute("morphNormal"+b)===!0&&d.deleteAttribute("morphNormal"+b),r[b]=0)}const _=d.morphTargetsRelative?1:1-S;f.getUniforms().setValue(n,"morphTargetBaseInfluence",_),f.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function Cj(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,d=l.geometry,f=e.get(l,d);return r.get(f)!==c&&(e.update(f),r.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER)),f}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const LL=new an,NL=new v0,BL=new ow,DL=new Kh,F2=[],O2=[],U2=new Float32Array(16),j2=new Float32Array(9),z2=new Float32Array(4);function Bu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=F2[r];if(s===void 0&&(s=new Float32Array(r),F2[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Vn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Wn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function y0(n,e){let t=O2[e];t===void 0&&(t=new Int32Array(e),O2[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Tj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Rj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Vn(t,e))return;n.uniform2fv(this.addr,e),Wn(t,e)}}function Pj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Vn(t,e))return;n.uniform3fv(this.addr,e),Wn(t,e)}}function Lj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Vn(t,e))return;n.uniform4fv(this.addr,e),Wn(t,e)}}function Nj(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Vn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Wn(t,e)}else{if(Vn(t,i))return;z2.set(i),n.uniformMatrix2fv(this.addr,!1,z2),Wn(t,i)}}function Bj(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Vn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Wn(t,e)}else{if(Vn(t,i))return;j2.set(i),n.uniformMatrix3fv(this.addr,!1,j2),Wn(t,i)}}function Dj(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Vn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Wn(t,e)}else{if(Vn(t,i))return;U2.set(i),n.uniformMatrix4fv(this.addr,!1,U2),Wn(t,i)}}function Ij(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function kj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Vn(t,e))return;n.uniform2iv(this.addr,e),Wn(t,e)}}function Fj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Vn(t,e))return;n.uniform3iv(this.addr,e),Wn(t,e)}}function Oj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Vn(t,e))return;n.uniform4iv(this.addr,e),Wn(t,e)}}function Uj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function jj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Vn(t,e))return;n.uniform2uiv(this.addr,e),Wn(t,e)}}function zj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Vn(t,e))return;n.uniform3uiv(this.addr,e),Wn(t,e)}}function Hj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Vn(t,e))return;n.uniform4uiv(this.addr,e),Wn(t,e)}}function Gj(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||LL,r)}function Vj(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||BL,r)}function Wj(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||DL,r)}function Xj(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||NL,r)}function Jj(n){switch(n){case 5126:return Tj;case 35664:return Rj;case 35665:return Pj;case 35666:return Lj;case 35674:return Nj;case 35675:return Bj;case 35676:return Dj;case 5124:case 35670:return Ij;case 35667:case 35671:return kj;case 35668:case 35672:return Fj;case 35669:case 35673:return Oj;case 5125:return Uj;case 36294:return jj;case 36295:return zj;case 36296:return Hj;case 35678:case 36198:case 36298:case 36306:case 35682:return Gj;case 35679:case 36299:case 36307:return Vj;case 35680:case 36300:case 36308:case 36293:return Wj;case 36289:case 36303:case 36311:case 36292:return Xj}}function Kj(n,e){n.uniform1fv(this.addr,e)}function Yj(n,e){const t=Bu(e,this.size,2);n.uniform2fv(this.addr,t)}function qj(n,e){const t=Bu(e,this.size,3);n.uniform3fv(this.addr,t)}function Qj(n,e){const t=Bu(e,this.size,4);n.uniform4fv(this.addr,t)}function $j(n,e){const t=Bu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Zj(n,e){const t=Bu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function e6(n,e){const t=Bu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function t6(n,e){n.uniform1iv(this.addr,e)}function n6(n,e){n.uniform2iv(this.addr,e)}function i6(n,e){n.uniform3iv(this.addr,e)}function r6(n,e){n.uniform4iv(this.addr,e)}function s6(n,e){n.uniform1uiv(this.addr,e)}function o6(n,e){n.uniform2uiv(this.addr,e)}function a6(n,e){n.uniform3uiv(this.addr,e)}function l6(n,e){n.uniform4uiv(this.addr,e)}function c6(n,e,t){const i=this.cache,r=e.length,s=y0(t,r);Vn(i,s)||(n.uniform1iv(this.addr,s),Wn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||LL,s[o])}function u6(n,e,t){const i=this.cache,r=e.length,s=y0(t,r);Vn(i,s)||(n.uniform1iv(this.addr,s),Wn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||BL,s[o])}function d6(n,e,t){const i=this.cache,r=e.length,s=y0(t,r);Vn(i,s)||(n.uniform1iv(this.addr,s),Wn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||DL,s[o])}function h6(n,e,t){const i=this.cache,r=e.length,s=y0(t,r);Vn(i,s)||(n.uniform1iv(this.addr,s),Wn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||NL,s[o])}function f6(n){switch(n){case 5126:return Kj;case 35664:return Yj;case 35665:return qj;case 35666:return Qj;case 35674:return $j;case 35675:return Zj;case 35676:return e6;case 5124:case 35670:return t6;case 35667:case 35671:return n6;case 35668:case 35672:return i6;case 35669:case 35673:return r6;case 5125:return s6;case 36294:return o6;case 36295:return a6;case 36296:return l6;case 35678:case 36198:case 36298:case 36306:case 35682:return c6;case 35679:case 36299:case 36307:return u6;case 35680:case 36300:case 36308:case 36293:return d6;case 36289:case 36303:case 36311:case 36292:return h6}}class p6{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=Jj(t.type)}}class m6{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=f6(t.type)}}class g6{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const Ux=/(\w+)(\])?(\[|\.)?/g;function H2(n,e){n.seq.push(e),n.map[e.id]=e}function v6(n,e,t){const i=n.name,r=i.length;for(Ux.lastIndex=0;;){const s=Ux.exec(i),o=Ux.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){H2(t,c===void 0?new p6(a,n,e):new m6(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new g6(a),H2(t,f)),t=f}}}class eg{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);v6(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function G2(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let x6=0;function y6(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function A6(n){switch(n){case Dr:return["Linear","( value )"];case mt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function V2(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+y6(n.getShaderSource(e),o)}else return r}function _6(n,e){const t=A6(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function w6(n,e){let t;switch(e){case YP:t="Linear";break;case qP:t="Reinhard";break;case QP:t="OptimizedCineon";break;case J_:t="ACESFilmic";break;case $P:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function S6(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Fd).join(`
`)}function M6(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function b6(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Fd(n){return n!==""}function W2(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function X2(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const E6=/^[ \t]*#include +<([\w\d./]+)>/gm;function hA(n){return n.replace(E6,C6)}function C6(n,e){const t=wt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return hA(t)}const T6=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function J2(n){return n.replace(T6,R6)}function R6(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function K2(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function P6(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===h0?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Kd?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Xr&&(e="SHADOWMAP_TYPE_VSM"),e}function L6(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case oa:case aa:e="ENVMAP_TYPE_CUBE";break;case Lu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function N6(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case aa:e="ENVMAP_MODE_REFRACTION";break}return e}function B6(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Wh:e="ENVMAP_BLENDING_MULTIPLY";break;case JP:e="ENVMAP_BLENDING_MIX";break;case KP:e="ENVMAP_BLENDING_ADD";break}return e}function D6(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function I6(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=P6(t),c=L6(t),d=N6(t),f=B6(t),p=D6(t),g=t.isWebGL2?"":S6(t),x=M6(s),w=r.createProgram();let A,v,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Fd).join(`
`),A.length>0&&(A+=`
`),v=[g,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x].filter(Fd).join(`
`),v.length>0&&(v+=`
`)):(A=[K2(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Fd).join(`
`),v=[g,K2(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,x,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==$r?"#define TONE_MAPPING":"",t.toneMapping!==$r?wt.tonemapping_pars_fragment:"",t.toneMapping!==$r?w6("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",wt.encodings_pars_fragment,_6("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Fd).join(`
`)),o=hA(o),o=W2(o,t),o=X2(o,t),a=hA(a),a=W2(a,t),a=X2(a,t),o=J2(o),a=J2(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,A=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,v=["#define varying in",t.glslVersion===cA?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===cA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const _=S+A+o,b=S+v+a,C=G2(r,r.VERTEX_SHADER,_),T=G2(r,r.FRAGMENT_SHADER,b);if(r.attachShader(w,C),r.attachShader(w,T),t.index0AttributeName!==void 0?r.bindAttribLocation(w,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(w,0,"position"),r.linkProgram(w),n.debug.checkShaderErrors){const P=r.getProgramInfoLog(w).trim(),L=r.getShaderInfoLog(C).trim(),z=r.getShaderInfoLog(T).trim();let ee=!0,K=!0;if(r.getProgramParameter(w,r.LINK_STATUS)===!1)if(ee=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,w,C,T);else{const Q=V2(r,C,"vertex"),Z=V2(r,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(w,r.VALIDATE_STATUS)+`

Program Info Log: `+P+`
`+Q+`
`+Z)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(L===""||z==="")&&(K=!1);K&&(this.diagnostics={runnable:ee,programLog:P,vertexShader:{log:L,prefix:A},fragmentShader:{log:z,prefix:v}})}r.deleteShader(C),r.deleteShader(T);let N;this.getUniforms=function(){return N===void 0&&(N=new eg(r,w)),N};let B;return this.getAttributes=function(){return B===void 0&&(B=b6(r,w)),B},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(w),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=x6++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=C,this.fragmentShader=T,this}let k6=0;class F6{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new O6(e),t.set(e,i)),i}}class O6{constructor(e){this.id=k6++,this.code=e,this.usedTimes=0}}function U6(n,e,t,i,r,s,o){const a=new pl,l=new F6,c=[],d=r.isWebGL2,f=r.logarithmicDepthBuffer,p=r.vertexTextures;let g=r.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(P){return P===0?"uv":`uv${P}`}function A(P,L,z,ee,K){const Q=ee.fog,Z=K.geometry,se=P.isMeshStandardMaterial?ee.environment:null,ie=(P.isMeshStandardMaterial?t:e).get(P.envMap||se),O=ie&&ie.mapping===Lu?ie.image.height:null,J=x[P.type];P.precision!==null&&(g=r.getMaxPrecision(P.precision),g!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",g,"instead."));const V=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,ne=V!==void 0?V.length:0;let j=0;Z.morphAttributes.position!==void 0&&(j=1),Z.morphAttributes.normal!==void 0&&(j=2),Z.morphAttributes.color!==void 0&&(j=3);let q,Y,ue,ye;if(J){const kt=Yr[J];q=kt.vertexShader,Y=kt.fragmentShader}else q=P.vertexShader,Y=P.fragmentShader,l.update(P),ue=l.getVertexShaderID(P),ye=l.getFragmentShaderID(P);const we=n.getRenderTarget(),Ce=K.isInstancedMesh===!0,Ee=!!P.map,Be=!!P.matcap,Ae=!!ie,U=!!P.aoMap,de=!!P.lightMap,pe=!!P.bumpMap,Me=!!P.normalMap,Se=!!P.displacementMap,We=!!P.emissiveMap,Ue=!!P.metalnessMap,Ge=!!P.roughnessMap,et=P.anisotropy>0,At=P.clearcoat>0,zt=P.iridescence>0,G=P.sheen>0,I=P.transmission>0,he=et&&!!P.anisotropyMap,Re=At&&!!P.clearcoatMap,be=At&&!!P.clearcoatNormalMap,De=At&&!!P.clearcoatRoughnessMap,Qe=zt&&!!P.iridescenceMap,Ie=zt&&!!P.iridescenceThicknessMap,me=G&&!!P.sheenColorMap,tt=G&&!!P.sheenRoughnessMap,nt=!!P.specularMap,it=!!P.specularColorMap,Xe=!!P.specularIntensityMap,W=I&&!!P.transmissionMap,_e=I&&!!P.thicknessMap,Oe=!!P.gradientMap,X=!!P.alphaMap,Te=P.alphaTest>0,le=!!P.extensions,Le=!!Z.attributes.uv1,je=!!Z.attributes.uv2,Tt=!!Z.attributes.uv3;return{isWebGL2:d,shaderID:J,shaderType:P.type,shaderName:P.name,vertexShader:q,fragmentShader:Y,defines:P.defines,customVertexShaderID:ue,customFragmentShaderID:ye,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:g,instancing:Ce,instancingColor:Ce&&K.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:we===null?n.outputColorSpace:we.isXRRenderTarget===!0?we.texture.colorSpace:Dr,map:Ee,matcap:Be,envMap:Ae,envMapMode:Ae&&ie.mapping,envMapCubeUVHeight:O,aoMap:U,lightMap:de,bumpMap:pe,normalMap:Me,displacementMap:p&&Se,emissiveMap:We,normalMapObjectSpace:Me&&P.normalMapType===pL,normalMapTangentSpace:Me&&P.normalMapType===va,metalnessMap:Ue,roughnessMap:Ge,anisotropy:et,anisotropyMap:he,clearcoat:At,clearcoatMap:Re,clearcoatNormalMap:be,clearcoatRoughnessMap:De,iridescence:zt,iridescenceMap:Qe,iridescenceThicknessMap:Ie,sheen:G,sheenColorMap:me,sheenRoughnessMap:tt,specularMap:nt,specularColorMap:it,specularIntensityMap:Xe,transmission:I,transmissionMap:W,thicknessMap:_e,gradientMap:Oe,opaque:P.transparent===!1&&P.blending===dl,alphaMap:X,alphaTest:Te,combine:P.combine,mapUv:Ee&&w(P.map.channel),aoMapUv:U&&w(P.aoMap.channel),lightMapUv:de&&w(P.lightMap.channel),bumpMapUv:pe&&w(P.bumpMap.channel),normalMapUv:Me&&w(P.normalMap.channel),displacementMapUv:Se&&w(P.displacementMap.channel),emissiveMapUv:We&&w(P.emissiveMap.channel),metalnessMapUv:Ue&&w(P.metalnessMap.channel),roughnessMapUv:Ge&&w(P.roughnessMap.channel),anisotropyMapUv:he&&w(P.anisotropyMap.channel),clearcoatMapUv:Re&&w(P.clearcoatMap.channel),clearcoatNormalMapUv:be&&w(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:De&&w(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Qe&&w(P.iridescenceMap.channel),iridescenceThicknessMapUv:Ie&&w(P.iridescenceThicknessMap.channel),sheenColorMapUv:me&&w(P.sheenColorMap.channel),sheenRoughnessMapUv:tt&&w(P.sheenRoughnessMap.channel),specularMapUv:nt&&w(P.specularMap.channel),specularColorMapUv:it&&w(P.specularColorMap.channel),specularIntensityMapUv:Xe&&w(P.specularIntensityMap.channel),transmissionMapUv:W&&w(P.transmissionMap.channel),thicknessMapUv:_e&&w(P.thicknessMap.channel),alphaMapUv:X&&w(P.alphaMap.channel),vertexTangents:!!Z.attributes.tangent&&(Me||et),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,vertexUv1s:Le,vertexUv2s:je,vertexUv3s:Tt,pointsUvs:K.isPoints===!0&&!!Z.attributes.uv&&(Ee||X),fog:!!Q,useFog:P.fog===!0,fogExp2:Q&&Q.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:K.isSkinnedMesh===!0,morphTargets:Z.morphAttributes.position!==void 0,morphNormals:Z.morphAttributes.normal!==void 0,morphColors:Z.morphAttributes.color!==void 0,morphTargetsCount:ne,morphTextureStride:j,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&z.length>0,shadowMapType:n.shadowMap.type,toneMapping:P.toneMapped?n.toneMapping:$r,useLegacyLights:n.useLegacyLights,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Rr,flipSided:P.side===Li,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:le&&P.extensions.derivatives===!0,extensionFragDepth:le&&P.extensions.fragDepth===!0,extensionDrawBuffers:le&&P.extensions.drawBuffers===!0,extensionShaderTextureLOD:le&&P.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:P.customProgramCacheKey()}}function v(P){const L=[];if(P.shaderID?L.push(P.shaderID):(L.push(P.customVertexShaderID),L.push(P.customFragmentShaderID)),P.defines!==void 0)for(const z in P.defines)L.push(z),L.push(P.defines[z]);return P.isRawShaderMaterial===!1&&(S(L,P),_(L,P),L.push(n.outputColorSpace)),L.push(P.customProgramCacheKey),L.join()}function S(P,L){P.push(L.precision),P.push(L.outputColorSpace),P.push(L.envMapMode),P.push(L.envMapCubeUVHeight),P.push(L.mapUv),P.push(L.alphaMapUv),P.push(L.lightMapUv),P.push(L.aoMapUv),P.push(L.bumpMapUv),P.push(L.normalMapUv),P.push(L.displacementMapUv),P.push(L.emissiveMapUv),P.push(L.metalnessMapUv),P.push(L.roughnessMapUv),P.push(L.anisotropyMapUv),P.push(L.clearcoatMapUv),P.push(L.clearcoatNormalMapUv),P.push(L.clearcoatRoughnessMapUv),P.push(L.iridescenceMapUv),P.push(L.iridescenceThicknessMapUv),P.push(L.sheenColorMapUv),P.push(L.sheenRoughnessMapUv),P.push(L.specularMapUv),P.push(L.specularColorMapUv),P.push(L.specularIntensityMapUv),P.push(L.transmissionMapUv),P.push(L.thicknessMapUv),P.push(L.combine),P.push(L.fogExp2),P.push(L.sizeAttenuation),P.push(L.morphTargetsCount),P.push(L.morphAttributeCount),P.push(L.numDirLights),P.push(L.numPointLights),P.push(L.numSpotLights),P.push(L.numSpotLightMaps),P.push(L.numHemiLights),P.push(L.numRectAreaLights),P.push(L.numDirLightShadows),P.push(L.numPointLightShadows),P.push(L.numSpotLightShadows),P.push(L.numSpotLightShadowsWithMaps),P.push(L.shadowMapType),P.push(L.toneMapping),P.push(L.numClippingPlanes),P.push(L.numClipIntersection),P.push(L.depthPacking)}function _(P,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),L.anisotropy&&a.enable(17),P.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.useLegacyLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.transmission&&a.enable(15),L.sheen&&a.enable(16),L.opaque&&a.enable(17),L.pointsUvs&&a.enable(18),P.push(a.mask)}function b(P){const L=x[P.type];let z;if(L){const ee=Yr[L];z=RL.clone(ee.uniforms)}else z=P.uniforms;return z}function C(P,L){let z;for(let ee=0,K=c.length;ee<K;ee++){const Q=c[ee];if(Q.cacheKey===L){z=Q,++z.usedTimes;break}}return z===void 0&&(z=new I6(n,L,P,s),c.push(z)),z}function T(P){if(--P.usedTimes===0){const L=c.indexOf(P);c[L]=c[c.length-1],c.pop(),P.destroy()}}function N(P){l.remove(P)}function B(){l.dispose()}return{getParameters:A,getProgramCacheKey:v,getUniforms:b,acquireProgram:C,releaseProgram:T,releaseShaderCache:N,programs:c,dispose:B}}function j6(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function z6(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Y2(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function q2(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(f,p,g,x,w,A){let v=n[e];return v===void 0?(v={id:f.id,object:f,geometry:p,material:g,groupOrder:x,renderOrder:f.renderOrder,z:w,group:A},n[e]=v):(v.id=f.id,v.object=f,v.geometry=p,v.material=g,v.groupOrder=x,v.renderOrder=f.renderOrder,v.z=w,v.group=A),e++,v}function a(f,p,g,x,w,A){const v=o(f,p,g,x,w,A);g.transmission>0?i.push(v):g.transparent===!0?r.push(v):t.push(v)}function l(f,p,g,x,w,A){const v=o(f,p,g,x,w,A);g.transmission>0?i.unshift(v):g.transparent===!0?r.unshift(v):t.unshift(v)}function c(f,p){t.length>1&&t.sort(f||z6),i.length>1&&i.sort(p||Y2),r.length>1&&r.sort(p||Y2)}function d(){for(let f=e,p=n.length;f<p;f++){const g=n[f];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:c}}function H6(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new q2,n.set(i,[o])):r>=s.length?(o=new q2,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function G6(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new k,color:new Fe};break;case"SpotLight":t={position:new k,direction:new k,color:new Fe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new k,color:new Fe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new k,skyColor:new Fe,groundColor:new Fe};break;case"RectAreaLight":t={color:new Fe,position:new k,halfWidth:new k,halfHeight:new k};break}return n[e.id]=t,t}}}function V6(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let W6=0;function X6(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function J6(n,e){const t=new G6,i=V6(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new k);const s=new k,o=new lt,a=new lt;function l(d,f){let p=0,g=0,x=0;for(let z=0;z<9;z++)r.probe[z].set(0,0,0);let w=0,A=0,v=0,S=0,_=0,b=0,C=0,T=0,N=0,B=0;d.sort(X6);const P=f===!0?Math.PI:1;for(let z=0,ee=d.length;z<ee;z++){const K=d[z],Q=K.color,Z=K.intensity,se=K.distance,ie=K.shadow&&K.shadow.map?K.shadow.map.texture:null;if(K.isAmbientLight)p+=Q.r*Z*P,g+=Q.g*Z*P,x+=Q.b*Z*P;else if(K.isLightProbe)for(let O=0;O<9;O++)r.probe[O].addScaledVector(K.sh.coefficients[O],Z);else if(K.isDirectionalLight){const O=t.get(K);if(O.color.copy(K.color).multiplyScalar(K.intensity*P),K.castShadow){const J=K.shadow,V=i.get(K);V.shadowBias=J.bias,V.shadowNormalBias=J.normalBias,V.shadowRadius=J.radius,V.shadowMapSize=J.mapSize,r.directionalShadow[w]=V,r.directionalShadowMap[w]=ie,r.directionalShadowMatrix[w]=K.shadow.matrix,b++}r.directional[w]=O,w++}else if(K.isSpotLight){const O=t.get(K);O.position.setFromMatrixPosition(K.matrixWorld),O.color.copy(Q).multiplyScalar(Z*P),O.distance=se,O.coneCos=Math.cos(K.angle),O.penumbraCos=Math.cos(K.angle*(1-K.penumbra)),O.decay=K.decay,r.spot[v]=O;const J=K.shadow;if(K.map&&(r.spotLightMap[N]=K.map,N++,J.updateMatrices(K),K.castShadow&&B++),r.spotLightMatrix[v]=J.matrix,K.castShadow){const V=i.get(K);V.shadowBias=J.bias,V.shadowNormalBias=J.normalBias,V.shadowRadius=J.radius,V.shadowMapSize=J.mapSize,r.spotShadow[v]=V,r.spotShadowMap[v]=ie,T++}v++}else if(K.isRectAreaLight){const O=t.get(K);O.color.copy(Q).multiplyScalar(Z),O.halfWidth.set(K.width*.5,0,0),O.halfHeight.set(0,K.height*.5,0),r.rectArea[S]=O,S++}else if(K.isPointLight){const O=t.get(K);if(O.color.copy(K.color).multiplyScalar(K.intensity*P),O.distance=K.distance,O.decay=K.decay,K.castShadow){const J=K.shadow,V=i.get(K);V.shadowBias=J.bias,V.shadowNormalBias=J.normalBias,V.shadowRadius=J.radius,V.shadowMapSize=J.mapSize,V.shadowCameraNear=J.camera.near,V.shadowCameraFar=J.camera.far,r.pointShadow[A]=V,r.pointShadowMap[A]=ie,r.pointShadowMatrix[A]=K.shadow.matrix,C++}r.point[A]=O,A++}else if(K.isHemisphereLight){const O=t.get(K);O.skyColor.copy(K.color).multiplyScalar(Z*P),O.groundColor.copy(K.groundColor).multiplyScalar(Z*P),r.hemi[_]=O,_++}}S>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ke.LTC_FLOAT_1,r.rectAreaLTC2=ke.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=ke.LTC_HALF_1,r.rectAreaLTC2=ke.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=g,r.ambient[2]=x;const L=r.hash;(L.directionalLength!==w||L.pointLength!==A||L.spotLength!==v||L.rectAreaLength!==S||L.hemiLength!==_||L.numDirectionalShadows!==b||L.numPointShadows!==C||L.numSpotShadows!==T||L.numSpotMaps!==N)&&(r.directional.length=w,r.spot.length=v,r.rectArea.length=S,r.point.length=A,r.hemi.length=_,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=T,r.spotShadowMap.length=T,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=T+N-B,r.spotLightMap.length=N,r.numSpotLightShadowsWithMaps=B,L.directionalLength=w,L.pointLength=A,L.spotLength=v,L.rectAreaLength=S,L.hemiLength=_,L.numDirectionalShadows=b,L.numPointShadows=C,L.numSpotShadows=T,L.numSpotMaps=N,r.version=W6++)}function c(d,f){let p=0,g=0,x=0,w=0,A=0;const v=f.matrixWorldInverse;for(let S=0,_=d.length;S<_;S++){const b=d[S];if(b.isDirectionalLight){const C=r.directional[p];C.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(v),p++}else if(b.isSpotLight){const C=r.spot[x];C.position.setFromMatrixPosition(b.matrixWorld),C.position.applyMatrix4(v),C.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(v),x++}else if(b.isRectAreaLight){const C=r.rectArea[w];C.position.setFromMatrixPosition(b.matrixWorld),C.position.applyMatrix4(v),a.identity(),o.copy(b.matrixWorld),o.premultiply(v),a.extractRotation(o),C.halfWidth.set(b.width*.5,0,0),C.halfHeight.set(0,b.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),w++}else if(b.isPointLight){const C=r.point[g];C.position.setFromMatrixPosition(b.matrixWorld),C.position.applyMatrix4(v),g++}else if(b.isHemisphereLight){const C=r.hemi[A];C.direction.setFromMatrixPosition(b.matrixWorld),C.direction.transformDirection(v),A++}}}return{setup:l,setupView:c,state:r}}function Q2(n,e){const t=new J6(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(f){i.push(f)}function a(f){r.push(f)}function l(f){t.setup(i,f)}function c(f){t.setupView(i,f)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function K6(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new Q2(n,e),t.set(s,[l])):o>=a.length?(l=new Q2(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class hw extends On{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=hL,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class fw extends On{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Y6=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,q6=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Q6(n,e,t){let i=new x0;const r=new ve,s=new ve,o=new Wt,a=new hw({depthPacking:fL}),l=new fw,c={},d=t.maxTextureSize,f={[bs]:Li,[Li]:bs,[Rr]:Rr},p=new Cs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ve},radius:{value:4}},vertexShader:Y6,fragmentShader:q6}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const x=new yt;x.setAttribute("position",new Dt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new Qn(x,p),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=h0;let v=this.type;this.render=function(C,T,N){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||C.length===0)return;const B=n.getRenderTarget(),P=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),z=n.state;z.setBlending($s),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const ee=v!==Xr&&this.type===Xr,K=v===Xr&&this.type!==Xr;for(let Q=0,Z=C.length;Q<Z;Q++){const se=C[Q],ie=se.shadow;if(ie===void 0){console.warn("THREE.WebGLShadowMap:",se,"has no shadow.");continue}if(ie.autoUpdate===!1&&ie.needsUpdate===!1)continue;r.copy(ie.mapSize);const O=ie.getFrameExtents();if(r.multiply(O),s.copy(ie.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/O.x),r.x=s.x*O.x,ie.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/O.y),r.y=s.y*O.y,ie.mapSize.y=s.y)),ie.map===null||ee===!0||K===!0){const V=this.type!==Xr?{minFilter:Mn,magFilter:Mn}:{};ie.map!==null&&ie.map.dispose(),ie.map=new ts(r.x,r.y,V),ie.map.texture.name=se.name+".shadowMap",ie.camera.updateProjectionMatrix()}n.setRenderTarget(ie.map),n.clear();const J=ie.getViewportCount();for(let V=0;V<J;V++){const ne=ie.getViewport(V);o.set(s.x*ne.x,s.y*ne.y,s.x*ne.z,s.y*ne.w),z.viewport(o),ie.updateMatrices(se,V),i=ie.getFrustum(),b(T,N,ie.camera,se,this.type)}ie.isPointLightShadow!==!0&&this.type===Xr&&S(ie,N),ie.needsUpdate=!1}v=this.type,A.needsUpdate=!1,n.setRenderTarget(B,P,L)};function S(C,T){const N=e.update(w);p.defines.VSM_SAMPLES!==C.blurSamples&&(p.defines.VSM_SAMPLES=C.blurSamples,g.defines.VSM_SAMPLES=C.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new ts(r.x,r.y)),p.uniforms.shadow_pass.value=C.map.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,n.setRenderTarget(C.mapPass),n.clear(),n.renderBufferDirect(T,null,N,p,w,null),g.uniforms.shadow_pass.value=C.mapPass.texture,g.uniforms.resolution.value=C.mapSize,g.uniforms.radius.value=C.radius,n.setRenderTarget(C.map),n.clear(),n.renderBufferDirect(T,null,N,g,w,null)}function _(C,T,N,B){let P=null;const L=N.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(L!==void 0)P=L;else if(P=N.isPointLight===!0?l:a,n.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const z=P.uuid,ee=T.uuid;let K=c[z];K===void 0&&(K={},c[z]=K);let Q=K[ee];Q===void 0&&(Q=P.clone(),K[ee]=Q),P=Q}if(P.visible=T.visible,P.wireframe=T.wireframe,B===Xr?P.side=T.shadowSide!==null?T.shadowSide:T.side:P.side=T.shadowSide!==null?T.shadowSide:f[T.side],P.alphaMap=T.alphaMap,P.alphaTest=T.alphaTest,P.map=T.map,P.clipShadows=T.clipShadows,P.clippingPlanes=T.clippingPlanes,P.clipIntersection=T.clipIntersection,P.displacementMap=T.displacementMap,P.displacementScale=T.displacementScale,P.displacementBias=T.displacementBias,P.wireframeLinewidth=T.wireframeLinewidth,P.linewidth=T.linewidth,N.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const z=n.properties.get(P);z.light=N}return P}function b(C,T,N,B,P){if(C.visible===!1)return;if(C.layers.test(T.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&P===Xr)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,C.matrixWorld);const ee=e.update(C),K=C.material;if(Array.isArray(K)){const Q=ee.groups;for(let Z=0,se=Q.length;Z<se;Z++){const ie=Q[Z],O=K[ie.materialIndex];if(O&&O.visible){const J=_(C,O,B,P);n.renderBufferDirect(N,null,ee,J,C,ie)}}}else if(K.visible){const Q=_(C,K,B,P);n.renderBufferDirect(N,null,ee,Q,C,null)}}const z=C.children;for(let ee=0,K=z.length;ee<K;ee++)b(z[ee],T,N,B,P)}}function $6(n,e,t){const i=t.isWebGL2;function r(){let X=!1;const Te=new Wt;let le=null;const Le=new Wt(0,0,0,0);return{setMask:function(je){le!==je&&!X&&(n.colorMask(je,je,je,je),le=je)},setLocked:function(je){X=je},setClear:function(je,Tt,Lt,kt,oi){oi===!0&&(je*=kt,Tt*=kt,Lt*=kt),Te.set(je,Tt,Lt,kt),Le.equals(Te)===!1&&(n.clearColor(je,Tt,Lt,kt),Le.copy(Te))},reset:function(){X=!1,le=null,Le.set(-1,0,0,0)}}}function s(){let X=!1,Te=null,le=null,Le=null;return{setTest:function(je){je?we(n.DEPTH_TEST):Ce(n.DEPTH_TEST)},setMask:function(je){Te!==je&&!X&&(n.depthMask(je),Te=je)},setFunc:function(je){if(le!==je){switch(je){case jP:n.depthFunc(n.NEVER);break;case zP:n.depthFunc(n.ALWAYS);break;case HP:n.depthFunc(n.LESS);break;case Pg:n.depthFunc(n.LEQUAL);break;case GP:n.depthFunc(n.EQUAL);break;case VP:n.depthFunc(n.GEQUAL);break;case WP:n.depthFunc(n.GREATER);break;case XP:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}le=je}},setLocked:function(je){X=je},setClear:function(je){Le!==je&&(n.clearDepth(je),Le=je)},reset:function(){X=!1,Te=null,le=null,Le=null}}}function o(){let X=!1,Te=null,le=null,Le=null,je=null,Tt=null,Lt=null,kt=null,oi=null;return{setTest:function(jt){X||(jt?we(n.STENCIL_TEST):Ce(n.STENCIL_TEST))},setMask:function(jt){Te!==jt&&!X&&(n.stencilMask(jt),Te=jt)},setFunc:function(jt,Un,xn){(le!==jt||Le!==Un||je!==xn)&&(n.stencilFunc(jt,Un,xn),le=jt,Le=Un,je=xn)},setOp:function(jt,Un,xn){(Tt!==jt||Lt!==Un||kt!==xn)&&(n.stencilOp(jt,Un,xn),Tt=jt,Lt=Un,kt=xn)},setLocked:function(jt){X=jt},setClear:function(jt){oi!==jt&&(n.clearStencil(jt),oi=jt)},reset:function(){X=!1,Te=null,le=null,Le=null,je=null,Tt=null,Lt=null,kt=null,oi=null}}}const a=new r,l=new s,c=new o,d=new WeakMap,f=new WeakMap;let p={},g={},x=new WeakMap,w=[],A=null,v=!1,S=null,_=null,b=null,C=null,T=null,N=null,B=null,P=!1,L=null,z=null,ee=null,K=null,Q=null;const Z=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let se=!1,ie=0;const O=n.getParameter(n.VERSION);O.indexOf("WebGL")!==-1?(ie=parseFloat(/^WebGL (\d)/.exec(O)[1]),se=ie>=1):O.indexOf("OpenGL ES")!==-1&&(ie=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),se=ie>=2);let J=null,V={};const ne=n.getParameter(n.SCISSOR_BOX),j=n.getParameter(n.VIEWPORT),q=new Wt().fromArray(ne),Y=new Wt().fromArray(j);function ue(X,Te,le,Le){const je=new Uint8Array(4),Tt=n.createTexture();n.bindTexture(X,Tt),n.texParameteri(X,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(X,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Lt=0;Lt<le;Lt++)i&&(X===n.TEXTURE_3D||X===n.TEXTURE_2D_ARRAY)?n.texImage3D(Te,0,n.RGBA,1,1,Le,0,n.RGBA,n.UNSIGNED_BYTE,je):n.texImage2D(Te+Lt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,je);return Tt}const ye={};ye[n.TEXTURE_2D]=ue(n.TEXTURE_2D,n.TEXTURE_2D,1),ye[n.TEXTURE_CUBE_MAP]=ue(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(ye[n.TEXTURE_2D_ARRAY]=ue(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ye[n.TEXTURE_3D]=ue(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),we(n.DEPTH_TEST),l.setFunc(Pg),Se(!1),We(D1),we(n.CULL_FACE),pe($s);function we(X){p[X]!==!0&&(n.enable(X),p[X]=!0)}function Ce(X){p[X]!==!1&&(n.disable(X),p[X]=!1)}function Ee(X,Te){return g[X]!==Te?(n.bindFramebuffer(X,Te),g[X]=Te,i&&(X===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=Te),X===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=Te)),!0):!1}function Be(X,Te){let le=w,Le=!1;if(X)if(le=x.get(Te),le===void 0&&(le=[],x.set(Te,le)),X.isWebGLMultipleRenderTargets){const je=X.texture;if(le.length!==je.length||le[0]!==n.COLOR_ATTACHMENT0){for(let Tt=0,Lt=je.length;Tt<Lt;Tt++)le[Tt]=n.COLOR_ATTACHMENT0+Tt;le.length=je.length,Le=!0}}else le[0]!==n.COLOR_ATTACHMENT0&&(le[0]=n.COLOR_ATTACHMENT0,Le=!0);else le[0]!==n.BACK&&(le[0]=n.BACK,Le=!0);Le&&(t.isWebGL2?n.drawBuffers(le):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(le))}function Ae(X){return A!==X?(n.useProgram(X),A=X,!0):!1}const U={[Qa]:n.FUNC_ADD,[RP]:n.FUNC_SUBTRACT,[PP]:n.FUNC_REVERSE_SUBTRACT};if(i)U[O1]=n.MIN,U[U1]=n.MAX;else{const X=e.get("EXT_blend_minmax");X!==null&&(U[O1]=X.MIN_EXT,U[U1]=X.MAX_EXT)}const de={[LP]:n.ZERO,[NP]:n.ONE,[BP]:n.SRC_COLOR,[W_]:n.SRC_ALPHA,[UP]:n.SRC_ALPHA_SATURATE,[FP]:n.DST_COLOR,[IP]:n.DST_ALPHA,[DP]:n.ONE_MINUS_SRC_COLOR,[X_]:n.ONE_MINUS_SRC_ALPHA,[OP]:n.ONE_MINUS_DST_COLOR,[kP]:n.ONE_MINUS_DST_ALPHA};function pe(X,Te,le,Le,je,Tt,Lt,kt){if(X===$s){v===!0&&(Ce(n.BLEND),v=!1);return}if(v===!1&&(we(n.BLEND),v=!0),X!==TP){if(X!==S||kt!==P){if((_!==Qa||T!==Qa)&&(n.blendEquation(n.FUNC_ADD),_=Qa,T=Qa),kt)switch(X){case dl:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case I1:n.blendFunc(n.ONE,n.ONE);break;case k1:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case F1:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}else switch(X){case dl:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case I1:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case k1:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case F1:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}b=null,C=null,N=null,B=null,S=X,P=kt}return}je=je||Te,Tt=Tt||le,Lt=Lt||Le,(Te!==_||je!==T)&&(n.blendEquationSeparate(U[Te],U[je]),_=Te,T=je),(le!==b||Le!==C||Tt!==N||Lt!==B)&&(n.blendFuncSeparate(de[le],de[Le],de[Tt],de[Lt]),b=le,C=Le,N=Tt,B=Lt),S=X,P=!1}function Me(X,Te){X.side===Rr?Ce(n.CULL_FACE):we(n.CULL_FACE);let le=X.side===Li;Te&&(le=!le),Se(le),X.blending===dl&&X.transparent===!1?pe($s):pe(X.blending,X.blendEquation,X.blendSrc,X.blendDst,X.blendEquationAlpha,X.blendSrcAlpha,X.blendDstAlpha,X.premultipliedAlpha),l.setFunc(X.depthFunc),l.setTest(X.depthTest),l.setMask(X.depthWrite),a.setMask(X.colorWrite);const Le=X.stencilWrite;c.setTest(Le),Le&&(c.setMask(X.stencilWriteMask),c.setFunc(X.stencilFunc,X.stencilRef,X.stencilFuncMask),c.setOp(X.stencilFail,X.stencilZFail,X.stencilZPass)),Ge(X.polygonOffset,X.polygonOffsetFactor,X.polygonOffsetUnits),X.alphaToCoverage===!0?we(n.SAMPLE_ALPHA_TO_COVERAGE):Ce(n.SAMPLE_ALPHA_TO_COVERAGE)}function Se(X){L!==X&&(X?n.frontFace(n.CW):n.frontFace(n.CCW),L=X)}function We(X){X!==bP?(we(n.CULL_FACE),X!==z&&(X===D1?n.cullFace(n.BACK):X===EP?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ce(n.CULL_FACE),z=X}function Ue(X){X!==ee&&(se&&n.lineWidth(X),ee=X)}function Ge(X,Te,le){X?(we(n.POLYGON_OFFSET_FILL),(K!==Te||Q!==le)&&(n.polygonOffset(Te,le),K=Te,Q=le)):Ce(n.POLYGON_OFFSET_FILL)}function et(X){X?we(n.SCISSOR_TEST):Ce(n.SCISSOR_TEST)}function At(X){X===void 0&&(X=n.TEXTURE0+Z-1),J!==X&&(n.activeTexture(X),J=X)}function zt(X,Te,le){le===void 0&&(J===null?le=n.TEXTURE0+Z-1:le=J);let Le=V[le];Le===void 0&&(Le={type:void 0,texture:void 0},V[le]=Le),(Le.type!==X||Le.texture!==Te)&&(J!==le&&(n.activeTexture(le),J=le),n.bindTexture(X,Te||ye[X]),Le.type=X,Le.texture=Te)}function G(){const X=V[J];X!==void 0&&X.type!==void 0&&(n.bindTexture(X.type,null),X.type=void 0,X.texture=void 0)}function I(){try{n.compressedTexImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function he(){try{n.compressedTexImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Re(){try{n.texSubImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function be(){try{n.texSubImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function De(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Qe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ie(){try{n.texStorage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function me(){try{n.texStorage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function tt(){try{n.texImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function nt(){try{n.texImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function it(X){q.equals(X)===!1&&(n.scissor(X.x,X.y,X.z,X.w),q.copy(X))}function Xe(X){Y.equals(X)===!1&&(n.viewport(X.x,X.y,X.z,X.w),Y.copy(X))}function W(X,Te){let le=f.get(Te);le===void 0&&(le=new WeakMap,f.set(Te,le));let Le=le.get(X);Le===void 0&&(Le=n.getUniformBlockIndex(Te,X.name),le.set(X,Le))}function _e(X,Te){const Le=f.get(Te).get(X);d.get(Te)!==Le&&(n.uniformBlockBinding(Te,Le,X.__bindingPointIndex),d.set(Te,Le))}function Oe(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},J=null,V={},g={},x=new WeakMap,w=[],A=null,v=!1,S=null,_=null,b=null,C=null,T=null,N=null,B=null,P=!1,L=null,z=null,ee=null,K=null,Q=null,q.set(0,0,n.canvas.width,n.canvas.height),Y.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:we,disable:Ce,bindFramebuffer:Ee,drawBuffers:Be,useProgram:Ae,setBlending:pe,setMaterial:Me,setFlipSided:Se,setCullFace:We,setLineWidth:Ue,setPolygonOffset:Ge,setScissorTest:et,activeTexture:At,bindTexture:zt,unbindTexture:G,compressedTexImage2D:I,compressedTexImage3D:he,texImage2D:tt,texImage3D:nt,updateUBOMapping:W,uniformBlockBinding:_e,texStorage2D:Ie,texStorage3D:me,texSubImage2D:Re,texSubImage3D:be,compressedTexSubImage2D:De,compressedTexSubImage3D:Qe,scissor:it,viewport:Xe,reset:Oe}}function Z6(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,d=r.maxTextureSize,f=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,g=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),x=new WeakMap;let w;const A=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(G,I){return v?new OffscreenCanvas(G,I):Ph("canvas")}function _(G,I,he,Re){let be=1;if((G.width>Re||G.height>Re)&&(be=Re/Math.max(G.width,G.height)),be<1||I===!0)if(typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&G instanceof ImageBitmap){const De=I?Bg:Math.floor,Qe=De(be*G.width),Ie=De(be*G.height);w===void 0&&(w=S(Qe,Ie));const me=he?S(Qe,Ie):w;return me.width=Qe,me.height=Ie,me.getContext("2d").drawImage(G,0,0,Qe,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+G.width+"x"+G.height+") to ("+Qe+"x"+Ie+")."),me}else return"data"in G&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+G.width+"x"+G.height+")."),G;return G}function b(G){return uA(G.width)&&uA(G.height)}function C(G){return a?!1:G.wrapS!==ii||G.wrapT!==ii||G.minFilter!==Mn&&G.minFilter!==Vt}function T(G,I){return G.generateMipmaps&&I&&G.minFilter!==Mn&&G.minFilter!==Vt}function N(G){n.generateMipmap(G)}function B(G,I,he,Re,be=!1){if(a===!1)return I;if(G!==null){if(n[G]!==void 0)return n[G];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let De=I;return I===n.RED&&(he===n.FLOAT&&(De=n.R32F),he===n.HALF_FLOAT&&(De=n.R16F),he===n.UNSIGNED_BYTE&&(De=n.R8)),I===n.RG&&(he===n.FLOAT&&(De=n.RG32F),he===n.HALF_FLOAT&&(De=n.RG16F),he===n.UNSIGNED_BYTE&&(De=n.RG8)),I===n.RGBA&&(he===n.FLOAT&&(De=n.RGBA32F),he===n.HALF_FLOAT&&(De=n.RGBA16F),he===n.UNSIGNED_BYTE&&(De=Re===mt&&be===!1?n.SRGB8_ALPHA8:n.RGBA8),he===n.UNSIGNED_SHORT_4_4_4_4&&(De=n.RGBA4),he===n.UNSIGNED_SHORT_5_5_5_1&&(De=n.RGB5_A1)),(De===n.R16F||De===n.R32F||De===n.RG16F||De===n.RG32F||De===n.RGBA16F||De===n.RGBA32F)&&e.get("EXT_color_buffer_float"),De}function P(G,I,he){return T(G,he)===!0||G.isFramebufferTexture&&G.minFilter!==Mn&&G.minFilter!==Vt?Math.log2(Math.max(I.width,I.height))+1:G.mipmaps!==void 0&&G.mipmaps.length>0?G.mipmaps.length:G.isCompressedTexture&&Array.isArray(G.image)?I.mipmaps.length:1}function L(G){return G===Mn||G===Eh||G===iu?n.NEAREST:n.LINEAR}function z(G){const I=G.target;I.removeEventListener("dispose",z),K(I),I.isVideoTexture&&x.delete(I)}function ee(G){const I=G.target;I.removeEventListener("dispose",ee),Z(I)}function K(G){const I=i.get(G);if(I.__webglInit===void 0)return;const he=G.source,Re=A.get(he);if(Re){const be=Re[I.__cacheKey];be.usedTimes--,be.usedTimes===0&&Q(G),Object.keys(Re).length===0&&A.delete(he)}i.remove(G)}function Q(G){const I=i.get(G);n.deleteTexture(I.__webglTexture);const he=G.source,Re=A.get(he);delete Re[I.__cacheKey],o.memory.textures--}function Z(G){const I=G.texture,he=i.get(G),Re=i.get(I);if(Re.__webglTexture!==void 0&&(n.deleteTexture(Re.__webglTexture),o.memory.textures--),G.depthTexture&&G.depthTexture.dispose(),G.isWebGLCubeRenderTarget)for(let be=0;be<6;be++)n.deleteFramebuffer(he.__webglFramebuffer[be]),he.__webglDepthbuffer&&n.deleteRenderbuffer(he.__webglDepthbuffer[be]);else{if(n.deleteFramebuffer(he.__webglFramebuffer),he.__webglDepthbuffer&&n.deleteRenderbuffer(he.__webglDepthbuffer),he.__webglMultisampledFramebuffer&&n.deleteFramebuffer(he.__webglMultisampledFramebuffer),he.__webglColorRenderbuffer)for(let be=0;be<he.__webglColorRenderbuffer.length;be++)he.__webglColorRenderbuffer[be]&&n.deleteRenderbuffer(he.__webglColorRenderbuffer[be]);he.__webglDepthRenderbuffer&&n.deleteRenderbuffer(he.__webglDepthRenderbuffer)}if(G.isWebGLMultipleRenderTargets)for(let be=0,De=I.length;be<De;be++){const Qe=i.get(I[be]);Qe.__webglTexture&&(n.deleteTexture(Qe.__webglTexture),o.memory.textures--),i.remove(I[be])}i.remove(I),i.remove(G)}let se=0;function ie(){se=0}function O(){const G=se;return G>=l&&console.warn("THREE.WebGLTextures: Trying to use "+G+" texture units while this GPU supports only "+l),se+=1,G}function J(G){const I=[];return I.push(G.wrapS),I.push(G.wrapT),I.push(G.wrapR||0),I.push(G.magFilter),I.push(G.minFilter),I.push(G.anisotropy),I.push(G.internalFormat),I.push(G.format),I.push(G.type),I.push(G.generateMipmaps),I.push(G.premultiplyAlpha),I.push(G.flipY),I.push(G.unpackAlignment),I.push(G.colorSpace),I.join()}function V(G,I){const he=i.get(G);if(G.isVideoTexture&&At(G),G.isRenderTargetTexture===!1&&G.version>0&&he.__version!==G.version){const Re=G.image;if(Re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ee(he,G,I);return}}t.bindTexture(n.TEXTURE_2D,he.__webglTexture,n.TEXTURE0+I)}function ne(G,I){const he=i.get(G);if(G.version>0&&he.__version!==G.version){Ee(he,G,I);return}t.bindTexture(n.TEXTURE_2D_ARRAY,he.__webglTexture,n.TEXTURE0+I)}function j(G,I){const he=i.get(G);if(G.version>0&&he.__version!==G.version){Ee(he,G,I);return}t.bindTexture(n.TEXTURE_3D,he.__webglTexture,n.TEXTURE0+I)}function q(G,I){const he=i.get(G);if(G.version>0&&he.__version!==G.version){Be(he,G,I);return}t.bindTexture(n.TEXTURE_CUBE_MAP,he.__webglTexture,n.TEXTURE0+I)}const Y={[la]:n.REPEAT,[ii]:n.CLAMP_TO_EDGE,[mu]:n.MIRRORED_REPEAT},ue={[Mn]:n.NEAREST,[Eh]:n.NEAREST_MIPMAP_NEAREST,[iu]:n.NEAREST_MIPMAP_LINEAR,[Vt]:n.LINEAR,[p0]:n.LINEAR_MIPMAP_NEAREST,[Es]:n.LINEAR_MIPMAP_LINEAR},ye={[gL]:n.NEVER,[SL]:n.ALWAYS,[vL]:n.LESS,[yL]:n.LEQUAL,[xL]:n.EQUAL,[wL]:n.GEQUAL,[AL]:n.GREATER,[_L]:n.NOTEQUAL};function we(G,I,he){if(he?(n.texParameteri(G,n.TEXTURE_WRAP_S,Y[I.wrapS]),n.texParameteri(G,n.TEXTURE_WRAP_T,Y[I.wrapT]),(G===n.TEXTURE_3D||G===n.TEXTURE_2D_ARRAY)&&n.texParameteri(G,n.TEXTURE_WRAP_R,Y[I.wrapR]),n.texParameteri(G,n.TEXTURE_MAG_FILTER,ue[I.magFilter]),n.texParameteri(G,n.TEXTURE_MIN_FILTER,ue[I.minFilter])):(n.texParameteri(G,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(G,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(G===n.TEXTURE_3D||G===n.TEXTURE_2D_ARRAY)&&n.texParameteri(G,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(I.wrapS!==ii||I.wrapT!==ii)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(G,n.TEXTURE_MAG_FILTER,L(I.magFilter)),n.texParameteri(G,n.TEXTURE_MIN_FILTER,L(I.minFilter)),I.minFilter!==Mn&&I.minFilter!==Vt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),I.compareFunction&&(n.texParameteri(G,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(G,n.TEXTURE_COMPARE_FUNC,ye[I.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Re=e.get("EXT_texture_filter_anisotropic");if(I.magFilter===Mn||I.minFilter!==iu&&I.minFilter!==Es||I.type===vs&&e.has("OES_texture_float_linear")===!1||a===!1&&I.type===gu&&e.has("OES_texture_half_float_linear")===!1)return;(I.anisotropy>1||i.get(I).__currentAnisotropy)&&(n.texParameterf(G,Re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,r.getMaxAnisotropy())),i.get(I).__currentAnisotropy=I.anisotropy)}}function Ce(G,I){let he=!1;G.__webglInit===void 0&&(G.__webglInit=!0,I.addEventListener("dispose",z));const Re=I.source;let be=A.get(Re);be===void 0&&(be={},A.set(Re,be));const De=J(I);if(De!==G.__cacheKey){be[De]===void 0&&(be[De]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,he=!0),be[De].usedTimes++;const Qe=be[G.__cacheKey];Qe!==void 0&&(be[G.__cacheKey].usedTimes--,Qe.usedTimes===0&&Q(I)),G.__cacheKey=De,G.__webglTexture=be[De].texture}return he}function Ee(G,I,he){let Re=n.TEXTURE_2D;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(Re=n.TEXTURE_2D_ARRAY),I.isData3DTexture&&(Re=n.TEXTURE_3D);const be=Ce(G,I),De=I.source;t.bindTexture(Re,G.__webglTexture,n.TEXTURE0+he);const Qe=i.get(De);if(De.version!==Qe.__version||be===!0){t.activeTexture(n.TEXTURE0+he),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,I.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,I.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Ie=C(I)&&b(I.image)===!1;let me=_(I.image,Ie,!1,d);me=zt(I,me);const tt=b(me)||a,nt=s.convert(I.format,I.colorSpace);let it=s.convert(I.type),Xe=B(I.internalFormat,nt,it,I.colorSpace);we(Re,I,tt);let W;const _e=I.mipmaps,Oe=a&&I.isVideoTexture!==!0,X=Qe.__version===void 0||be===!0,Te=P(I,me,tt);if(I.isDepthTexture)Xe=n.DEPTH_COMPONENT,a?I.type===vs?Xe=n.DEPTH_COMPONENT32F:I.type===Ks?Xe=n.DEPTH_COMPONENT24:I.type===qo?Xe=n.DEPTH24_STENCIL8:Xe=n.DEPTH_COMPONENT16:I.type===vs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===Qo&&Xe===n.DEPTH_COMPONENT&&I.type!==m0&&I.type!==Ks&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=Ks,it=s.convert(I.type)),I.format===wl&&Xe===n.DEPTH_COMPONENT&&(Xe=n.DEPTH_STENCIL,I.type!==qo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=qo,it=s.convert(I.type))),X&&(Oe?t.texStorage2D(n.TEXTURE_2D,1,Xe,me.width,me.height):t.texImage2D(n.TEXTURE_2D,0,Xe,me.width,me.height,0,nt,it,null));else if(I.isDataTexture)if(_e.length>0&&tt){Oe&&X&&t.texStorage2D(n.TEXTURE_2D,Te,Xe,_e[0].width,_e[0].height);for(let le=0,Le=_e.length;le<Le;le++)W=_e[le],Oe?t.texSubImage2D(n.TEXTURE_2D,le,0,0,W.width,W.height,nt,it,W.data):t.texImage2D(n.TEXTURE_2D,le,Xe,W.width,W.height,0,nt,it,W.data);I.generateMipmaps=!1}else Oe?(X&&t.texStorage2D(n.TEXTURE_2D,Te,Xe,me.width,me.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,me.width,me.height,nt,it,me.data)):t.texImage2D(n.TEXTURE_2D,0,Xe,me.width,me.height,0,nt,it,me.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){Oe&&X&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Te,Xe,_e[0].width,_e[0].height,me.depth);for(let le=0,Le=_e.length;le<Le;le++)W=_e[le],I.format!==zi?nt!==null?Oe?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,le,0,0,0,W.width,W.height,me.depth,nt,W.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,le,Xe,W.width,W.height,me.depth,0,W.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Oe?t.texSubImage3D(n.TEXTURE_2D_ARRAY,le,0,0,0,W.width,W.height,me.depth,nt,it,W.data):t.texImage3D(n.TEXTURE_2D_ARRAY,le,Xe,W.width,W.height,me.depth,0,nt,it,W.data)}else{Oe&&X&&t.texStorage2D(n.TEXTURE_2D,Te,Xe,_e[0].width,_e[0].height);for(let le=0,Le=_e.length;le<Le;le++)W=_e[le],I.format!==zi?nt!==null?Oe?t.compressedTexSubImage2D(n.TEXTURE_2D,le,0,0,W.width,W.height,nt,W.data):t.compressedTexImage2D(n.TEXTURE_2D,le,Xe,W.width,W.height,0,W.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Oe?t.texSubImage2D(n.TEXTURE_2D,le,0,0,W.width,W.height,nt,it,W.data):t.texImage2D(n.TEXTURE_2D,le,Xe,W.width,W.height,0,nt,it,W.data)}else if(I.isDataArrayTexture)Oe?(X&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Te,Xe,me.width,me.height,me.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,me.width,me.height,me.depth,nt,it,me.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Xe,me.width,me.height,me.depth,0,nt,it,me.data);else if(I.isData3DTexture)Oe?(X&&t.texStorage3D(n.TEXTURE_3D,Te,Xe,me.width,me.height,me.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,me.width,me.height,me.depth,nt,it,me.data)):t.texImage3D(n.TEXTURE_3D,0,Xe,me.width,me.height,me.depth,0,nt,it,me.data);else if(I.isFramebufferTexture){if(X)if(Oe)t.texStorage2D(n.TEXTURE_2D,Te,Xe,me.width,me.height);else{let le=me.width,Le=me.height;for(let je=0;je<Te;je++)t.texImage2D(n.TEXTURE_2D,je,Xe,le,Le,0,nt,it,null),le>>=1,Le>>=1}}else if(_e.length>0&&tt){Oe&&X&&t.texStorage2D(n.TEXTURE_2D,Te,Xe,_e[0].width,_e[0].height);for(let le=0,Le=_e.length;le<Le;le++)W=_e[le],Oe?t.texSubImage2D(n.TEXTURE_2D,le,0,0,nt,it,W):t.texImage2D(n.TEXTURE_2D,le,Xe,nt,it,W);I.generateMipmaps=!1}else Oe?(X&&t.texStorage2D(n.TEXTURE_2D,Te,Xe,me.width,me.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,nt,it,me)):t.texImage2D(n.TEXTURE_2D,0,Xe,nt,it,me);T(I,tt)&&N(Re),Qe.__version=De.version,I.onUpdate&&I.onUpdate(I)}G.__version=I.version}function Be(G,I,he){if(I.image.length!==6)return;const Re=Ce(G,I),be=I.source;t.bindTexture(n.TEXTURE_CUBE_MAP,G.__webglTexture,n.TEXTURE0+he);const De=i.get(be);if(be.version!==De.__version||Re===!0){t.activeTexture(n.TEXTURE0+he),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,I.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,I.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Qe=I.isCompressedTexture||I.image[0].isCompressedTexture,Ie=I.image[0]&&I.image[0].isDataTexture,me=[];for(let le=0;le<6;le++)!Qe&&!Ie?me[le]=_(I.image[le],!1,!0,c):me[le]=Ie?I.image[le].image:I.image[le],me[le]=zt(I,me[le]);const tt=me[0],nt=b(tt)||a,it=s.convert(I.format,I.colorSpace),Xe=s.convert(I.type),W=B(I.internalFormat,it,Xe,I.colorSpace),_e=a&&I.isVideoTexture!==!0,Oe=De.__version===void 0||Re===!0;let X=P(I,tt,nt);we(n.TEXTURE_CUBE_MAP,I,nt);let Te;if(Qe){_e&&Oe&&t.texStorage2D(n.TEXTURE_CUBE_MAP,X,W,tt.width,tt.height);for(let le=0;le<6;le++){Te=me[le].mipmaps;for(let Le=0;Le<Te.length;Le++){const je=Te[Le];I.format!==zi?it!==null?_e?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le,0,0,je.width,je.height,it,je.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le,W,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):_e?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le,0,0,je.width,je.height,it,Xe,je.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le,W,je.width,je.height,0,it,Xe,je.data)}}}else{Te=I.mipmaps,_e&&Oe&&(Te.length>0&&X++,t.texStorage2D(n.TEXTURE_CUBE_MAP,X,W,me[0].width,me[0].height));for(let le=0;le<6;le++)if(Ie){_e?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,me[le].width,me[le].height,it,Xe,me[le].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,W,me[le].width,me[le].height,0,it,Xe,me[le].data);for(let Le=0;Le<Te.length;Le++){const Tt=Te[Le].image[le].image;_e?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le+1,0,0,Tt.width,Tt.height,it,Xe,Tt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le+1,W,Tt.width,Tt.height,0,it,Xe,Tt.data)}}else{_e?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,it,Xe,me[le]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,W,it,Xe,me[le]);for(let Le=0;Le<Te.length;Le++){const je=Te[Le];_e?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le+1,0,0,it,Xe,je.image[le]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Le+1,W,it,Xe,je.image[le])}}}T(I,nt)&&N(n.TEXTURE_CUBE_MAP),De.__version=be.version,I.onUpdate&&I.onUpdate(I)}G.__version=I.version}function Ae(G,I,he,Re,be){const De=s.convert(he.format,he.colorSpace),Qe=s.convert(he.type),Ie=B(he.internalFormat,De,Qe,he.colorSpace);i.get(I).__hasExternalTextures||(be===n.TEXTURE_3D||be===n.TEXTURE_2D_ARRAY?t.texImage3D(be,0,Ie,I.width,I.height,I.depth,0,De,Qe,null):t.texImage2D(be,0,Ie,I.width,I.height,0,De,Qe,null)),t.bindFramebuffer(n.FRAMEBUFFER,G),et(I)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Re,be,i.get(he).__webglTexture,0,Ge(I)):(be===n.TEXTURE_2D||be>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&be<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Re,be,i.get(he).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function U(G,I,he){if(n.bindRenderbuffer(n.RENDERBUFFER,G),I.depthBuffer&&!I.stencilBuffer){let Re=n.DEPTH_COMPONENT16;if(he||et(I)){const be=I.depthTexture;be&&be.isDepthTexture&&(be.type===vs?Re=n.DEPTH_COMPONENT32F:be.type===Ks&&(Re=n.DEPTH_COMPONENT24));const De=Ge(I);et(I)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,De,Re,I.width,I.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,De,Re,I.width,I.height)}else n.renderbufferStorage(n.RENDERBUFFER,Re,I.width,I.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,G)}else if(I.depthBuffer&&I.stencilBuffer){const Re=Ge(I);he&&et(I)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Re,n.DEPTH24_STENCIL8,I.width,I.height):et(I)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Re,n.DEPTH24_STENCIL8,I.width,I.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,I.width,I.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,G)}else{const Re=I.isWebGLMultipleRenderTargets===!0?I.texture:[I.texture];for(let be=0;be<Re.length;be++){const De=Re[be],Qe=s.convert(De.format,De.colorSpace),Ie=s.convert(De.type),me=B(De.internalFormat,Qe,Ie,De.colorSpace),tt=Ge(I);he&&et(I)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,tt,me,I.width,I.height):et(I)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,tt,me,I.width,I.height):n.renderbufferStorage(n.RENDERBUFFER,me,I.width,I.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function de(G,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,G),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),V(I.depthTexture,0);const Re=i.get(I.depthTexture).__webglTexture,be=Ge(I);if(I.depthTexture.format===Qo)et(I)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Re,0,be):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Re,0);else if(I.depthTexture.format===wl)et(I)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Re,0,be):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Re,0);else throw new Error("Unknown depthTexture format")}function pe(G){const I=i.get(G),he=G.isWebGLCubeRenderTarget===!0;if(G.depthTexture&&!I.__autoAllocateDepthBuffer){if(he)throw new Error("target.depthTexture not supported in Cube render targets");de(I.__webglFramebuffer,G)}else if(he){I.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)t.bindFramebuffer(n.FRAMEBUFFER,I.__webglFramebuffer[Re]),I.__webglDepthbuffer[Re]=n.createRenderbuffer(),U(I.__webglDepthbuffer[Re],G,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,I.__webglFramebuffer),I.__webglDepthbuffer=n.createRenderbuffer(),U(I.__webglDepthbuffer,G,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Me(G,I,he){const Re=i.get(G);I!==void 0&&Ae(Re.__webglFramebuffer,G,G.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),he!==void 0&&pe(G)}function Se(G){const I=G.texture,he=i.get(G),Re=i.get(I);G.addEventListener("dispose",ee),G.isWebGLMultipleRenderTargets!==!0&&(Re.__webglTexture===void 0&&(Re.__webglTexture=n.createTexture()),Re.__version=I.version,o.memory.textures++);const be=G.isWebGLCubeRenderTarget===!0,De=G.isWebGLMultipleRenderTargets===!0,Qe=b(G)||a;if(be){he.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)he.__webglFramebuffer[Ie]=n.createFramebuffer()}else{if(he.__webglFramebuffer=n.createFramebuffer(),De)if(r.drawBuffers){const Ie=G.texture;for(let me=0,tt=Ie.length;me<tt;me++){const nt=i.get(Ie[me]);nt.__webglTexture===void 0&&(nt.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&G.samples>0&&et(G)===!1){const Ie=De?I:[I];he.__webglMultisampledFramebuffer=n.createFramebuffer(),he.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,he.__webglMultisampledFramebuffer);for(let me=0;me<Ie.length;me++){const tt=Ie[me];he.__webglColorRenderbuffer[me]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,he.__webglColorRenderbuffer[me]);const nt=s.convert(tt.format,tt.colorSpace),it=s.convert(tt.type),Xe=B(tt.internalFormat,nt,it,tt.colorSpace,G.isXRRenderTarget===!0),W=Ge(G);n.renderbufferStorageMultisample(n.RENDERBUFFER,W,Xe,G.width,G.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+me,n.RENDERBUFFER,he.__webglColorRenderbuffer[me])}n.bindRenderbuffer(n.RENDERBUFFER,null),G.depthBuffer&&(he.__webglDepthRenderbuffer=n.createRenderbuffer(),U(he.__webglDepthRenderbuffer,G,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(be){t.bindTexture(n.TEXTURE_CUBE_MAP,Re.__webglTexture),we(n.TEXTURE_CUBE_MAP,I,Qe);for(let Ie=0;Ie<6;Ie++)Ae(he.__webglFramebuffer[Ie],G,I,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie);T(I,Qe)&&N(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(De){const Ie=G.texture;for(let me=0,tt=Ie.length;me<tt;me++){const nt=Ie[me],it=i.get(nt);t.bindTexture(n.TEXTURE_2D,it.__webglTexture),we(n.TEXTURE_2D,nt,Qe),Ae(he.__webglFramebuffer,G,nt,n.COLOR_ATTACHMENT0+me,n.TEXTURE_2D),T(nt,Qe)&&N(n.TEXTURE_2D)}t.unbindTexture()}else{let Ie=n.TEXTURE_2D;(G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(a?Ie=G.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ie,Re.__webglTexture),we(Ie,I,Qe),Ae(he.__webglFramebuffer,G,I,n.COLOR_ATTACHMENT0,Ie),T(I,Qe)&&N(Ie),t.unbindTexture()}G.depthBuffer&&pe(G)}function We(G){const I=b(G)||a,he=G.isWebGLMultipleRenderTargets===!0?G.texture:[G.texture];for(let Re=0,be=he.length;Re<be;Re++){const De=he[Re];if(T(De,I)){const Qe=G.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ie=i.get(De).__webglTexture;t.bindTexture(Qe,Ie),N(Qe),t.unbindTexture()}}}function Ue(G){if(a&&G.samples>0&&et(G)===!1){const I=G.isWebGLMultipleRenderTargets?G.texture:[G.texture],he=G.width,Re=G.height;let be=n.COLOR_BUFFER_BIT;const De=[],Qe=G.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=i.get(G),me=G.isWebGLMultipleRenderTargets===!0;if(me)for(let tt=0;tt<I.length;tt++)t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+tt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+tt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglFramebuffer);for(let tt=0;tt<I.length;tt++){De.push(n.COLOR_ATTACHMENT0+tt),G.depthBuffer&&De.push(Qe);const nt=Ie.__ignoreDepthValues!==void 0?Ie.__ignoreDepthValues:!1;if(nt===!1&&(G.depthBuffer&&(be|=n.DEPTH_BUFFER_BIT),G.stencilBuffer&&(be|=n.STENCIL_BUFFER_BIT)),me&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[tt]),nt===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Qe]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Qe])),me){const it=i.get(I[tt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,it,0)}n.blitFramebuffer(0,0,he,Re,0,0,he,Re,be,n.NEAREST),g&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,De)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),me)for(let tt=0;tt<I.length;tt++){t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+tt,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[tt]);const nt=i.get(I[tt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+tt,n.TEXTURE_2D,nt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer)}}function Ge(G){return Math.min(f,G.samples)}function et(G){const I=i.get(G);return a&&G.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function At(G){const I=o.render.frame;x.get(G)!==I&&(x.set(G,I),G.update())}function zt(G,I){const he=G.colorSpace,Re=G.format,be=G.type;return G.isCompressedTexture===!0||G.format===Ng||he!==Dr&&he!==Zo&&(he===mt?a===!1?e.has("EXT_sRGB")===!0&&Re===zi?(G.format=Ng,G.minFilter=Vt,G.generateMipmaps=!1):I=sw.sRGBToLinear(I):(Re!==zi||be!==ws)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",he)),I}this.allocateTextureUnit=O,this.resetTextureUnits=ie,this.setTexture2D=V,this.setTexture2DArray=ne,this.setTexture3D=j,this.setTextureCube=q,this.rebindTextures=Me,this.setupRenderTarget=Se,this.updateRenderTargetMipmap=We,this.updateMultisampleRenderTarget=Ue,this.setupDepthRenderbuffer=pe,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=et}function IL(n,e,t){const i=t.isWebGL2;function r(s,o=Zo){let a;if(s===ws)return n.UNSIGNED_BYTE;if(s===Y_)return n.UNSIGNED_SHORT_4_4_4_4;if(s===q_)return n.UNSIGNED_SHORT_5_5_5_1;if(s===ZP)return n.BYTE;if(s===eL)return n.SHORT;if(s===m0)return n.UNSIGNED_SHORT;if(s===K_)return n.INT;if(s===Ks)return n.UNSIGNED_INT;if(s===vs)return n.FLOAT;if(s===gu)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===tL)return n.ALPHA;if(s===zi)return n.RGBA;if(s===nL)return n.LUMINANCE;if(s===iL)return n.LUMINANCE_ALPHA;if(s===Qo)return n.DEPTH_COMPONENT;if(s===wl)return n.DEPTH_STENCIL;if(s===Ng)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===rL)return n.RED;if(s===Q_)return n.RED_INTEGER;if(s===sL)return n.RG;if(s===$_)return n.RG_INTEGER;if(s===Z_)return n.RGBA_INTEGER;if(s===Jm||s===Km||s===Ym||s===qm)if(o===mt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Jm)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Km)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Ym)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===qm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Jm)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Km)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Ym)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===qm)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===j1||s===z1||s===H1||s===G1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===j1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===z1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===H1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===G1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===oL)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===V1||s===W1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===V1)return o===mt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===W1)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===X1||s===J1||s===K1||s===Y1||s===q1||s===Q1||s===$1||s===Z1||s===eA||s===tA||s===nA||s===iA||s===rA||s===sA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===X1)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===J1)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===K1)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Y1)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===q1)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Q1)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===$1)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Z1)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===eA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===tA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===nA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===iA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===rA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===sA)return o===mt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Qm)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Qm)return o===mt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===aL||s===oA||s===aA||s===lA)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Qm)return a.COMPRESSED_RED_RGTC1_EXT;if(s===oA)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===aA)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===lA)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===qo?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class kL extends on{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ys extends Bt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const e9={type:"move"};class jx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ys,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ys,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new k,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new k),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ys,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new k,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new k),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const w of e.hand.values()){const A=t.getJointPose(w,i),v=this._getHandJoint(c,w);A!==null&&(v.matrix.fromArray(A.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=A.radius),v.visible=A!==null}const d=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=d.position.distanceTo(f.position),g=.02,x=.005;c.inputState.pinching&&p>g+x?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=g-x&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(e9)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Ys;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class FL extends an{constructor(e,t,i,r,s,o,a,l,c,d){if(d=d!==void 0?d:Qo,d!==Qo&&d!==wl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===Qo&&(i=Ks),i===void 0&&d===wl&&(i=qo),super(null,r,s,o,a,l,d,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Mn,this.minFilter=l!==void 0?l:Mn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class t9 extends ho{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,f=null,p=null,g=null,x=null;const w=t.getContextAttributes();let A=null,v=null;const S=[],_=[];let b=null;const C=new on;C.layers.enable(1),C.viewport=new Wt;const T=new on;T.layers.enable(2),T.viewport=new Wt;const N=[C,T],B=new kL;B.layers.enable(1),B.layers.enable(2);let P=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(j){b=j},this.getController=function(j){let q=S[j];return q===void 0&&(q=new jx,S[j]=q),q.getTargetRaySpace()},this.getControllerGrip=function(j){let q=S[j];return q===void 0&&(q=new jx,S[j]=q),q.getGripSpace()},this.getHand=function(j){let q=S[j];return q===void 0&&(q=new jx,S[j]=q),q.getHandSpace()};function z(j){const q=_.indexOf(j.inputSource);if(q===-1)return;const Y=S[q];Y!==void 0&&(Y.update(j.inputSource,j.frame,c||o),Y.dispatchEvent({type:j.type,data:j.inputSource}))}function ee(){r.removeEventListener("select",z),r.removeEventListener("selectstart",z),r.removeEventListener("selectend",z),r.removeEventListener("squeeze",z),r.removeEventListener("squeezestart",z),r.removeEventListener("squeezeend",z),r.removeEventListener("end",ee),r.removeEventListener("inputsourceschange",K);for(let j=0;j<S.length;j++){const q=_[j];q!==null&&(_[j]=null,S[j].disconnect(q))}P=null,L=null,e.setRenderTarget(A),g=null,p=null,f=null,r=null,v=null,ne.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(j){s=j,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(j){a=j,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(j){c=j},this.getBaseLayer=function(){return p!==null?p:g},this.getBinding=function(){return f},this.getFrame=function(){return x},this.getSession=function(){return r},this.setSession=async function(j){if(r=j,r!==null){if(A=e.getRenderTarget(),r.addEventListener("select",z),r.addEventListener("selectstart",z),r.addEventListener("selectend",z),r.addEventListener("squeeze",z),r.addEventListener("squeezestart",z),r.addEventListener("squeezeend",z),r.addEventListener("end",ee),r.addEventListener("inputsourceschange",K),w.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const q={antialias:r.renderState.layers===void 0?w.antialias:!0,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(r,t,q),r.updateRenderState({baseLayer:g}),v=new ts(g.framebufferWidth,g.framebufferHeight,{format:zi,type:ws,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil})}else{let q=null,Y=null,ue=null;w.depth&&(ue=w.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,q=w.stencil?wl:Qo,Y=w.stencil?qo:Ks);const ye={colorFormat:t.RGBA8,depthFormat:ue,scaleFactor:s};f=new XRWebGLBinding(r,t),p=f.createProjectionLayer(ye),r.updateRenderState({layers:[p]}),v=new ts(p.textureWidth,p.textureHeight,{format:zi,type:ws,depthTexture:new FL(p.textureWidth,p.textureHeight,Y,void 0,void 0,void 0,void 0,void 0,void 0,q),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0});const we=e.properties.get(v);we.__ignoreDepthValues=p.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),ne.setContext(r),ne.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function K(j){for(let q=0;q<j.removed.length;q++){const Y=j.removed[q],ue=_.indexOf(Y);ue>=0&&(_[ue]=null,S[ue].disconnect(Y))}for(let q=0;q<j.added.length;q++){const Y=j.added[q];let ue=_.indexOf(Y);if(ue===-1){for(let we=0;we<S.length;we++)if(we>=_.length){_.push(Y),ue=we;break}else if(_[we]===null){_[we]=Y,ue=we;break}if(ue===-1)break}const ye=S[ue];ye&&ye.connect(Y)}}const Q=new k,Z=new k;function se(j,q,Y){Q.setFromMatrixPosition(q.matrixWorld),Z.setFromMatrixPosition(Y.matrixWorld);const ue=Q.distanceTo(Z),ye=q.projectionMatrix.elements,we=Y.projectionMatrix.elements,Ce=ye[14]/(ye[10]-1),Ee=ye[14]/(ye[10]+1),Be=(ye[9]+1)/ye[5],Ae=(ye[9]-1)/ye[5],U=(ye[8]-1)/ye[0],de=(we[8]+1)/we[0],pe=Ce*U,Me=Ce*de,Se=ue/(-U+de),We=Se*-U;q.matrixWorld.decompose(j.position,j.quaternion,j.scale),j.translateX(We),j.translateZ(Se),j.matrixWorld.compose(j.position,j.quaternion,j.scale),j.matrixWorldInverse.copy(j.matrixWorld).invert();const Ue=Ce+Se,Ge=Ee+Se,et=pe-We,At=Me+(ue-We),zt=Be*Ee/Ge*Ue,G=Ae*Ee/Ge*Ue;j.projectionMatrix.makePerspective(et,At,zt,G,Ue,Ge),j.projectionMatrixInverse.copy(j.projectionMatrix).invert()}function ie(j,q){q===null?j.matrixWorld.copy(j.matrix):j.matrixWorld.multiplyMatrices(q.matrixWorld,j.matrix),j.matrixWorldInverse.copy(j.matrixWorld).invert()}this.updateCameraXR=function(j){if(r===null)return j;b&&(j=b),B.near=T.near=C.near=j.near,B.far=T.far=C.far=j.far,(P!==B.near||L!==B.far)&&(r.updateRenderState({depthNear:B.near,depthFar:B.far}),P=B.near,L=B.far);const q=j.parent,Y=B.cameras;ie(B,q);for(let ue=0;ue<Y.length;ue++)ie(Y[ue],q);return Y.length===2?se(B,C,T):B.projectionMatrix.copy(C.projectionMatrix),b&&O(B,q),B};function O(j,q){const Y=b;q===null?Y.matrix.copy(j.matrixWorld):(Y.matrix.copy(q.matrixWorld),Y.matrix.invert(),Y.matrix.multiply(j.matrixWorld)),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.updateMatrixWorld(!0);const ue=Y.children;for(let ye=0,we=ue.length;ye<we;ye++)ue[ye].updateMatrixWorld(!0);Y.projectionMatrix.copy(j.projectionMatrix),Y.projectionMatrixInverse.copy(j.projectionMatrixInverse),Y.isPerspectiveCamera&&(Y.fov=xu*2*Math.atan(1/Y.projectionMatrix.elements[5]),Y.zoom=1)}this.getFoveation=function(){if(!(p===null&&g===null))return l},this.setFoveation=function(j){l=j,p!==null&&(p.fixedFoveation=j),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=j)};let J=null;function V(j,q){if(d=q.getViewerPose(c||o),x=q,d!==null){const Y=d.views;g!==null&&(e.setRenderTargetFramebuffer(v,g.framebuffer),e.setRenderTarget(v));let ue=!1;Y.length!==B.cameras.length&&(B.cameras.length=0,ue=!0);for(let ye=0;ye<Y.length;ye++){const we=Y[ye];let Ce=null;if(g!==null)Ce=g.getViewport(we);else{const Be=f.getViewSubImage(p,we);Ce=Be.viewport,ye===0&&(e.setRenderTargetTextures(v,Be.colorTexture,p.ignoreDepthValues?void 0:Be.depthStencilTexture),e.setRenderTarget(v))}let Ee=N[ye];Ee===void 0&&(Ee=new on,Ee.layers.enable(ye),Ee.viewport=new Wt,N[ye]=Ee),Ee.matrix.fromArray(we.transform.matrix),Ee.matrix.decompose(Ee.position,Ee.quaternion,Ee.scale),Ee.projectionMatrix.fromArray(we.projectionMatrix),Ee.projectionMatrixInverse.copy(Ee.projectionMatrix).invert(),Ee.viewport.set(Ce.x,Ce.y,Ce.width,Ce.height),ye===0&&(B.matrix.copy(Ee.matrix),B.matrix.decompose(B.position,B.quaternion,B.scale)),ue===!0&&B.cameras.push(Ee)}}for(let Y=0;Y<S.length;Y++){const ue=_[Y],ye=S[Y];ue!==null&&ye!==void 0&&ye.update(ue,q,c||o)}J&&J(j,q),q.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:q}),x=null}const ne=new PL;ne.setAnimationLoop(V),this.setAnimationLoop=function(j){J=j},this.dispose=function(){}}}function n9(n,e){function t(A,v){A.matrixAutoUpdate===!0&&A.updateMatrix(),v.value.copy(A.matrix)}function i(A,v){v.color.getRGB(A.fogColor.value,TL(n)),v.isFog?(A.fogNear.value=v.near,A.fogFar.value=v.far):v.isFogExp2&&(A.fogDensity.value=v.density)}function r(A,v,S,_,b){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(A,v):v.isMeshToonMaterial?(s(A,v),f(A,v)):v.isMeshPhongMaterial?(s(A,v),d(A,v)):v.isMeshStandardMaterial?(s(A,v),p(A,v),v.isMeshPhysicalMaterial&&g(A,v,b)):v.isMeshMatcapMaterial?(s(A,v),x(A,v)):v.isMeshDepthMaterial?s(A,v):v.isMeshDistanceMaterial?(s(A,v),w(A,v)):v.isMeshNormalMaterial?s(A,v):v.isLineBasicMaterial?(o(A,v),v.isLineDashedMaterial&&a(A,v)):v.isPointsMaterial?l(A,v,S,_):v.isSpriteMaterial?c(A,v):v.isShadowMaterial?(A.color.value.copy(v.color),A.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(A,v){A.opacity.value=v.opacity,v.color&&A.diffuse.value.copy(v.color),v.emissive&&A.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(A.map.value=v.map,t(v.map,A.mapTransform)),v.alphaMap&&(A.alphaMap.value=v.alphaMap,t(v.alphaMap,A.alphaMapTransform)),v.bumpMap&&(A.bumpMap.value=v.bumpMap,t(v.bumpMap,A.bumpMapTransform),A.bumpScale.value=v.bumpScale,v.side===Li&&(A.bumpScale.value*=-1)),v.normalMap&&(A.normalMap.value=v.normalMap,t(v.normalMap,A.normalMapTransform),A.normalScale.value.copy(v.normalScale),v.side===Li&&A.normalScale.value.negate()),v.displacementMap&&(A.displacementMap.value=v.displacementMap,t(v.displacementMap,A.displacementMapTransform),A.displacementScale.value=v.displacementScale,A.displacementBias.value=v.displacementBias),v.emissiveMap&&(A.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,A.emissiveMapTransform)),v.specularMap&&(A.specularMap.value=v.specularMap,t(v.specularMap,A.specularMapTransform)),v.alphaTest>0&&(A.alphaTest.value=v.alphaTest);const S=e.get(v).envMap;if(S&&(A.envMap.value=S,A.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=v.reflectivity,A.ior.value=v.ior,A.refractionRatio.value=v.refractionRatio),v.lightMap){A.lightMap.value=v.lightMap;const _=n.useLegacyLights===!0?Math.PI:1;A.lightMapIntensity.value=v.lightMapIntensity*_,t(v.lightMap,A.lightMapTransform)}v.aoMap&&(A.aoMap.value=v.aoMap,A.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,A.aoMapTransform))}function o(A,v){A.diffuse.value.copy(v.color),A.opacity.value=v.opacity,v.map&&(A.map.value=v.map,t(v.map,A.mapTransform))}function a(A,v){A.dashSize.value=v.dashSize,A.totalSize.value=v.dashSize+v.gapSize,A.scale.value=v.scale}function l(A,v,S,_){A.diffuse.value.copy(v.color),A.opacity.value=v.opacity,A.size.value=v.size*S,A.scale.value=_*.5,v.map&&(A.map.value=v.map,t(v.map,A.uvTransform)),v.alphaMap&&(A.alphaMap.value=v.alphaMap,t(v.alphaMap,A.alphaMapTransform)),v.alphaTest>0&&(A.alphaTest.value=v.alphaTest)}function c(A,v){A.diffuse.value.copy(v.color),A.opacity.value=v.opacity,A.rotation.value=v.rotation,v.map&&(A.map.value=v.map,t(v.map,A.mapTransform)),v.alphaMap&&(A.alphaMap.value=v.alphaMap,t(v.alphaMap,A.alphaMapTransform)),v.alphaTest>0&&(A.alphaTest.value=v.alphaTest)}function d(A,v){A.specular.value.copy(v.specular),A.shininess.value=Math.max(v.shininess,1e-4)}function f(A,v){v.gradientMap&&(A.gradientMap.value=v.gradientMap)}function p(A,v){A.metalness.value=v.metalness,v.metalnessMap&&(A.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,A.metalnessMapTransform)),A.roughness.value=v.roughness,v.roughnessMap&&(A.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,A.roughnessMapTransform)),e.get(v).envMap&&(A.envMapIntensity.value=v.envMapIntensity)}function g(A,v,S){A.ior.value=v.ior,v.sheen>0&&(A.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),A.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(A.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,A.sheenColorMapTransform)),v.sheenRoughnessMap&&(A.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,A.sheenRoughnessMapTransform))),v.clearcoat>0&&(A.clearcoat.value=v.clearcoat,A.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(A.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,A.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(A.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Li&&A.clearcoatNormalScale.value.negate())),v.iridescence>0&&(A.iridescence.value=v.iridescence,A.iridescenceIOR.value=v.iridescenceIOR,A.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(A.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,A.iridescenceMapTransform)),v.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),v.transmission>0&&(A.transmission.value=v.transmission,A.transmissionSamplerMap.value=S.texture,A.transmissionSamplerSize.value.set(S.width,S.height),v.transmissionMap&&(A.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,A.transmissionMapTransform)),A.thickness.value=v.thickness,v.thicknessMap&&(A.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=v.attenuationDistance,A.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(A.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(A.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=v.specularIntensity,A.specularColor.value.copy(v.specularColor),v.specularColorMap&&(A.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,A.specularColorMapTransform)),v.specularIntensityMap&&(A.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,A.specularIntensityMapTransform))}function x(A,v){v.matcap&&(A.matcap.value=v.matcap)}function w(A,v){const S=e.get(v).light;A.referencePosition.value.setFromMatrixPosition(S.matrixWorld),A.nearDistance.value=S.shadow.camera.near,A.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function i9(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(S,_){const b=_.program;i.uniformBlockBinding(S,b)}function c(S,_){let b=r[S.id];b===void 0&&(x(S),b=d(S),r[S.id]=b,S.addEventListener("dispose",A));const C=_.program;i.updateUBOMapping(S,C);const T=e.render.frame;s[S.id]!==T&&(p(S),s[S.id]=T)}function d(S){const _=f();S.__bindingPointIndex=_;const b=n.createBuffer(),C=S.__size,T=S.usage;return n.bindBuffer(n.UNIFORM_BUFFER,b),n.bufferData(n.UNIFORM_BUFFER,C,T),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,_,b),b}function f(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(S){const _=r[S.id],b=S.uniforms,C=S.__cache;n.bindBuffer(n.UNIFORM_BUFFER,_);for(let T=0,N=b.length;T<N;T++){const B=b[T];if(g(B,T,C)===!0){const P=B.__offset,L=Array.isArray(B.value)?B.value:[B.value];let z=0;for(let ee=0;ee<L.length;ee++){const K=L[ee],Q=w(K);typeof K=="number"?(B.__data[0]=K,n.bufferSubData(n.UNIFORM_BUFFER,P+z,B.__data)):K.isMatrix3?(B.__data[0]=K.elements[0],B.__data[1]=K.elements[1],B.__data[2]=K.elements[2],B.__data[3]=K.elements[0],B.__data[4]=K.elements[3],B.__data[5]=K.elements[4],B.__data[6]=K.elements[5],B.__data[7]=K.elements[0],B.__data[8]=K.elements[6],B.__data[9]=K.elements[7],B.__data[10]=K.elements[8],B.__data[11]=K.elements[0]):(K.toArray(B.__data,z),z+=Q.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,P,B.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function g(S,_,b){const C=S.value;if(b[_]===void 0){if(typeof C=="number")b[_]=C;else{const T=Array.isArray(C)?C:[C],N=[];for(let B=0;B<T.length;B++)N.push(T[B].clone());b[_]=N}return!0}else if(typeof C=="number"){if(b[_]!==C)return b[_]=C,!0}else{const T=Array.isArray(b[_])?b[_]:[b[_]],N=Array.isArray(C)?C:[C];for(let B=0;B<T.length;B++){const P=T[B];if(P.equals(N[B])===!1)return P.copy(N[B]),!0}}return!1}function x(S){const _=S.uniforms;let b=0;const C=16;let T=0;for(let N=0,B=_.length;N<B;N++){const P=_[N],L={boundary:0,storage:0},z=Array.isArray(P.value)?P.value:[P.value];for(let ee=0,K=z.length;ee<K;ee++){const Q=z[ee],Z=w(Q);L.boundary+=Z.boundary,L.storage+=Z.storage}if(P.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=b,N>0){T=b%C;const ee=C-T;T!==0&&ee-L.boundary<0&&(b+=C-T,P.__offset=b)}b+=L.storage}return T=b%C,T>0&&(b+=C-T),S.__size=b,S.__cache={},this}function w(S){const _={boundary:0,storage:0};return typeof S=="number"?(_.boundary=4,_.storage=4):S.isVector2?(_.boundary=8,_.storage=8):S.isVector3||S.isColor?(_.boundary=16,_.storage=12):S.isVector4?(_.boundary=16,_.storage=16):S.isMatrix3?(_.boundary=48,_.storage=48):S.isMatrix4?(_.boundary=64,_.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),_}function A(S){const _=S.target;_.removeEventListener("dispose",A);const b=o.indexOf(_.__bindingPointIndex);o.splice(b,1),n.deleteBuffer(r[_.id]),delete r[_.id],delete s[_.id]}function v(){for(const S in r)n.deleteBuffer(r[S]);o=[],r={},s={}}return{bind:l,update:c,dispose:v}}function r9(){const n=Ph("canvas");return n.style.display="block",n}class pw{constructor(e={}){const{canvas:t=r9(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;const g=new Uint32Array(4),x=new Int32Array(4);let w=null,A=null;const v=[],S=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=mt,this.useLegacyLights=!0,this.toneMapping=$r,this.toneMappingExposure=1;const _=this;let b=!1,C=0,T=0,N=null,B=-1,P=null;const L=new Wt,z=new Wt;let ee=null;const K=new Fe(0);let Q=0,Z=t.width,se=t.height,ie=1,O=null,J=null;const V=new Wt(0,0,Z,se),ne=new Wt(0,0,Z,se);let j=!1;const q=new x0;let Y=!1,ue=!1,ye=null;const we=new lt,Ce=new ve,Ee=new k,Be={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ae(){return N===null?ie:1}let U=i;function de(F,ae){for(let ge=0;ge<F.length;ge++){const re=F[ge],xe=t.getContext(re,ae);if(xe!==null)return xe}return null}try{const F={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Pu}`),t.addEventListener("webglcontextlost",Te,!1),t.addEventListener("webglcontextrestored",le,!1),t.addEventListener("webglcontextcreationerror",Le,!1),U===null){const ae=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&ae.shift(),U=de(ae,F),U===null)throw de(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}U instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),U.getShaderPrecisionFormat===void 0&&(U.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let pe,Me,Se,We,Ue,Ge,et,At,zt,G,I,he,Re,be,De,Qe,Ie,me,tt,nt,it,Xe,W,_e;function Oe(){pe=new Aj(U),Me=new pj(U,pe,e),pe.init(Me),Xe=new IL(U,pe,Me),Se=new $6(U,pe,Me),We=new Sj(U),Ue=new j6,Ge=new Z6(U,pe,Se,Ue,Me,Xe,We),et=new gj(_),At=new yj(_),zt=new IU(U,Me),W=new hj(U,pe,zt,Me),G=new _j(U,zt,We,W),I=new Cj(U,G,zt,We),tt=new Ej(U,Me,Ge),Qe=new mj(Ue),he=new U6(_,et,At,pe,Me,W,Qe),Re=new n9(_,Ue),be=new H6,De=new K6(pe,Me),me=new dj(_,et,At,Se,I,p,l),Ie=new Q6(_,I,Me),_e=new i9(U,We,Me,Se),nt=new fj(U,pe,We,Me),it=new wj(U,pe,We,Me),We.programs=he.programs,_.capabilities=Me,_.extensions=pe,_.properties=Ue,_.renderLists=be,_.shadowMap=Ie,_.state=Se,_.info=We}Oe();const X=new t9(_,U);this.xr=X,this.getContext=function(){return U},this.getContextAttributes=function(){return U.getContextAttributes()},this.forceContextLoss=function(){const F=pe.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=pe.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(F){F!==void 0&&(ie=F,this.setSize(Z,se,!1))},this.getSize=function(F){return F.set(Z,se)},this.setSize=function(F,ae,ge=!0){if(X.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Z=F,se=ae,t.width=Math.floor(F*ie),t.height=Math.floor(ae*ie),ge===!0&&(t.style.width=F+"px",t.style.height=ae+"px"),this.setViewport(0,0,F,ae)},this.getDrawingBufferSize=function(F){return F.set(Z*ie,se*ie).floor()},this.setDrawingBufferSize=function(F,ae,ge){Z=F,se=ae,ie=ge,t.width=Math.floor(F*ge),t.height=Math.floor(ae*ge),this.setViewport(0,0,F,ae)},this.getCurrentViewport=function(F){return F.copy(L)},this.getViewport=function(F){return F.copy(V)},this.setViewport=function(F,ae,ge,re){F.isVector4?V.set(F.x,F.y,F.z,F.w):V.set(F,ae,ge,re),Se.viewport(L.copy(V).multiplyScalar(ie).floor())},this.getScissor=function(F){return F.copy(ne)},this.setScissor=function(F,ae,ge,re){F.isVector4?ne.set(F.x,F.y,F.z,F.w):ne.set(F,ae,ge,re),Se.scissor(z.copy(ne).multiplyScalar(ie).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(F){Se.setScissorTest(j=F)},this.setOpaqueSort=function(F){O=F},this.setTransparentSort=function(F){J=F},this.getClearColor=function(F){return F.copy(me.getClearColor())},this.setClearColor=function(){me.setClearColor.apply(me,arguments)},this.getClearAlpha=function(){return me.getClearAlpha()},this.setClearAlpha=function(){me.setClearAlpha.apply(me,arguments)},this.clear=function(F=!0,ae=!0,ge=!0){let re=0;if(F){let xe=!1;if(N!==null){const Ke=N.texture.format;xe=Ke===Z_||Ke===$_||Ke===Q_}if(xe){const Ke=N.texture.type,rt=Ke===ws||Ke===Ks||Ke===m0||Ke===qo||Ke===Y_||Ke===q_,ct=me.getClearColor(),ut=me.getClearAlpha(),bt=ct.r,dt=ct.g,ht=ct.b,Ht=Ue.get(N).__webglFramebuffer;rt?(g[0]=bt,g[1]=dt,g[2]=ht,g[3]=ut,U.clearBufferuiv(U.COLOR,Ht,g)):(x[0]=bt,x[1]=dt,x[2]=ht,x[3]=ut,U.clearBufferiv(U.COLOR,Ht,x))}else re|=U.COLOR_BUFFER_BIT}ae&&(re|=U.DEPTH_BUFFER_BIT),ge&&(re|=U.STENCIL_BUFFER_BIT),U.clear(re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Te,!1),t.removeEventListener("webglcontextrestored",le,!1),t.removeEventListener("webglcontextcreationerror",Le,!1),be.dispose(),De.dispose(),Ue.dispose(),et.dispose(),At.dispose(),I.dispose(),W.dispose(),_e.dispose(),he.dispose(),X.dispose(),X.removeEventListener("sessionstart",jt),X.removeEventListener("sessionend",Un),ye&&(ye.dispose(),ye=null),xn.stop()};function Te(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function le(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const F=We.autoReset,ae=Ie.enabled,ge=Ie.autoUpdate,re=Ie.needsUpdate,xe=Ie.type;Oe(),We.autoReset=F,Ie.enabled=ae,Ie.autoUpdate=ge,Ie.needsUpdate=re,Ie.type=xe}function Le(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function je(F){const ae=F.target;ae.removeEventListener("dispose",je),Tt(ae)}function Tt(F){Lt(F),Ue.remove(F)}function Lt(F){const ae=Ue.get(F).programs;ae!==void 0&&(ae.forEach(function(ge){he.releaseProgram(ge)}),F.isShaderMaterial&&he.releaseShaderCache(F))}this.renderBufferDirect=function(F,ae,ge,re,xe,Ke){ae===null&&(ae=Be);const rt=xe.isMesh&&xe.matrixWorld.determinant()<0,ct=j0(F,ae,ge,re,xe);Se.setMaterial(re,rt);let ut=ge.index,bt=1;re.wireframe===!0&&(ut=G.getWireframeAttribute(ge),bt=2);const dt=ge.drawRange,ht=ge.attributes.position;let Ht=dt.start*bt,en=(dt.start+dt.count)*bt;Ke!==null&&(Ht=Math.max(Ht,Ke.start*bt),en=Math.min(en,(Ke.start+Ke.count)*bt)),ut!==null?(Ht=Math.max(Ht,0),en=Math.min(en,ut.count)):ht!=null&&(Ht=Math.max(Ht,0),en=Math.min(en,ht.count));const Ji=en-Ht;if(Ji<0||Ji===1/0)return;W.setup(xe,re,ct,ge,ut);let Ki,Kt=nt;if(ut!==null&&(Ki=zt.get(ut),Kt=it,Kt.setIndex(Ki)),xe.isMesh)re.wireframe===!0?(Se.setLineWidth(re.wireframeLinewidth*Ae()),Kt.setMode(U.LINES)):Kt.setMode(U.TRIANGLES);else if(xe.isLine){let gt=re.linewidth;gt===void 0&&(gt=1),Se.setLineWidth(gt*Ae()),xe.isLineSegments?Kt.setMode(U.LINES):xe.isLineLoop?Kt.setMode(U.LINE_LOOP):Kt.setMode(U.LINE_STRIP)}else xe.isPoints?Kt.setMode(U.POINTS):xe.isSprite&&Kt.setMode(U.TRIANGLES);if(xe.isInstancedMesh)Kt.renderInstances(Ht,Ji,xe.count);else if(ge.isInstancedBufferGeometry){const gt=ge._maxInstanceCount!==void 0?ge._maxInstanceCount:1/0,Gt=Math.min(ge.instanceCount,gt);Kt.renderInstances(Ht,Ji,Gt)}else Kt.render(Ht,Ji)},this.compile=function(F,ae){function ge(re,xe,Ke){re.transparent===!0&&re.side===Rr&&re.forceSinglePass===!1?(re.side=Li,re.needsUpdate=!0,os(re,xe,Ke),re.side=bs,re.needsUpdate=!0,os(re,xe,Ke),re.side=Rr):os(re,xe,Ke)}A=De.get(F),A.init(),S.push(A),F.traverseVisible(function(re){re.isLight&&re.layers.test(ae.layers)&&(A.pushLight(re),re.castShadow&&A.pushShadow(re))}),A.setupLights(_.useLegacyLights),F.traverse(function(re){const xe=re.material;if(xe)if(Array.isArray(xe))for(let Ke=0;Ke<xe.length;Ke++){const rt=xe[Ke];ge(rt,F,re)}else ge(xe,F,re)}),S.pop(),A=null};let kt=null;function oi(F){kt&&kt(F)}function jt(){xn.stop()}function Un(){xn.start()}const xn=new PL;xn.setAnimationLoop(oi),typeof self<"u"&&xn.setContext(self),this.setAnimationLoop=function(F){kt=F,X.setAnimationLoop(F),F===null?xn.stop():xn.start()},X.addEventListener("sessionstart",jt),X.addEventListener("sessionend",Un),this.render=function(F,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),X.enabled===!0&&X.isPresenting===!0&&(ae=X.updateCameraXR(ae)),F.isScene===!0&&F.onBeforeRender(_,F,ae,N),A=De.get(F,S.length),A.init(),S.push(A),we.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),q.setFromProjectionMatrix(we),ue=this.localClippingEnabled,Y=Qe.init(this.clippingPlanes,ue),w=be.get(F,v.length),w.init(),v.push(w),_f(F,ae,0,_.sortObjects),w.finish(),_.sortObjects===!0&&w.sort(O,J),Y===!0&&Qe.beginShadows();const ge=A.state.shadowsArray;if(Ie.render(ge,F,ae),Y===!0&&Qe.endShadows(),this.info.autoReset===!0&&this.info.reset(),this.info.render.frame++,me.render(w,F),A.setupLights(_.useLegacyLights),ae.isArrayCamera){const re=ae.cameras;for(let xe=0,Ke=re.length;xe<Ke;xe++){const rt=re[xe];wf(w,F,rt,rt.viewport)}}else wf(w,F,ae);N!==null&&(Ge.updateMultisampleRenderTarget(N),Ge.updateRenderTargetMipmap(N)),F.isScene===!0&&F.onAfterRender(_,F,ae),W.resetDefaultState(),B=-1,P=null,S.pop(),S.length>0?A=S[S.length-1]:A=null,v.pop(),v.length>0?w=v[v.length-1]:w=null};function _f(F,ae,ge,re){if(F.visible===!1)return;if(F.layers.test(ae.layers)){if(F.isGroup)ge=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(ae);else if(F.isLight)A.pushLight(F),F.castShadow&&A.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||q.intersectsSprite(F)){re&&Ee.setFromMatrixPosition(F.matrixWorld).applyMatrix4(we);const rt=I.update(F),ct=F.material;ct.visible&&w.push(F,rt,ct,ge,Ee.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(!F.frustumCulled||q.intersectsObject(F))){F.isSkinnedMesh&&F.skeleton.frame!==We.render.frame&&(F.skeleton.update(),F.skeleton.frame=We.render.frame);const rt=I.update(F),ct=F.material;if(re&&(F.boundingSphere!==void 0?(F.boundingSphere===null&&F.computeBoundingSphere(),Ee.copy(F.boundingSphere.center)):(rt.boundingSphere===null&&rt.computeBoundingSphere(),Ee.copy(rt.boundingSphere.center)),Ee.applyMatrix4(F.matrixWorld).applyMatrix4(we)),Array.isArray(ct)){const ut=rt.groups;for(let bt=0,dt=ut.length;bt<dt;bt++){const ht=ut[bt],Ht=ct[ht.materialIndex];Ht&&Ht.visible&&w.push(F,rt,Ht,ge,Ee.z,ht)}}else ct.visible&&w.push(F,rt,ct,ge,Ee.z,null)}}const Ke=F.children;for(let rt=0,ct=Ke.length;rt<ct;rt++)_f(Ke[rt],ae,ge,re)}function wf(F,ae,ge,re){const xe=F.opaque,Ke=F.transmissive,rt=F.transparent;A.setupLightsView(ge),Y===!0&&Qe.setGlobalState(_.clippingPlanes,ge),Ke.length>0&&Sf(xe,Ke,ae,ge),re&&Se.viewport(L.copy(re)),xe.length>0&&po(xe,ae,ge),Ke.length>0&&po(Ke,ae,ge),rt.length>0&&po(rt,ae,ge),Se.buffers.depth.setTest(!0),Se.buffers.depth.setMask(!0),Se.buffers.color.setMask(!0),Se.setPolygonOffset(!1)}function Sf(F,ae,ge,re){const xe=Me.isWebGL2;ye===null&&(ye=new ts(1,1,{generateMipmaps:!0,type:pe.has("EXT_color_buffer_half_float")?gu:ws,minFilter:Es,samples:xe&&a===!0?4:0})),_.getDrawingBufferSize(Ce),xe?ye.setSize(Ce.x,Ce.y):ye.setSize(Bg(Ce.x),Bg(Ce.y));const Ke=_.getRenderTarget();_.setRenderTarget(ye),_.getClearColor(K),Q=_.getClearAlpha(),Q<1&&_.setClearColor(16777215,.5),_.clear();const rt=_.toneMapping;_.toneMapping=$r,po(F,ge,re),Ge.updateMultisampleRenderTarget(ye),Ge.updateRenderTargetMipmap(ye);let ct=!1;for(let ut=0,bt=ae.length;ut<bt;ut++){const dt=ae[ut],ht=dt.object,Ht=dt.geometry,en=dt.material,Ji=dt.group;if(en.side===Rr&&ht.layers.test(re.layers)){const Ki=en.side;en.side=Li,en.needsUpdate=!0,Mf(ht,ge,re,Ht,en,Ji),en.side=Ki,en.needsUpdate=!0,ct=!0}}ct===!0&&(Ge.updateMultisampleRenderTarget(ye),Ge.updateRenderTargetMipmap(ye)),_.setRenderTarget(Ke),_.setClearColor(K,Q),_.toneMapping=rt}function po(F,ae,ge){const re=ae.isScene===!0?ae.overrideMaterial:null;for(let xe=0,Ke=F.length;xe<Ke;xe++){const rt=F[xe],ct=rt.object,ut=rt.geometry,bt=re===null?rt.material:re,dt=rt.group;ct.layers.test(ge.layers)&&Mf(ct,ae,ge,ut,bt,dt)}}function Mf(F,ae,ge,re,xe,Ke){F.onBeforeRender(_,ae,ge,re,xe,Ke),F.modelViewMatrix.multiplyMatrices(ge.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),xe.onBeforeRender(_,ae,ge,re,F,Ke),xe.transparent===!0&&xe.side===Rr&&xe.forceSinglePass===!1?(xe.side=Li,xe.needsUpdate=!0,_.renderBufferDirect(ge,ae,re,xe,F,Ke),xe.side=bs,xe.needsUpdate=!0,_.renderBufferDirect(ge,ae,re,xe,F,Ke),xe.side=Rr):_.renderBufferDirect(ge,ae,re,xe,F,Ke),F.onAfterRender(_,ae,ge,re,xe,Ke)}function os(F,ae,ge){ae.isScene!==!0&&(ae=Be);const re=Ue.get(F),xe=A.state.lights,Ke=A.state.shadowsArray,rt=xe.state.version,ct=he.getParameters(F,xe.state,Ke,ae,ge),ut=he.getProgramCacheKey(ct);let bt=re.programs;re.environment=F.isMeshStandardMaterial?ae.environment:null,re.fog=ae.fog,re.envMap=(F.isMeshStandardMaterial?At:et).get(F.envMap||re.environment),bt===void 0&&(F.addEventListener("dispose",je),bt=new Map,re.programs=bt);let dt=bt.get(ut);if(dt!==void 0){if(re.currentProgram===dt&&re.lightsStateVersion===rt)return bf(F,ct),dt}else ct.uniforms=he.getUniforms(F),F.onBuild(ge,ct,_),F.onBeforeCompile(ct,_),dt=he.acquireProgram(ct,ut),bt.set(ut,dt),re.uniforms=ct.uniforms;const ht=re.uniforms;(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(ht.clippingPlanes=Qe.uniform),bf(F,ct),re.needsLights=H0(F),re.lightsStateVersion=rt,re.needsLights&&(ht.ambientLightColor.value=xe.state.ambient,ht.lightProbe.value=xe.state.probe,ht.directionalLights.value=xe.state.directional,ht.directionalLightShadows.value=xe.state.directionalShadow,ht.spotLights.value=xe.state.spot,ht.spotLightShadows.value=xe.state.spotShadow,ht.rectAreaLights.value=xe.state.rectArea,ht.ltc_1.value=xe.state.rectAreaLTC1,ht.ltc_2.value=xe.state.rectAreaLTC2,ht.pointLights.value=xe.state.point,ht.pointLightShadows.value=xe.state.pointShadow,ht.hemisphereLights.value=xe.state.hemi,ht.directionalShadowMap.value=xe.state.directionalShadowMap,ht.directionalShadowMatrix.value=xe.state.directionalShadowMatrix,ht.spotShadowMap.value=xe.state.spotShadowMap,ht.spotLightMatrix.value=xe.state.spotLightMatrix,ht.spotLightMap.value=xe.state.spotLightMap,ht.pointShadowMap.value=xe.state.pointShadowMap,ht.pointShadowMatrix.value=xe.state.pointShadowMatrix);const Ht=dt.getUniforms(),en=eg.seqWithValue(Ht.seq,ht);return re.currentProgram=dt,re.uniformsList=en,dt}function bf(F,ae){const ge=Ue.get(F);ge.outputColorSpace=ae.outputColorSpace,ge.instancing=ae.instancing,ge.skinning=ae.skinning,ge.morphTargets=ae.morphTargets,ge.morphNormals=ae.morphNormals,ge.morphColors=ae.morphColors,ge.morphTargetsCount=ae.morphTargetsCount,ge.numClippingPlanes=ae.numClippingPlanes,ge.numIntersection=ae.numClipIntersection,ge.vertexAlphas=ae.vertexAlphas,ge.vertexTangents=ae.vertexTangents,ge.toneMapping=ae.toneMapping}function j0(F,ae,ge,re,xe){ae.isScene!==!0&&(ae=Be),Ge.resetTextureUnits();const Ke=ae.fog,rt=re.isMeshStandardMaterial?ae.environment:null,ct=N===null?_.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:Dr,ut=(re.isMeshStandardMaterial?At:et).get(re.envMap||rt),bt=re.vertexColors===!0&&!!ge.attributes.color&&ge.attributes.color.itemSize===4,dt=!!ge.attributes.tangent&&(!!re.normalMap||re.anisotropy>0),ht=!!ge.morphAttributes.position,Ht=!!ge.morphAttributes.normal,en=!!ge.morphAttributes.color,Ji=re.toneMapped?_.toneMapping:$r,Ki=ge.morphAttributes.position||ge.morphAttributes.normal||ge.morphAttributes.color,Kt=Ki!==void 0?Ki.length:0,gt=Ue.get(re),Gt=A.state.lights;if(Y===!0&&(ue===!0||F!==P)){const li=F===P&&re.id===B;Qe.setState(re,F,li)}let pt=!1;re.version===gt.__version?(gt.needsLights&&gt.lightsStateVersion!==Gt.state.version||gt.outputColorSpace!==ct||xe.isInstancedMesh&&gt.instancing===!1||!xe.isInstancedMesh&&gt.instancing===!0||xe.isSkinnedMesh&&gt.skinning===!1||!xe.isSkinnedMesh&&gt.skinning===!0||gt.envMap!==ut||re.fog===!0&&gt.fog!==Ke||gt.numClippingPlanes!==void 0&&(gt.numClippingPlanes!==Qe.numPlanes||gt.numIntersection!==Qe.numIntersection)||gt.vertexAlphas!==bt||gt.vertexTangents!==dt||gt.morphTargets!==ht||gt.morphNormals!==Ht||gt.morphColors!==en||gt.toneMapping!==Ji||Me.isWebGL2===!0&&gt.morphTargetsCount!==Kt)&&(pt=!0):(pt=!0,gt.__version=re.version);let ai=gt.currentProgram;pt===!0&&(ai=os(re,ae,xe));let jn=!1,Nn=!1,Fr=!1;const yn=ai.getUniforms(),An=gt.uniforms;if(Se.useProgram(ai.program)&&(jn=!0,Nn=!0,Fr=!0),re.id!==B&&(B=re.id,Nn=!0),jn||P!==F){if(yn.setValue(U,"projectionMatrix",F.projectionMatrix),Me.logarithmicDepthBuffer&&yn.setValue(U,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),P!==F&&(P=F,Nn=!0,Fr=!0),re.isShaderMaterial||re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshStandardMaterial||re.envMap){const li=yn.map.cameraPosition;li!==void 0&&li.setValue(U,Ee.setFromMatrixPosition(F.matrixWorld))}(re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshLambertMaterial||re.isMeshBasicMaterial||re.isMeshStandardMaterial||re.isShaderMaterial)&&yn.setValue(U,"isOrthographic",F.isOrthographicCamera===!0),(re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshLambertMaterial||re.isMeshBasicMaterial||re.isMeshStandardMaterial||re.isShaderMaterial||re.isShadowMaterial||xe.isSkinnedMesh)&&yn.setValue(U,"viewMatrix",F.matrixWorldInverse)}if(xe.isSkinnedMesh){yn.setOptional(U,xe,"bindMatrix"),yn.setOptional(U,xe,"bindMatrixInverse");const li=xe.skeleton;li&&(Me.floatVertexTextures?(li.boneTexture===null&&li.computeBoneTexture(),yn.setValue(U,"boneTexture",li.boneTexture,Ge),yn.setValue(U,"boneTextureSize",li.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const mo=ge.morphAttributes;if((mo.position!==void 0||mo.normal!==void 0||mo.color!==void 0&&Me.isWebGL2===!0)&&tt.update(xe,ge,ai),(Nn||gt.receiveShadow!==xe.receiveShadow)&&(gt.receiveShadow=xe.receiveShadow,yn.setValue(U,"receiveShadow",xe.receiveShadow)),re.isMeshGouraudMaterial&&re.envMap!==null&&(An.envMap.value=ut,An.flipEnvMap.value=ut.isCubeTexture&&ut.isRenderTargetTexture===!1?-1:1),Nn&&(yn.setValue(U,"toneMappingExposure",_.toneMappingExposure),gt.needsLights&&z0(An,Fr),Ke&&re.fog===!0&&Re.refreshFogUniforms(An,Ke),Re.refreshMaterialUniforms(An,re,ie,se,ye),eg.upload(U,gt.uniformsList,An,Ge)),re.isShaderMaterial&&re.uniformsNeedUpdate===!0&&(eg.upload(U,gt.uniformsList,An,Ge),re.uniformsNeedUpdate=!1),re.isSpriteMaterial&&yn.setValue(U,"center",xe.center),yn.setValue(U,"modelViewMatrix",xe.modelViewMatrix),yn.setValue(U,"normalMatrix",xe.normalMatrix),yn.setValue(U,"modelMatrix",xe.matrixWorld),re.isShaderMaterial||re.isRawShaderMaterial){const li=re.uniformsGroups;for(let Ol=0,Ul=li.length;Ol<Ul;Ol++)if(Me.isWebGL2){const Ou=li[Ol];_e.update(Ou,ai),_e.bind(Ou,ai)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ai}function z0(F,ae){F.ambientLightColor.needsUpdate=ae,F.lightProbe.needsUpdate=ae,F.directionalLights.needsUpdate=ae,F.directionalLightShadows.needsUpdate=ae,F.pointLights.needsUpdate=ae,F.pointLightShadows.needsUpdate=ae,F.spotLights.needsUpdate=ae,F.spotLightShadows.needsUpdate=ae,F.rectAreaLights.needsUpdate=ae,F.hemisphereLights.needsUpdate=ae}function H0(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(F,ae,ge){Ue.get(F.texture).__webglTexture=ae,Ue.get(F.depthTexture).__webglTexture=ge;const re=Ue.get(F);re.__hasExternalTextures=!0,re.__hasExternalTextures&&(re.__autoAllocateDepthBuffer=ge===void 0,re.__autoAllocateDepthBuffer||pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),re.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(F,ae){const ge=Ue.get(F);ge.__webglFramebuffer=ae,ge.__useDefaultFramebuffer=ae===void 0},this.setRenderTarget=function(F,ae=0,ge=0){N=F,C=ae,T=ge;let re=!0,xe=null,Ke=!1,rt=!1;if(F){const ut=Ue.get(F);ut.__useDefaultFramebuffer!==void 0?(Se.bindFramebuffer(U.FRAMEBUFFER,null),re=!1):ut.__webglFramebuffer===void 0?Ge.setupRenderTarget(F):ut.__hasExternalTextures&&Ge.rebindTextures(F,Ue.get(F.texture).__webglTexture,Ue.get(F.depthTexture).__webglTexture);const bt=F.texture;(bt.isData3DTexture||bt.isDataArrayTexture||bt.isCompressedArrayTexture)&&(rt=!0);const dt=Ue.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(xe=dt[ae],Ke=!0):Me.isWebGL2&&F.samples>0&&Ge.useMultisampledRTT(F)===!1?xe=Ue.get(F).__webglMultisampledFramebuffer:xe=dt,L.copy(F.viewport),z.copy(F.scissor),ee=F.scissorTest}else L.copy(V).multiplyScalar(ie).floor(),z.copy(ne).multiplyScalar(ie).floor(),ee=j;if(Se.bindFramebuffer(U.FRAMEBUFFER,xe)&&Me.drawBuffers&&re&&Se.drawBuffers(F,xe),Se.viewport(L),Se.scissor(z),Se.setScissorTest(ee),Ke){const ut=Ue.get(F.texture);U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+ae,ut.__webglTexture,ge)}else if(rt){const ut=Ue.get(F.texture),bt=ae||0;U.framebufferTextureLayer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,ut.__webglTexture,ge||0,bt)}B=-1},this.readRenderTargetPixels=function(F,ae,ge,re,xe,Ke,rt){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ct=Ue.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&rt!==void 0&&(ct=ct[rt]),ct){Se.bindFramebuffer(U.FRAMEBUFFER,ct);try{const ut=F.texture,bt=ut.format,dt=ut.type;if(bt!==zi&&Xe.convert(bt)!==U.getParameter(U.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ht=dt===gu&&(pe.has("EXT_color_buffer_half_float")||Me.isWebGL2&&pe.has("EXT_color_buffer_float"));if(dt!==ws&&Xe.convert(dt)!==U.getParameter(U.IMPLEMENTATION_COLOR_READ_TYPE)&&!(dt===vs&&(Me.isWebGL2||pe.has("OES_texture_float")||pe.has("WEBGL_color_buffer_float")))&&!ht){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=F.width-re&&ge>=0&&ge<=F.height-xe&&U.readPixels(ae,ge,re,xe,Xe.convert(bt),Xe.convert(dt),Ke)}finally{const ut=N!==null?Ue.get(N).__webglFramebuffer:null;Se.bindFramebuffer(U.FRAMEBUFFER,ut)}}},this.copyFramebufferToTexture=function(F,ae,ge=0){const re=Math.pow(2,-ge),xe=Math.floor(ae.image.width*re),Ke=Math.floor(ae.image.height*re);Ge.setTexture2D(ae,0),U.copyTexSubImage2D(U.TEXTURE_2D,ge,0,0,F.x,F.y,xe,Ke),Se.unbindTexture()},this.copyTextureToTexture=function(F,ae,ge,re=0){const xe=ae.image.width,Ke=ae.image.height,rt=Xe.convert(ge.format),ct=Xe.convert(ge.type);Ge.setTexture2D(ge,0),U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,ge.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ge.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,ge.unpackAlignment),ae.isDataTexture?U.texSubImage2D(U.TEXTURE_2D,re,F.x,F.y,xe,Ke,rt,ct,ae.image.data):ae.isCompressedTexture?U.compressedTexSubImage2D(U.TEXTURE_2D,re,F.x,F.y,ae.mipmaps[0].width,ae.mipmaps[0].height,rt,ae.mipmaps[0].data):U.texSubImage2D(U.TEXTURE_2D,re,F.x,F.y,rt,ct,ae.image),re===0&&ge.generateMipmaps&&U.generateMipmap(U.TEXTURE_2D),Se.unbindTexture()},this.copyTextureToTexture3D=function(F,ae,ge,re,xe=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ke=F.max.x-F.min.x+1,rt=F.max.y-F.min.y+1,ct=F.max.z-F.min.z+1,ut=Xe.convert(re.format),bt=Xe.convert(re.type);let dt;if(re.isData3DTexture)Ge.setTexture3D(re,0),dt=U.TEXTURE_3D;else if(re.isDataArrayTexture)Ge.setTexture2DArray(re,0),dt=U.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,re.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,re.unpackAlignment);const ht=U.getParameter(U.UNPACK_ROW_LENGTH),Ht=U.getParameter(U.UNPACK_IMAGE_HEIGHT),en=U.getParameter(U.UNPACK_SKIP_PIXELS),Ji=U.getParameter(U.UNPACK_SKIP_ROWS),Ki=U.getParameter(U.UNPACK_SKIP_IMAGES),Kt=ge.isCompressedTexture?ge.mipmaps[0]:ge.image;U.pixelStorei(U.UNPACK_ROW_LENGTH,Kt.width),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,Kt.height),U.pixelStorei(U.UNPACK_SKIP_PIXELS,F.min.x),U.pixelStorei(U.UNPACK_SKIP_ROWS,F.min.y),U.pixelStorei(U.UNPACK_SKIP_IMAGES,F.min.z),ge.isDataTexture||ge.isData3DTexture?U.texSubImage3D(dt,xe,ae.x,ae.y,ae.z,Ke,rt,ct,ut,bt,Kt.data):ge.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),U.compressedTexSubImage3D(dt,xe,ae.x,ae.y,ae.z,Ke,rt,ct,ut,Kt.data)):U.texSubImage3D(dt,xe,ae.x,ae.y,ae.z,Ke,rt,ct,ut,bt,Kt),U.pixelStorei(U.UNPACK_ROW_LENGTH,ht),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,Ht),U.pixelStorei(U.UNPACK_SKIP_PIXELS,en),U.pixelStorei(U.UNPACK_SKIP_ROWS,Ji),U.pixelStorei(U.UNPACK_SKIP_IMAGES,Ki),xe===0&&re.generateMipmaps&&U.generateMipmap(dt),Se.unbindTexture()},this.initTexture=function(F){F.isCubeTexture?Ge.setTextureCube(F,0):F.isData3DTexture?Ge.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?Ge.setTexture2DArray(F,0):Ge.setTexture2D(F,0),Se.unbindTexture()},this.resetState=function(){C=0,T=0,N=null,Se.reset(),W.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return xs}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===mt?$o:nw}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===$o?mt:Dr}}class OL extends pw{}OL.prototype.isWebGL1Renderer=!0;class A0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Fe(e),this.density=t}clone(){return new A0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class _0{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Fe(e),this.near=t,this.far=i}clone(){return new _0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Dg extends Bt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Yh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Th,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=or()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=or()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=or()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ei=new k;class ca{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Ei.fromBufferAttribute(this,t),Ei.applyMatrix4(e),this.setXYZ(t,Ei.x,Ei.y,Ei.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ei.fromBufferAttribute(this,t),Ei.applyNormalMatrix(e),this.setXYZ(t,Ei.x,Ei.y,Ei.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ei.fromBufferAttribute(this,t),Ei.transformDirection(e),this.setXYZ(t,Ei.x,Ei.y,Ei.z);return this}setX(e,t){return this.normalized&&(t=Mt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Mt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Mt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Mt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ir(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ir(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ir(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ir(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Mt(t,this.array),i=Mt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Mt(t,this.array),i=Mt(i,this.array),r=Mt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Mt(t,this.array),i=Mt(i,this.array),r=Mt(r,this.array),s=Mt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Dt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ca(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class mw extends On{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let gc;const gd=new k,vc=new k,xc=new k,yc=new ve,vd=new ve,UL=new lt,tm=new k,xd=new k,nm=new k,$2=new ve,zx=new ve,Z2=new ve;class jL extends Bt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",gc===void 0){gc=new yt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Yh(t,5);gc.setIndex([0,1,2,0,2,3]),gc.setAttribute("position",new ca(i,3,0,!1)),gc.setAttribute("uv",new ca(i,2,3,!1))}this.geometry=gc,this.material=e!==void 0?e:new mw,this.center=new ve(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),vc.setFromMatrixScale(this.matrixWorld),UL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),xc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&vc.multiplyScalar(-xc.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;im(tm.set(-.5,-.5,0),xc,o,vc,r,s),im(xd.set(.5,-.5,0),xc,o,vc,r,s),im(nm.set(.5,.5,0),xc,o,vc,r,s),$2.set(0,0),zx.set(1,0),Z2.set(1,1);let a=e.ray.intersectTriangle(tm,xd,nm,!1,gd);if(a===null&&(im(xd.set(-.5,.5,0),xc,o,vc,r,s),zx.set(0,1),a=e.ray.intersectTriangle(tm,nm,xd,!1,gd),a===null))return;const l=e.ray.origin.distanceTo(gd);l<e.near||l>e.far||t.push({distance:l,point:gd.clone(),uv:ji.getInterpolation(gd,tm,xd,nm,$2,zx,Z2,new ve),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function im(n,e,t,i,r,s){yc.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(vd.x=s*yc.x-r*yc.y,vd.y=r*yc.x+s*yc.y):vd.copy(yc),n.copy(e),n.x+=vd.x,n.y+=vd.y,n.applyMatrix4(UL)}const rm=new k,eE=new k;class zL extends Bt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){rm.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(rm);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){rm.setFromMatrixPosition(e.matrixWorld),eE.setFromMatrixPosition(this.matrixWorld);const i=rm.distanceTo(eE)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const tE=new k,nE=new Wt,iE=new Wt,s9=new k,rE=new lt,Ac=new k,Hx=new Ir,sE=new lt,Gx=new Ll;class gw extends Qn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new lt,this.bindMatrixInverse=new lt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ns),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)Ac.fromBufferAttribute(t,i),this.applyBoneTransform(i,Ac),this.boundingBox.expandByPoint(Ac)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ir),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)Ac.fromBufferAttribute(t,i),this.applyBoneTransform(i,Ac),this.boundingSphere.expandByPoint(Ac)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Hx.copy(this.boundingSphere),Hx.applyMatrix4(r),e.ray.intersectsSphere(Hx)!==!1&&(sE.copy(r).invert(),Gx.copy(e.ray).applyMatrix4(sE),!(this.boundingBox!==null&&Gx.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,Gx)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Wt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;nE.fromBufferAttribute(r.attributes.skinIndex,e),iE.fromBufferAttribute(r.attributes.skinWeight,e),tE.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=iE.getComponent(s);if(o!==0){const a=nE.getComponent(s);rE.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(s9.copy(tE).applyMatrix4(rE),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class w0 extends Bt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class su extends an{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Mn,d=Mn,f,p){super(null,o,a,l,c,d,r,s,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const oE=new lt,o9=new lt;class qh{constructor(e=[],t=[]){this.uuid=or(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new lt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new lt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:o9;oE.multiplyMatrices(a,t[s]),oE.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new qh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=ML(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new su(t,e,e,zi,vs);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new w0),this.bones.push(o),this.boneInverses.push(new lt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Ml extends Dt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _c=new lt,aE=new lt,sm=[],lE=new ns,a9=new lt,yd=new Qn,Ad=new Ir;class vw extends Qn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ml(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,a9)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ns),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,_c),lE.copy(e.boundingBox).applyMatrix4(_c),this.boundingBox.union(lE)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ir),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,_c),Ad.copy(e.boundingSphere).applyMatrix4(_c),this.boundingSphere.union(Ad)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(yd.geometry=this.geometry,yd.material=this.material,yd.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ad.copy(this.boundingSphere),Ad.applyMatrix4(i),e.ray.intersectsSphere(Ad)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,_c),aE.multiplyMatrices(i,_c),yd.matrixWorld=aE,yd.raycast(e,sm);for(let o=0,a=sm.length;o<a;o++){const l=sm[o];l.instanceId=s,l.object=this,t.push(l)}sm.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ml(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ai extends On{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Fe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const cE=new k,uE=new k,dE=new lt,Vx=new Ll,om=new Ir;class oo extends Bt{constructor(e=new yt,t=new Ai){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)cE.fromBufferAttribute(t,r-1),uE.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=cE.distanceTo(uE);e.setAttribute("lineDistance",new qe(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),om.copy(i.boundingSphere),om.applyMatrix4(r),om.radius+=s,e.ray.intersectsSphere(om)===!1)return;dE.copy(r).invert(),Vx.copy(e.ray).applyMatrix4(dE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new k,d=new k,f=new k,p=new k,g=this.isLineSegments?2:1,x=i.index,A=i.attributes.position;if(x!==null){const v=Math.max(0,o.start),S=Math.min(x.count,o.start+o.count);for(let _=v,b=S-1;_<b;_+=g){const C=x.getX(_),T=x.getX(_+1);if(c.fromBufferAttribute(A,C),d.fromBufferAttribute(A,T),Vx.distanceSqToSegment(c,d,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(p);B<e.near||B>e.far||t.push({distance:B,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),S=Math.min(A.count,o.start+o.count);for(let _=v,b=S-1;_<b;_+=g){if(c.fromBufferAttribute(A,_),d.fromBufferAttribute(A,_+1),Vx.distanceSqToSegment(c,d,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||t.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const hE=new k,fE=new k;class is extends oo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)hE.fromBufferAttribute(t,r),fE.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+hE.distanceTo(fE);e.setAttribute("lineDistance",new qe(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class xw extends oo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Qh extends On{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const pE=new lt,fA=new Ll,am=new Ir,lm=new k;let yw=class extends Bt{constructor(e=new yt,t=new Qh){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),am.copy(i.boundingSphere),am.applyMatrix4(r),am.radius+=s,e.ray.intersectsSphere(am)===!1)return;pE.copy(r).invert(),fA.copy(e.ray).applyMatrix4(pE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,f=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let x=p,w=g;x<w;x++){const A=c.getX(x);lm.fromBufferAttribute(f,A),mE(lm,A,l,r,e,t,this)}}else{const p=Math.max(0,o.start),g=Math.min(f.count,o.start+o.count);for(let x=p,w=g;x<w;x++)lm.fromBufferAttribute(f,x),mE(lm,x,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function mE(n,e,t,i,r,s,o){const a=fA.distanceSqToPoint(n);if(a<t){const l=new k;fA.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class l9 extends an{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Vt,this.magFilter=s!==void 0?s:Vt,this.generateMipmaps=!1;const d=this;function f(){d.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class c9 extends an{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Mn,this.minFilter=Mn,this.generateMipmaps=!1,this.needsUpdate=!0}}class Aw extends an{constructor(e,t,i,r,s,o,a,l,c,d,f,p){super(null,o,a,l,c,d,r,s,f,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class u9 extends Aw{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ii}}class d9 extends an{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class rs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,g=(o-d)/p;return(r+g)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new ve:new k);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new k,r=[],s=[],o=[],a=new k,l=new lt;for(let g=0;g<=e;g++){const x=g/e;r[g]=this.getTangentAt(x,new k)}s[0]=new k,o[0]=new k;let c=Number.MAX_VALUE;const d=Math.abs(r[0].x),f=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=c&&(c=d,i.set(1,0,0)),f<=c&&(c=f,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(r[g-1],r[g]),a.length()>Number.EPSILON){a.normalize();const x=Math.acos(bn(r[g-1].dot(r[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(a,x))}o[g].crossVectors(r[g],s[g])}if(t===!0){let g=Math.acos(bn(s[0].dot(s[e]),-1,1));g/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let x=1;x<=e;x++)s[x].applyMatrix4(l.makeRotationAxis(r[x],g*x)),o[x].crossVectors(r[x],s[x])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class S0 extends rs{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new ve,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,g=c-this.aY;l=p*d-g*f+this.aX,c=p*f+g*d+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class HL extends S0{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function _w(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,f){let p=(o-s)/c-(a-s)/(c+d)+(a-o)/d,g=(a-o)/d-(l-o)/(d+f)+(l-a)/f;p*=d,g*=d,r(o,a,p,g)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const cm=new k,Wx=new _w,Xx=new _w,Jx=new _w;class GL extends rs{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new k){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=r[(a-1)%s]:(cm.subVectors(r[0],r[1]).add(r[0]),c=cm);const f=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(cm.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=cm),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let x=Math.pow(c.distanceToSquared(f),g),w=Math.pow(f.distanceToSquared(p),g),A=Math.pow(p.distanceToSquared(d),g);w<1e-4&&(w=1),x<1e-4&&(x=w),A<1e-4&&(A=w),Wx.initNonuniformCatmullRom(c.x,f.x,p.x,d.x,x,w,A),Xx.initNonuniformCatmullRom(c.y,f.y,p.y,d.y,x,w,A),Jx.initNonuniformCatmullRom(c.z,f.z,p.z,d.z,x,w,A)}else this.curveType==="catmullrom"&&(Wx.initCatmullRom(c.x,f.x,p.x,d.x,this.tension),Xx.initCatmullRom(c.y,f.y,p.y,d.y,this.tension),Jx.initCatmullRom(c.z,f.z,p.z,d.z,this.tension));return i.set(Wx.calc(l),Xx.calc(l),Jx.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new k().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function gE(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function h9(n,e){const t=1-n;return t*t*e}function f9(n,e){return 2*(1-n)*n*e}function p9(n,e){return n*n*e}function Qd(n,e,t,i){return h9(n,e)+f9(n,t)+p9(n,i)}function m9(n,e){const t=1-n;return t*t*t*e}function g9(n,e){const t=1-n;return 3*t*t*n*e}function v9(n,e){return 3*(1-n)*n*n*e}function x9(n,e){return n*n*n*e}function $d(n,e,t,i,r){return m9(n,e)+g9(n,t)+v9(n,i)+x9(n,r)}class ww extends rs{constructor(e=new ve,t=new ve,i=new ve,r=new ve){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ve){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set($d(e,r.x,s.x,o.x,a.x),$d(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class VL extends rs{constructor(e=new k,t=new k,i=new k,r=new k){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new k){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set($d(e,r.x,s.x,o.x,a.x),$d(e,r.y,s.y,o.y,a.y),$d(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class M0 extends rs{constructor(e=new ve,t=new ve){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ve){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ve){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class WL extends rs{constructor(e=new k,t=new k){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new k){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new k){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Sw extends rs{constructor(e=new ve,t=new ve,i=new ve){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ve){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Qd(e,r.x,s.x,o.x),Qd(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Mw extends rs{constructor(e=new k,t=new k,i=new k){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new k){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Qd(e,r.x,s.x,o.x),Qd(e,r.y,s.y,o.y),Qd(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bw extends rs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ve){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],d=r[o>r.length-2?r.length-1:o+1],f=r[o>r.length-3?r.length-1:o+2];return i.set(gE(a,l.x,c.x,d.x,f.x),gE(a,l.y,c.y,d.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ve().fromArray(r))}return this}}var Ew=Object.freeze({__proto__:null,ArcCurve:HL,CatmullRomCurve3:GL,CubicBezierCurve:ww,CubicBezierCurve3:VL,EllipseCurve:S0,LineCurve:M0,LineCurve3:WL,QuadraticBezierCurve:Sw,QuadraticBezierCurve3:Mw,SplineCurve:bw});class XL extends rs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new M0(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new Ew[r.type]().fromJSON(r))}return this}}class Lh extends XL{constructor(e){super(),this.type="Path",this.currentPoint=new ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new M0(this.currentPoint.clone(),new ve(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new Sw(this.currentPoint.clone(),new ve(e,t),new ve(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new ww(this.currentPoint.clone(),new ve(e,t),new ve(i,r),new ve(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new bw(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new S0(e,t,i,r,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Du extends yt{constructor(e=[new ve(0,-.5),new ve(.5,0),new ve(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=bn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/t,f=new k,p=new ve,g=new k,x=new k,w=new k;let A=0,v=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:A=e[S+1].x-e[S].x,v=e[S+1].y-e[S].y,g.x=v*1,g.y=-A,g.z=v*0,w.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(w.x,w.y,w.z);break;default:A=e[S+1].x-e[S].x,v=e[S+1].y-e[S].y,g.x=v*1,g.y=-A,g.z=v*0,x.copy(g),g.x+=w.x,g.y+=w.y,g.z+=w.z,g.normalize(),l.push(g.x,g.y,g.z),w.copy(x)}for(let S=0;S<=t;S++){const _=i+S*d*r,b=Math.sin(_),C=Math.cos(_);for(let T=0;T<=e.length-1;T++){f.x=e[T].x*b,f.y=e[T].y,f.z=e[T].x*C,o.push(f.x,f.y,f.z),p.x=S/t,p.y=T/(e.length-1),a.push(p.x,p.y);const N=l[3*T+0]*b,B=l[3*T+1],P=l[3*T+0]*C;c.push(N,B,P)}}for(let S=0;S<t;S++)for(let _=0;_<e.length-1;_++){const b=_+S*e.length,C=b,T=b+e.length,N=b+e.length+1,B=b+1;s.push(C,T,B),s.push(N,B,T)}this.setIndex(s),this.setAttribute("position",new qe(o,3)),this.setAttribute("uv",new qe(a,2)),this.setAttribute("normal",new qe(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Du(e.points,e.segments,e.phiStart,e.phiLength)}}class $h extends Du{constructor(e=1,t=1,i=4,r=8){const s=new Lh;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new $h(e.radius,e.length,e.capSegments,e.radialSegments)}}class Zh extends yt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new k,d=new ve;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){const g=i+f/t*r;c.x=e*Math.cos(g),c.y=e*Math.sin(g),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new qe(o,3)),this.setAttribute("normal",new qe(a,3)),this.setAttribute("uv",new qe(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zh(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Nl extends yt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const d=[],f=[],p=[],g=[];let x=0;const w=[],A=i/2;let v=0;S(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(d),this.setAttribute("position",new qe(f,3)),this.setAttribute("normal",new qe(p,3)),this.setAttribute("uv",new qe(g,2));function S(){const b=new k,C=new k;let T=0;const N=(t-e)/i;for(let B=0;B<=s;B++){const P=[],L=B/s,z=L*(t-e)+e;for(let ee=0;ee<=r;ee++){const K=ee/r,Q=K*l+a,Z=Math.sin(Q),se=Math.cos(Q);C.x=z*Z,C.y=-L*i+A,C.z=z*se,f.push(C.x,C.y,C.z),b.set(Z,N,se).normalize(),p.push(b.x,b.y,b.z),g.push(K,1-L),P.push(x++)}w.push(P)}for(let B=0;B<r;B++)for(let P=0;P<s;P++){const L=w[P][B],z=w[P+1][B],ee=w[P+1][B+1],K=w[P][B+1];d.push(L,z,K),d.push(z,ee,K),T+=6}c.addGroup(v,T,0),v+=T}function _(b){const C=x,T=new ve,N=new k;let B=0;const P=b===!0?e:t,L=b===!0?1:-1;for(let ee=1;ee<=r;ee++)f.push(0,A*L,0),p.push(0,L,0),g.push(.5,.5),x++;const z=x;for(let ee=0;ee<=r;ee++){const Q=ee/r*l+a,Z=Math.cos(Q),se=Math.sin(Q);N.x=P*se,N.y=A*L,N.z=P*Z,f.push(N.x,N.y,N.z),p.push(0,L,0),T.x=Z*.5+.5,T.y=se*.5*L+.5,g.push(T.x,T.y),x++}for(let ee=0;ee<r;ee++){const K=C+ee,Q=z+ee;b===!0?d.push(Q,Q+1,K):d.push(Q+1,Q,K),B+=3}c.addGroup(v,B,b===!0?1:2),v+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ef extends Nl{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new ef(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class fo extends yt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),d(),this.setAttribute("position",new qe(s,3)),this.setAttribute("normal",new qe(s.slice(),3)),this.setAttribute("uv",new qe(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const _=new k,b=new k,C=new k;for(let T=0;T<t.length;T+=3)g(t[T+0],_),g(t[T+1],b),g(t[T+2],C),l(_,b,C,S)}function l(S,_,b,C){const T=C+1,N=[];for(let B=0;B<=T;B++){N[B]=[];const P=S.clone().lerp(b,B/T),L=_.clone().lerp(b,B/T),z=T-B;for(let ee=0;ee<=z;ee++)ee===0&&B===T?N[B][ee]=P:N[B][ee]=P.clone().lerp(L,ee/z)}for(let B=0;B<T;B++)for(let P=0;P<2*(T-B)-1;P++){const L=Math.floor(P/2);P%2===0?(p(N[B][L+1]),p(N[B+1][L]),p(N[B][L])):(p(N[B][L+1]),p(N[B+1][L+1]),p(N[B+1][L]))}}function c(S){const _=new k;for(let b=0;b<s.length;b+=3)_.x=s[b+0],_.y=s[b+1],_.z=s[b+2],_.normalize().multiplyScalar(S),s[b+0]=_.x,s[b+1]=_.y,s[b+2]=_.z}function d(){const S=new k;for(let _=0;_<s.length;_+=3){S.x=s[_+0],S.y=s[_+1],S.z=s[_+2];const b=A(S)/2/Math.PI+.5,C=v(S)/Math.PI+.5;o.push(b,1-C)}x(),f()}function f(){for(let S=0;S<o.length;S+=6){const _=o[S+0],b=o[S+2],C=o[S+4],T=Math.max(_,b,C),N=Math.min(_,b,C);T>.9&&N<.1&&(_<.2&&(o[S+0]+=1),b<.2&&(o[S+2]+=1),C<.2&&(o[S+4]+=1))}}function p(S){s.push(S.x,S.y,S.z)}function g(S,_){const b=S*3;_.x=e[b+0],_.y=e[b+1],_.z=e[b+2]}function x(){const S=new k,_=new k,b=new k,C=new k,T=new ve,N=new ve,B=new ve;for(let P=0,L=0;P<s.length;P+=9,L+=6){S.set(s[P+0],s[P+1],s[P+2]),_.set(s[P+3],s[P+4],s[P+5]),b.set(s[P+6],s[P+7],s[P+8]),T.set(o[L+0],o[L+1]),N.set(o[L+2],o[L+3]),B.set(o[L+4],o[L+5]),C.copy(S).add(_).add(b).divideScalar(3);const z=A(C);w(T,L+0,S,z),w(N,L+2,_,z),w(B,L+4,b,z)}}function w(S,_,b,C){C<0&&S.x===1&&(o[_]=S.x-1),b.x===0&&b.z===0&&(o[_]=C/2/Math.PI+.5)}function A(S){return Math.atan2(S.z,-S.x)}function v(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fo(e.vertices,e.indices,e.radius,e.details)}}class tf extends fo{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tf(e.radius,e.detail)}}const um=new k,dm=new k,Kx=new k,hm=new ji;class JL extends yt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(fl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],f=new Array(3),p={},g=[];for(let x=0;x<l;x+=3){o?(c[0]=o.getX(x),c[1]=o.getX(x+1),c[2]=o.getX(x+2)):(c[0]=x,c[1]=x+1,c[2]=x+2);const{a:w,b:A,c:v}=hm;if(w.fromBufferAttribute(a,c[0]),A.fromBufferAttribute(a,c[1]),v.fromBufferAttribute(a,c[2]),hm.getNormal(Kx),f[0]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,f[1]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,f[2]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let S=0;S<3;S++){const _=(S+1)%3,b=f[S],C=f[_],T=hm[d[S]],N=hm[d[_]],B=`${b}_${C}`,P=`${C}_${b}`;P in p&&p[P]?(Kx.dot(p[P].normal)<=s&&(g.push(T.x,T.y,T.z),g.push(N.x,N.y,N.z)),p[P]=null):B in p||(p[B]={index0:c[S],index1:c[_],normal:Kx.clone()})}}for(const x in p)if(p[x]){const{index0:w,index1:A}=p[x];um.fromBufferAttribute(a,w),dm.fromBufferAttribute(a,A),g.push(um.x,um.y,um.z),g.push(dm.x,dm.y,dm.z)}this.setAttribute("position",new qe(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ml extends Lh{constructor(e){super(e),this.uuid=or(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Lh().fromJSON(r))}return this}}const y9={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=KL(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,d,f,p,g;if(i&&(s=M9(n,e,s,t)),n.length>80*t){a=c=n[0],l=d=n[1];for(let x=t;x<r;x+=t)f=n[x],p=n[x+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>d&&(d=p);g=Math.max(c-a,d-l),g=g!==0?32767/g:0}return Nh(s,o,t,a,l,g,0),o}};function KL(n,e,t,i,r){let s,o;if(r===I9(n,e,t,i)>0)for(s=e;s<t;s+=i)o=vE(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=vE(s,n[s],n[s+1],o);return o&&b0(o,o.next)&&(Dh(o),o=o.next),o}function bl(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(b0(t,t.next)||hn(t.prev,t,t.next)===0)){if(Dh(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Nh(n,e,t,i,r,s,o){if(!n)return;!o&&s&&R9(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?_9(n,i,r,s):A9(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Dh(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=w9(bl(n),e,t),Nh(n,e,t,i,r,s,2)):o===2&&S9(n,e,t,i,r,s):Nh(bl(n),e,t,i,r,s,1);break}}}function A9(n){const e=n.prev,t=n,i=n.next;if(hn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,d=r<s?r<o?r:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,g=a>l?a>c?a:c:l>c?l:c;let x=i.next;for(;x!==e;){if(x.x>=d&&x.x<=p&&x.y>=f&&x.y<=g&&Vc(r,a,s,l,o,c,x.x,x.y)&&hn(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function _9(n,e,t,i){const r=n.prev,s=n,o=n.next;if(hn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,d=r.y,f=s.y,p=o.y,g=a<l?a<c?a:c:l<c?l:c,x=d<f?d<p?d:p:f<p?f:p,w=a>l?a>c?a:c:l>c?l:c,A=d>f?d>p?d:p:f>p?f:p,v=pA(g,x,e,t,i),S=pA(w,A,e,t,i);let _=n.prevZ,b=n.nextZ;for(;_&&_.z>=v&&b&&b.z<=S;){if(_.x>=g&&_.x<=w&&_.y>=x&&_.y<=A&&_!==r&&_!==o&&Vc(a,d,l,f,c,p,_.x,_.y)&&hn(_.prev,_,_.next)>=0||(_=_.prevZ,b.x>=g&&b.x<=w&&b.y>=x&&b.y<=A&&b!==r&&b!==o&&Vc(a,d,l,f,c,p,b.x,b.y)&&hn(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;_&&_.z>=v;){if(_.x>=g&&_.x<=w&&_.y>=x&&_.y<=A&&_!==r&&_!==o&&Vc(a,d,l,f,c,p,_.x,_.y)&&hn(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=S;){if(b.x>=g&&b.x<=w&&b.y>=x&&b.y<=A&&b!==r&&b!==o&&Vc(a,d,l,f,c,p,b.x,b.y)&&hn(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function w9(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!b0(r,s)&&YL(r,i,i.next,s)&&Bh(r,s)&&Bh(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Dh(i),Dh(i.next),i=n=s),i=i.next}while(i!==n);return bl(i)}function S9(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&N9(o,a)){let l=qL(o,a);o=bl(o,o.next),l=bl(l,l.next),Nh(o,e,t,i,r,s,0),Nh(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function M9(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=KL(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(L9(c));for(r.sort(b9),s=0;s<r.length;s++)t=E9(r[s],t);return t}function b9(n,e){return n.x-e.x}function E9(n,e){const t=C9(n,e);if(!t)return e;const i=qL(t,n);return bl(i,i.next),bl(t,t.next)}function C9(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let d=1/0,f;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Vc(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),Bh(t,n)&&(f<d||f===d&&(t.x>r.x||t.x===r.x&&T9(r,t)))&&(r=t,d=f)),t=t.next;while(t!==a);return r}function T9(n,e){return hn(n.prev,n,e.prev)<0&&hn(e.next,n,n.next)<0}function R9(n,e,t,i){let r=n;do r.z===0&&(r.z=pA(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,P9(r)}function P9(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function pA(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function L9(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Vc(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function N9(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!B9(n,e)&&(Bh(n,e)&&Bh(e,n)&&D9(n,e)&&(hn(n.prev,n,e.prev)||hn(n,e.prev,e))||b0(n,e)&&hn(n.prev,n,n.next)>0&&hn(e.prev,e,e.next)>0)}function hn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function b0(n,e){return n.x===e.x&&n.y===e.y}function YL(n,e,t,i){const r=pm(hn(n,e,t)),s=pm(hn(n,e,i)),o=pm(hn(t,i,n)),a=pm(hn(t,i,e));return!!(r!==s&&o!==a||r===0&&fm(n,t,e)||s===0&&fm(n,i,e)||o===0&&fm(t,n,i)||a===0&&fm(t,e,i))}function fm(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function pm(n){return n>0?1:n<0?-1:0}function B9(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&YL(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Bh(n,e){return hn(n.prev,n,n.next)<0?hn(n,e,n.next)>=0&&hn(n,n.prev,e)>=0:hn(n,e,n.prev)<0||hn(n,n.next,e)<0}function D9(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function qL(n,e){const t=new mA(n.i,n.x,n.y),i=new mA(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function vE(n,e,t,i){const r=new mA(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Dh(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function mA(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I9(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class Ss{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Ss.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];xE(e),yE(i,e);let o=e.length;t.forEach(xE);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,yE(i,t[l]);const a=y9.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function xE(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function yE(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class nf extends yt{constructor(e=new ml([new ve(.5,.5),new ve(-.5,.5),new ve(-.5,-.5),new ve(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new qe(r,3)),this.setAttribute("uv",new qe(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:g-.1,w=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const v=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:k9;let _,b=!1,C,T,N,B;v&&(_=v.getSpacedPoints(d),b=!0,p=!1,C=v.computeFrenetFrames(d,!1),T=new k,N=new k,B=new k),p||(A=0,g=0,x=0,w=0);const P=a.extractPoints(c);let L=P.shape;const z=P.holes;if(!Ss.isClockWise(L)){L=L.reverse();for(let U=0,de=z.length;U<de;U++){const pe=z[U];Ss.isClockWise(pe)&&(z[U]=pe.reverse())}}const K=Ss.triangulateShape(L,z),Q=L;for(let U=0,de=z.length;U<de;U++){const pe=z[U];L=L.concat(pe)}function Z(U,de,pe){return de||console.error("THREE.ExtrudeGeometry: vec does not exist"),U.clone().addScaledVector(de,pe)}const se=L.length,ie=K.length;function O(U,de,pe){let Me,Se,We;const Ue=U.x-de.x,Ge=U.y-de.y,et=pe.x-U.x,At=pe.y-U.y,zt=Ue*Ue+Ge*Ge,G=Ue*At-Ge*et;if(Math.abs(G)>Number.EPSILON){const I=Math.sqrt(zt),he=Math.sqrt(et*et+At*At),Re=de.x-Ge/I,be=de.y+Ue/I,De=pe.x-At/he,Qe=pe.y+et/he,Ie=((De-Re)*At-(Qe-be)*et)/(Ue*At-Ge*et);Me=Re+Ue*Ie-U.x,Se=be+Ge*Ie-U.y;const me=Me*Me+Se*Se;if(me<=2)return new ve(Me,Se);We=Math.sqrt(me/2)}else{let I=!1;Ue>Number.EPSILON?et>Number.EPSILON&&(I=!0):Ue<-Number.EPSILON?et<-Number.EPSILON&&(I=!0):Math.sign(Ge)===Math.sign(At)&&(I=!0),I?(Me=-Ge,Se=Ue,We=Math.sqrt(zt)):(Me=Ue,Se=Ge,We=Math.sqrt(zt/2))}return new ve(Me/We,Se/We)}const J=[];for(let U=0,de=Q.length,pe=de-1,Me=U+1;U<de;U++,pe++,Me++)pe===de&&(pe=0),Me===de&&(Me=0),J[U]=O(Q[U],Q[pe],Q[Me]);const V=[];let ne,j=J.concat();for(let U=0,de=z.length;U<de;U++){const pe=z[U];ne=[];for(let Me=0,Se=pe.length,We=Se-1,Ue=Me+1;Me<Se;Me++,We++,Ue++)We===Se&&(We=0),Ue===Se&&(Ue=0),ne[Me]=O(pe[Me],pe[We],pe[Ue]);V.push(ne),j=j.concat(ne)}for(let U=0;U<A;U++){const de=U/A,pe=g*Math.cos(de*Math.PI/2),Me=x*Math.sin(de*Math.PI/2)+w;for(let Se=0,We=Q.length;Se<We;Se++){const Ue=Z(Q[Se],J[Se],Me);we(Ue.x,Ue.y,-pe)}for(let Se=0,We=z.length;Se<We;Se++){const Ue=z[Se];ne=V[Se];for(let Ge=0,et=Ue.length;Ge<et;Ge++){const At=Z(Ue[Ge],ne[Ge],Me);we(At.x,At.y,-pe)}}}const q=x+w;for(let U=0;U<se;U++){const de=p?Z(L[U],j[U],q):L[U];b?(N.copy(C.normals[0]).multiplyScalar(de.x),T.copy(C.binormals[0]).multiplyScalar(de.y),B.copy(_[0]).add(N).add(T),we(B.x,B.y,B.z)):we(de.x,de.y,0)}for(let U=1;U<=d;U++)for(let de=0;de<se;de++){const pe=p?Z(L[de],j[de],q):L[de];b?(N.copy(C.normals[U]).multiplyScalar(pe.x),T.copy(C.binormals[U]).multiplyScalar(pe.y),B.copy(_[U]).add(N).add(T),we(B.x,B.y,B.z)):we(pe.x,pe.y,f/d*U)}for(let U=A-1;U>=0;U--){const de=U/A,pe=g*Math.cos(de*Math.PI/2),Me=x*Math.sin(de*Math.PI/2)+w;for(let Se=0,We=Q.length;Se<We;Se++){const Ue=Z(Q[Se],J[Se],Me);we(Ue.x,Ue.y,f+pe)}for(let Se=0,We=z.length;Se<We;Se++){const Ue=z[Se];ne=V[Se];for(let Ge=0,et=Ue.length;Ge<et;Ge++){const At=Z(Ue[Ge],ne[Ge],Me);b?we(At.x,At.y+_[d-1].y,_[d-1].x+pe):we(At.x,At.y,f+pe)}}}Y(),ue();function Y(){const U=r.length/3;if(p){let de=0,pe=se*de;for(let Me=0;Me<ie;Me++){const Se=K[Me];Ce(Se[2]+pe,Se[1]+pe,Se[0]+pe)}de=d+A*2,pe=se*de;for(let Me=0;Me<ie;Me++){const Se=K[Me];Ce(Se[0]+pe,Se[1]+pe,Se[2]+pe)}}else{for(let de=0;de<ie;de++){const pe=K[de];Ce(pe[2],pe[1],pe[0])}for(let de=0;de<ie;de++){const pe=K[de];Ce(pe[0]+se*d,pe[1]+se*d,pe[2]+se*d)}}i.addGroup(U,r.length/3-U,0)}function ue(){const U=r.length/3;let de=0;ye(Q,de),de+=Q.length;for(let pe=0,Me=z.length;pe<Me;pe++){const Se=z[pe];ye(Se,de),de+=Se.length}i.addGroup(U,r.length/3-U,1)}function ye(U,de){let pe=U.length;for(;--pe>=0;){const Me=pe;let Se=pe-1;Se<0&&(Se=U.length-1);for(let We=0,Ue=d+A*2;We<Ue;We++){const Ge=se*We,et=se*(We+1),At=de+Me+Ge,zt=de+Se+Ge,G=de+Se+et,I=de+Me+et;Ee(At,zt,G,I)}}}function we(U,de,pe){l.push(U),l.push(de),l.push(pe)}function Ce(U,de,pe){Be(U),Be(de),Be(pe);const Me=r.length/3,Se=S.generateTopUV(i,r,Me-3,Me-2,Me-1);Ae(Se[0]),Ae(Se[1]),Ae(Se[2])}function Ee(U,de,pe,Me){Be(U),Be(de),Be(Me),Be(de),Be(pe),Be(Me);const Se=r.length/3,We=S.generateSideWallUV(i,r,Se-6,Se-3,Se-2,Se-1);Ae(We[0]),Ae(We[1]),Ae(We[3]),Ae(We[1]),Ae(We[2]),Ae(We[3])}function Be(U){r.push(l[U*3+0]),r.push(l[U*3+1]),r.push(l[U*3+2])}function Ae(U){s.push(U.x),s.push(U.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return F9(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Ew[r.type]().fromJSON(r)),new nf(i,e.options)}}const k9={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],d=e[r*3+1];return[new ve(s,o),new ve(a,l),new ve(c,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],d=e[i*3+1],f=e[i*3+2],p=e[r*3],g=e[r*3+1],x=e[r*3+2],w=e[s*3],A=e[s*3+1],v=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new ve(o,1-l),new ve(c,1-f),new ve(p,1-x),new ve(w,1-v)]:[new ve(a,1-l),new ve(d,1-f),new ve(g,1-x),new ve(A,1-v)]}};function F9(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class rf extends fo{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rf(e.radius,e.detail)}}class Iu extends fo{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Iu(e.radius,e.detail)}}class sf extends yt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],d=[];let f=e;const p=(t-e)/r,g=new k,x=new ve;for(let w=0;w<=r;w++){for(let A=0;A<=i;A++){const v=s+A/i*o;g.x=f*Math.cos(v),g.y=f*Math.sin(v),l.push(g.x,g.y,g.z),c.push(0,0,1),x.x=(g.x/t+1)/2,x.y=(g.y/t+1)/2,d.push(x.x,x.y)}f+=p}for(let w=0;w<r;w++){const A=w*(i+1);for(let v=0;v<i;v++){const S=v+A,_=S,b=S+i+1,C=S+i+2,T=S+1;a.push(_,b,T),a.push(b,C,T)}}this.setIndex(a),this.setAttribute("position",new qe(l,3)),this.setAttribute("normal",new qe(c,3)),this.setAttribute("uv",new qe(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sf(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class of extends yt{constructor(e=new ml([new ve(0,.5),new ve(-.5,-.5),new ve(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new qe(r,3)),this.setAttribute("normal",new qe(s,3)),this.setAttribute("uv",new qe(o,2));function c(d){const f=r.length/3,p=d.extractPoints(t);let g=p.shape;const x=p.holes;Ss.isClockWise(g)===!1&&(g=g.reverse());for(let A=0,v=x.length;A<v;A++){const S=x[A];Ss.isClockWise(S)===!0&&(x[A]=S.reverse())}const w=Ss.triangulateShape(g,x);for(let A=0,v=x.length;A<v;A++){const S=x[A];g=g.concat(S)}for(let A=0,v=g.length;A<v;A++){const S=g[A];r.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let A=0,v=w.length;A<v;A++){const S=w[A],_=S[0]+f,b=S[1]+f,C=S[2]+f;i.push(_,b,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return O9(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new of(i,e.curveSegments)}}function O9(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class ku extends yt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const d=[],f=new k,p=new k,g=[],x=[],w=[],A=[];for(let v=0;v<=i;v++){const S=[],_=v/i;let b=0;v===0&&o===0?b=.5/t:v===i&&l===Math.PI&&(b=-.5/t);for(let C=0;C<=t;C++){const T=C/t;f.x=-e*Math.cos(r+T*s)*Math.sin(o+_*a),f.y=e*Math.cos(o+_*a),f.z=e*Math.sin(r+T*s)*Math.sin(o+_*a),x.push(f.x,f.y,f.z),p.copy(f).normalize(),w.push(p.x,p.y,p.z),A.push(T+b,1-_),S.push(c++)}d.push(S)}for(let v=0;v<i;v++)for(let S=0;S<t;S++){const _=d[v][S+1],b=d[v][S],C=d[v+1][S],T=d[v+1][S+1];(v!==0||o>0)&&g.push(_,b,T),(v!==i-1||l<Math.PI)&&g.push(b,C,T)}this.setIndex(g),this.setAttribute("position",new qe(x,3)),this.setAttribute("normal",new qe(w,3)),this.setAttribute("uv",new qe(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ku(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class af extends fo{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new af(e.radius,e.detail)}}class lf extends yt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],d=new k,f=new k,p=new k;for(let g=0;g<=i;g++)for(let x=0;x<=r;x++){const w=x/r*s,A=g/i*Math.PI*2;f.x=(e+t*Math.cos(A))*Math.cos(w),f.y=(e+t*Math.cos(A))*Math.sin(w),f.z=t*Math.sin(A),a.push(f.x,f.y,f.z),d.x=e*Math.cos(w),d.y=e*Math.sin(w),p.subVectors(f,d).normalize(),l.push(p.x,p.y,p.z),c.push(x/r),c.push(g/i)}for(let g=1;g<=i;g++)for(let x=1;x<=r;x++){const w=(r+1)*g+x-1,A=(r+1)*(g-1)+x-1,v=(r+1)*(g-1)+x,S=(r+1)*g+x;o.push(w,A,S),o.push(A,v,S)}this.setIndex(o),this.setAttribute("position",new qe(a,3)),this.setAttribute("normal",new qe(l,3)),this.setAttribute("uv",new qe(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lf(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class cf extends yt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],d=[],f=new k,p=new k,g=new k,x=new k,w=new k,A=new k,v=new k;for(let _=0;_<=i;++_){const b=_/i*s*Math.PI*2;S(b,s,o,e,g),S(b+.01,s,o,e,x),A.subVectors(x,g),v.addVectors(x,g),w.crossVectors(A,v),v.crossVectors(w,A),w.normalize(),v.normalize();for(let C=0;C<=r;++C){const T=C/r*Math.PI*2,N=-t*Math.cos(T),B=t*Math.sin(T);f.x=g.x+(N*v.x+B*w.x),f.y=g.y+(N*v.y+B*w.y),f.z=g.z+(N*v.z+B*w.z),l.push(f.x,f.y,f.z),p.subVectors(f,g).normalize(),c.push(p.x,p.y,p.z),d.push(_/i),d.push(C/r)}}for(let _=1;_<=i;_++)for(let b=1;b<=r;b++){const C=(r+1)*(_-1)+(b-1),T=(r+1)*_+(b-1),N=(r+1)*_+b,B=(r+1)*(_-1)+b;a.push(C,T,B),a.push(T,N,B)}this.setIndex(a),this.setAttribute("position",new qe(l,3)),this.setAttribute("normal",new qe(c,3)),this.setAttribute("uv",new qe(d,2));function S(_,b,C,T,N){const B=Math.cos(_),P=Math.sin(_),L=C/b*_,z=Math.cos(L);N.x=T*(2+z)*.5*B,N.y=T*(2+z)*P*.5,N.z=T*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cf(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class uf extends yt{constructor(e=new Mw(new k(-1,-1,0),new k(-1,1,0),new k(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new k,l=new k,c=new ve;let d=new k;const f=[],p=[],g=[],x=[];w(),this.setIndex(x),this.setAttribute("position",new qe(f,3)),this.setAttribute("normal",new qe(p,3)),this.setAttribute("uv",new qe(g,2));function w(){for(let _=0;_<t;_++)A(_);A(s===!1?t:0),S(),v()}function A(_){d=e.getPointAt(_/t,d);const b=o.normals[_],C=o.binormals[_];for(let T=0;T<=r;T++){const N=T/r*Math.PI*2,B=Math.sin(N),P=-Math.cos(N);l.x=P*b.x+B*C.x,l.y=P*b.y+B*C.y,l.z=P*b.z+B*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,f.push(a.x,a.y,a.z)}}function v(){for(let _=1;_<=t;_++)for(let b=1;b<=r;b++){const C=(r+1)*(_-1)+(b-1),T=(r+1)*_+(b-1),N=(r+1)*_+b,B=(r+1)*(_-1)+b;x.push(C,T,B),x.push(T,N,B)}}function S(){for(let _=0;_<=t;_++)for(let b=0;b<=r;b++)c.x=_/t,c.y=b/r,g.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new uf(new Ew[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class QL extends yt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new k,s=new k;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const f=l[c],p=f.start,g=f.count;for(let x=p,w=p+g;x<w;x+=3)for(let A=0;A<3;A++){const v=a.getX(x+A),S=a.getX(x+(A+1)%3);r.fromBufferAttribute(o,v),s.fromBufferAttribute(o,S),AE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,f=3*a+(c+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,f),AE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new qe(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function AE(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var _E=Object.freeze({__proto__:null,BoxGeometry:xa,CapsuleGeometry:$h,CircleGeometry:Zh,ConeGeometry:ef,CylinderGeometry:Nl,DodecahedronGeometry:tf,EdgesGeometry:JL,ExtrudeGeometry:nf,IcosahedronGeometry:rf,LatheGeometry:Du,OctahedronGeometry:Iu,PlaneGeometry:Nu,PolyhedronGeometry:fo,RingGeometry:sf,ShapeGeometry:of,SphereGeometry:ku,TetrahedronGeometry:af,TorusGeometry:lf,TorusKnotGeometry:cf,TubeGeometry:uf,WireframeGeometry:QL});class $L extends On{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Fe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class ZL extends Cs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class df extends On{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Fe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=va,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kr extends df{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return bn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Fe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Fe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Fe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class eN extends On{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Fe(16777215),this.specular=new Fe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=va,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tN extends On{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Fe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=va,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class nN extends On{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=va,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class iN extends On{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=va,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class rN extends On{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Fe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=va,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sN extends Ai{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function br(n,e,t){return Cw(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function sl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Cw(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function oN(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function gA(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function Tw(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function U9(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),f=[],p=[];for(let g=0;g<c.times.length;++g){const x=c.times[g]*r;if(!(x<t||x>=i)){f.push(c.times[g]);for(let w=0;w<d;++w)p.push(c.values[g*d+w])}}f.length!==0&&(c.times=sl(f,c.times.constructor),c.values=sl(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function j9(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let d=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);let p=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);const x=a.times.length-1;let w;if(s<=a.times[0]){const v=d,S=f-d;w=br(a.values,v,S)}else if(s>=a.times[x]){const v=x*f+d,S=v+f-d;w=br(a.values,v,S)}else{const v=a.createInterpolant(),S=d,_=f-d;v.evaluate(s),w=br(v.resultBuffer,S,_)}l==="quaternion"&&new Zn().fromArray(w).normalize().conjugate().toArray(w);const A=c.times.length;for(let v=0;v<A;++v){const S=v*g+p;if(l==="quaternion")Zn.multiplyQuaternionsFlat(c.values,S,w,0,c.values,S);else{const _=g-p*2;for(let b=0;b<_;++b)c.values[S+b]-=w[b]}}}return n.blendMode=ew,n}const z9={arraySlice:br,convertArray:sl,isTypedArray:Cw,getKeyframeOrder:oN,sortedArray:gA,flattenJSON:Tw,subclip:U9,makeClipAdditive:j9};class Fu{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class aN extends Fu{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:nl,endingEnd:nl}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case il:s=e,a=2*t-i;break;case Ch:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case il:o=e,l=2*i-t;break;case Ch:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,d=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,g=this._weightNext,x=(i-t)/(r-t),w=x*x,A=w*x,v=-p*A+2*p*w-p*x,S=(1+p)*A+(-1.5-2*p)*w+(-.5+p)*x+1,_=(-1-g)*A+(1.5+g)*w+.5*x,b=g*A-g*w;for(let C=0;C!==a;++C)s[C]=v*o[d+C]+S*o[c+C]+_*o[l+C]+b*o[f+C];return s}}class Rw extends Fu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(i-t)/(r-t),f=1-d;for(let p=0;p!==a;++p)s[p]=o[c+p]*f+o[l+p]*d;return s}}class lN extends Fu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ss{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=sl(t,this.TimeBufferType),this.values=sl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:sl(e.times,Array),values:sl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new lN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Rw(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new aN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case vu:t=this.InterpolantFactoryMethodDiscrete;break;case Sl:t=this.InterpolantFactoryMethodLinear;break;case $m:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return vu;case this.InterpolantFactoryMethodLinear:return Sl;case this.InterpolantFactoryMethodSmooth:return $m}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=br(i,s,o),this.values=br(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&Cw(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=br(this.times),t=br(this.values),i=this.getValueSize(),r=this.getInterpolation()===$m,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(r)l=!0;else{const f=a*i,p=f-i,g=f+i;for(let x=0;x!==i;++x){const w=t[f+x];if(w!==t[p+x]||w!==t[g+x]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*i,p=o*i;for(let g=0;g!==i;++g)t[p+g]=t[f+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=br(e,0,o),this.values=br(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=br(this.times,0),t=br(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}ss.prototype.TimeBufferType=Float32Array;ss.prototype.ValueBufferType=Float32Array;ss.prototype.DefaultInterpolation=Sl;class Bl extends ss{}Bl.prototype.ValueTypeName="bool";Bl.prototype.ValueBufferType=Array;Bl.prototype.DefaultInterpolation=vu;Bl.prototype.InterpolantFactoryMethodLinear=void 0;Bl.prototype.InterpolantFactoryMethodSmooth=void 0;class Pw extends ss{}Pw.prototype.ValueTypeName="color";class El extends ss{}El.prototype.ValueTypeName="number";class cN extends Fu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let d=c+a;c!==d;c+=4)Zn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class ua extends ss{InterpolantFactoryMethodLinear(e){return new cN(this.times,this.values,this.getValueSize(),e)}}ua.prototype.ValueTypeName="quaternion";ua.prototype.DefaultInterpolation=Sl;ua.prototype.InterpolantFactoryMethodSmooth=void 0;class Dl extends ss{}Dl.prototype.ValueTypeName="string";Dl.prototype.ValueBufferType=Array;Dl.prototype.DefaultInterpolation=vu;Dl.prototype.InterpolantFactoryMethodLinear=void 0;Dl.prototype.InterpolantFactoryMethodSmooth=void 0;class Cl extends ss{}Cl.prototype.ValueTypeName="vector";class Au{constructor(e,t=-1,i,r=g0){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=or(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(G9(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(ss.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=oN(l);l=gA(l,1,d),c=gA(c,1,d),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new El(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const f=d[1];let p=r[f];p||(r[f]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,p,g,x,w){if(g.length!==0){const A=[],v=[];Tw(g,A,v,x),A.length!==0&&w.push(new f(p,A,v))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const p=c[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const g={};let x;for(x=0;x<p.length;x++)if(p[x].morphTargets)for(let w=0;w<p[x].morphTargets.length;w++)g[p[x].morphTargets[w]]=-1;for(const w in g){const A=[],v=[];for(let S=0;S!==p[x].morphTargets.length;++S){const _=p[x];A.push(_.time),v.push(_.morphTarget===w?1:0)}r.push(new El(".morphTargetInfluence["+w+"]",A,v))}l=g.length*o}else{const g=".bones["+t[f].name+"]";i(Cl,g+".position",p,"pos",r),i(ua,g+".quaternion",p,"rot",r),i(Cl,g+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function H9(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return El;case"vector":case"vector2":case"vector3":case"vector4":return Cl;case"color":return Pw;case"quaternion":return ua;case"bool":case"boolean":return Bl;case"string":return Dl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function G9(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=H9(n.type);if(n.times===void 0){const t=[],i=[];Tw(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Tl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class Lw{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,f){return c.push(d,f),this},this.removeHandler=function(d){const f=c.indexOf(d);return f!==-1&&c.splice(f,2),this},this.getHandler=function(d){for(let f=0,p=c.length;f<p;f+=2){const g=c[f],x=c[f+1];if(g.global&&(g.lastIndex=0),g.test(d))return x}return null}}}const Wc=new Lw;class _i{constructor(e){this.manager=e!==void 0?e:Wc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const js={};class V9 extends Error{constructor(e,t){super(e),this.response=t}}class Ni extends _i{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Tl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(js[e]!==void 0){js[e].push({onLoad:t,onProgress:i,onError:r});return}js[e]=[],js[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=js[e],f=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),g=p?parseInt(p):0,x=g!==0;let w=0;const A=new ReadableStream({start(v){S();function S(){f.read().then(({done:_,value:b})=>{if(_)v.close();else{w+=b.byteLength;const C=new ProgressEvent("progress",{lengthComputable:x,loaded:w,total:g});for(let T=0,N=d.length;T<N;T++){const B=d[T];B.onProgress&&B.onProgress(C)}v.enqueue(b),S()}})}}});return new Response(A)}else throw new V9(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,g=new TextDecoder(p);return c.arrayBuffer().then(x=>g.decode(x))}}}).then(c=>{Tl.add(e,c);const d=js[e];delete js[e];for(let f=0,p=d.length;f<p;f++){const g=d[f];g.onLoad&&g.onLoad(c)}}).catch(c=>{const d=js[e];if(d===void 0)throw this.manager.itemError(e),c;delete js[e];for(let f=0,p=d.length;f<p;f++){const g=d[f];g.onError&&g.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class W9 extends _i{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ni(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Au.parse(e[i]);t.push(r)}return t}}class X9 extends _i{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new Aw,l=new Ni(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(f){l.load(e[f],function(p){const g=s.parse(p,!0);o[f]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},c+=1,c===6&&(g.mipmapCount===1&&(a.minFilter=Vt),a.image=o,a.format=g.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)d(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const g=p.mipmaps.length/p.mipmapCount;for(let x=0;x<g;x++){o[x]={mipmaps:[]};for(let w=0;w<p.mipmapCount;w++)o[x].mipmaps.push(p.mipmaps[x*p.mipmapCount+w]),o[x].format=p.format,o[x].width=p.width,o[x].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Vt),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Ih extends _i{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Tl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Ph("img");function l(){d(),Tl.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){d(),r&&r(f),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class J9 extends _i{constructor(e){super(e)}load(e,t,i,r){const s=new Kh;s.colorSpace=mt;const o=new Ih(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class K9 extends _i{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new su,a=new Ni(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:ii,o.wrapT=c.wrapT!==void 0?c.wrapT:ii,o.magFilter=c.magFilter!==void 0?c.magFilter:Vt,o.minFilter=c.minFilter!==void 0?c.minFilter:Vt,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Es),c.mipmapCount===1&&(o.minFilter=Vt),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},i,r),o}}class uN extends _i{constructor(e){super(e)}load(e,t,i,r){const s=new an,o=new Ih(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class ya extends Bt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Fe(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class dN extends ya{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Fe(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Yx=new lt,wE=new k,SE=new k;class Nw{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ve(512,512),this.map=null,this.mapPass=null,this.matrix=new lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new x0,this._frameExtents=new ve(1,1),this._viewportCount=1,this._viewports=[new Wt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;wE.setFromMatrixPosition(e.matrixWorld),t.position.copy(wE),SE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(SE),t.updateMatrixWorld(),Yx.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Yx),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Yx)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Y9 extends Nw{constructor(){super(new on(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=xu*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Bw extends ya{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Y9}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const ME=new lt,_d=new k,qx=new k;class q9 extends Nw{constructor(){super(new on(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ve(4,2),this._viewportCount=6,this._viewports=[new Wt(2,1,1,1),new Wt(0,1,1,1),new Wt(3,1,1,1),new Wt(1,1,1,1),new Wt(3,0,1,1),new Wt(1,0,1,1)],this._cubeDirections=[new k(1,0,0),new k(-1,0,0),new k(0,0,1),new k(0,0,-1),new k(0,1,0),new k(0,-1,0)],this._cubeUps=[new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,0,1),new k(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),_d.setFromMatrixPosition(e.matrixWorld),i.position.copy(_d),qx.copy(i.position),qx.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(qx),i.updateMatrixWorld(),r.makeTranslation(-_d.x,-_d.y,-_d.z),ME.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ME)}}class Dw extends ya{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new q9}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Q9 extends Nw{constructor(){super(new Zr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Iw extends ya{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.shadow=new Q9}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class hN extends ya{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class fN extends ya{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class pN{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new k)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class E0 extends ya{constructor(e=new pN,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class C0 extends _i{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Ni(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=C0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Fe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Fe().setHex(o.value);break;case"v2":r.uniforms[s].value=new ve().fromArray(o.value);break;case"v3":r.uniforms[s].value=new k().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Wt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new St().fromArray(o.value);break;case"m4":r.uniforms[s].value=new lt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ve().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ve().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:$L,SpriteMaterial:mw,RawShaderMaterial:ZL,ShaderMaterial:Cs,PointsMaterial:Qh,MeshPhysicalMaterial:kr,MeshStandardMaterial:df,MeshPhongMaterial:eN,MeshToonMaterial:tN,MeshNormalMaterial:nN,MeshLambertMaterial:iN,MeshDepthMaterial:hw,MeshDistanceMaterial:fw,MeshBasicMaterial:rr,MeshMatcapMaterial:rN,LineDashedMaterial:sN,LineBasicMaterial:Ai,Material:On};return new t[e]}}class ea{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class mN extends yt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class gN extends _i{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ni(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(g,x){if(t[x]!==void 0)return t[x];const A=g.interleavedBuffers[x],v=s(g,A.buffer),S=Hc(A.type,v),_=new Yh(S,A.stride);return _.uuid=A.uuid,t[x]=_,_}function s(g,x){if(i[x]!==void 0)return i[x];const A=g.arrayBuffers[x],v=new Uint32Array(A).buffer;return i[x]=v,v}const o=e.isInstancedBufferGeometry?new mN:new yt,a=e.data.index;if(a!==void 0){const g=Hc(a.type,a.array);o.setIndex(new Dt(g,1))}const l=e.data.attributes;for(const g in l){const x=l[g];let w;if(x.isInterleavedBufferAttribute){const A=r(e.data,x.data);w=new ca(A,x.itemSize,x.offset,x.normalized)}else{const A=Hc(x.type,x.array),v=x.isInstancedBufferAttribute?Ml:Dt;w=new v(A,x.itemSize,x.normalized)}x.name!==void 0&&(w.name=x.name),x.usage!==void 0&&w.setUsage(x.usage),x.updateRange!==void 0&&(w.updateRange.offset=x.updateRange.offset,w.updateRange.count=x.updateRange.count),o.setAttribute(g,w)}const c=e.data.morphAttributes;if(c)for(const g in c){const x=c[g],w=[];for(let A=0,v=x.length;A<v;A++){const S=x[A];let _;if(S.isInterleavedBufferAttribute){const b=r(e.data,S.data);_=new ca(b,S.itemSize,S.offset,S.normalized)}else{const b=Hc(S.type,S.array);_=new Dt(b,S.itemSize,S.normalized)}S.name!==void 0&&(_.name=S.name),w.push(_)}o.morphAttributes[g]=w}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let g=0,x=f.length;g!==x;++g){const w=f[g];o.addGroup(w.start,w.count,w.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const g=new k;p.center!==void 0&&g.fromArray(p.center),o.boundingSphere=new Ir(g,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class $9 extends _i{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?ea.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ni(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){r!==void 0&&r(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?ea.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Ni(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),t!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new ml().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new qh().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new gN;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in _E?a=_E[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new C0;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Au.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(d)}else return l.data?{data:Hc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Lw(t);s=new Ih(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const f=e[c],p=f.url;if(Array.isArray(p)){const g=[];for(let x=0,w=p.length;x<w;x++){const A=p[x],v=a(A);v!==null&&(v instanceof HTMLImageElement?g.push(v):g.push(new su(v.data,v.width,v.height)))}r[f.uuid]=new rl(g)}else{const g=a(f.url);r[f.uuid]=new rl(g)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Hc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Ih(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let f=0,p=c.length;f<p;f++){const g=c[f],x=await s(g);x!==null&&(x instanceof HTMLImageElement?d.push(x):d.push(new su(x.data,x.width,x.height)))}i[l.uuid]=new rl(d)}else{const d=await s(l.url);i[l.uuid]=new rl(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let d;Array.isArray(c)?(d=new Kh,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new su:d=new an,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,Z9)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],bE),d.wrapT=i(a.wrap[1],bE)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,EE)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,EE)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const g=[];for(let x=0,w=p.length;x<w;x++){const A=p[x];i[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),g.push(i[A])}return g}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,f;switch(e.type){case"Scene":o=new Dg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Fe(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new _0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new A0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new on(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Zr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new hN(e.color,e.intensity);break;case"DirectionalLight":o=new Iw(e.color,e.intensity);break;case"PointLight":o=new Dw(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new fN(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Bw(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new dN(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new E0().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),f=l(e.material),o=new gw(d,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),f=l(e.material),o=new Qn(d,f);break;case"InstancedMesh":d=a(e.geometry),f=l(e.material);const p=e.count,g=e.instanceMatrix,x=e.instanceColor;o=new vw(d,f,p),o.instanceMatrix=new Ml(new Float32Array(g.array),16),x!==void 0&&(o.instanceColor=new Ml(new Float32Array(x.array),x.itemSize));break;case"LOD":o=new zL;break;case"Line":o=new oo(a(e.geometry),l(e.material));break;case"LineLoop":o=new xw(a(e.geometry),l(e.material));break;case"LineSegments":o=new is(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new yw(a(e.geometry),l(e.material));break;case"Sprite":o=new jL(l(e.material));break;case"Group":o=new Ys;break;case"Bone":o=new w0;break;default:o=new Bt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let g=0;g<p.length;g++)o.add(this.parseObject(p[g],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let g=0;g<p.length;g++){const x=p[g];o.animations.push(s[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let g=0;g<p.length;g++){const x=p[g],w=o.getObjectByProperty("uuid",x.object);w!==void 0&&o.addLevel(w,x.distance,x.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const Z9={UVMapping:f0,CubeReflectionMapping:oa,CubeRefractionMapping:aa,EquirectangularReflectionMapping:Mh,EquirectangularRefractionMapping:bh,CubeUVReflectionMapping:Lu},bE={RepeatWrapping:la,ClampToEdgeWrapping:ii,MirroredRepeatWrapping:mu},EE={NearestFilter:Mn,NearestMipmapNearestFilter:Eh,NearestMipmapLinearFilter:iu,LinearFilter:Vt,LinearMipmapNearestFilter:p0,LinearMipmapLinearFilter:Es};class vN extends _i{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Tl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Tl.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let mm;class kw{static getContext(){return mm===void 0&&(mm=new(window.AudioContext||window.webkitAudioContext)),mm}static setContext(e){mm=e}}class ez extends _i{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ni(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);kw.getContext().decodeAudioData(c,function(f){t(f)},a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}class tz extends E0{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Fe().set(e),s=new Fe().set(t),o=new k(r.r,r.g,r.b),a=new k(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class nz extends E0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Fe().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const CE=new lt,TE=new lt,Da=new lt;class iz{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new on,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new on,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Da.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(fl*t.fov*.5)/t.zoom;let a,l;TE.elements[12]=-r,CE.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,Da.elements[0]=2*t.near/(l-a),Da.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Da),a=-o*t.aspect-s,l=o*t.aspect-s,Da.elements[0]=2*t.near/(l-a),Da.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Da)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(TE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(CE)}}class Fw{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=RE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=RE();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function RE(){return(typeof performance>"u"?Date:performance).now()}const Ia=new k,PE=new Zn,rz=new k,ka=new k;class sz extends Bt{constructor(){super(),this.type="AudioListener",this.context=kw.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Fw}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ia,PE,rz),ka.set(0,0,-1).applyQuaternion(PE),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ia.x,r),t.positionY.linearRampToValueAtTime(Ia.y,r),t.positionZ.linearRampToValueAtTime(Ia.z,r),t.forwardX.linearRampToValueAtTime(ka.x,r),t.forwardY.linearRampToValueAtTime(ka.y,r),t.forwardZ.linearRampToValueAtTime(ka.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Ia.x,Ia.y,Ia.z),t.setOrientation(ka.x,ka.y,ka.z,i.x,i.y,i.z)}}class xN extends Bt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Fa=new k,LE=new Zn,oz=new k,Oa=new k;class az extends xN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Fa,LE,oz),Oa.set(0,0,1).applyQuaternion(LE);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Fa.x,i),t.positionY.linearRampToValueAtTime(Fa.y,i),t.positionZ.linearRampToValueAtTime(Fa.z,i),t.orientationX.linearRampToValueAtTime(Oa.x,i),t.orientationY.linearRampToValueAtTime(Oa.y,i),t.orientationZ.linearRampToValueAtTime(Oa.z,i)}else t.setPosition(Fa.x,Fa.y,Fa.z),t.setOrientation(Oa.x,Oa.y,Oa.z)}}class lz{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class yN{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Zn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Zn.multiplyQuaternionsFlat(e,o,e,t,e,i),Zn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const Ow="\\[\\]\\.:\\/",cz=new RegExp("["+Ow+"]","g"),Uw="[^"+Ow+"]",uz="[^"+Ow.replace("\\.","")+"]",dz=/((?:WC+[\/:])*)/.source.replace("WC",Uw),hz=/(WCOD+)?/.source.replace("WCOD",uz),fz=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Uw),pz=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Uw),mz=new RegExp("^"+dz+hz+fz+pz+"$"),gz=["material","materials","bones","map"];class vz{constructor(e,t,i){const r=i||Nt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Nt{constructor(e,t,i){this.path=t,this.parsedPath=i||Nt.parseTrackName(t),this.node=Nt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Nt.Composite(e,t,i):new Nt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(cz,"")}static parseTrackName(e){const t=mz.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);gz.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Nt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nt.Composite=vz;Nt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nt.prototype.GetterByBindingType=[Nt.prototype._getValue_direct,Nt.prototype._getValue_array,Nt.prototype._getValue_arrayElement,Nt.prototype._getValue_toArray];Nt.prototype.SetterByBindingTypeAndVersioning=[[Nt.prototype._setValue_direct,Nt.prototype._setValue_direct_setNeedsUpdate,Nt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_array,Nt.prototype._setValue_array_setNeedsUpdate,Nt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_arrayElement,Nt.prototype._setValue_arrayElement_setNeedsUpdate,Nt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_fromArray,Nt.prototype._setValue_fromArray_setNeedsUpdate,Nt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class xz{constructor(){this.isAnimationObjectGroup=!0,this.uuid=or(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,f=arguments.length;d!==f;++d){const p=arguments[d],g=p.uuid;let x=t[g];if(x===void 0){x=l++,t[g]=x,e.push(p);for(let w=0,A=o;w!==A;++w)s[w].push(new Nt(p,i[w],r[w]))}else if(x<c){a=e[x];const w=--c,A=e[w];t[A.uuid]=x,e[x]=A,t[g]=w,e[w]=p;for(let v=0,S=o;v!==S;++v){const _=s[v],b=_[w];let C=_[x];_[x]=b,C===void 0&&(C=new Nt(p,i[v],r[v])),_[w]=C}}else e[x]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=t[c];if(d!==void 0&&d>=s){const f=s++,p=e[f];t[p.uuid]=d,e[d]=p,t[c]=f,e[f]=l;for(let g=0,x=r;g!==x;++g){const w=i[g],A=w[f],v=w[d];w[d]=A,w[f]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,f=t[d];if(f!==void 0)if(delete t[d],f<s){const p=--s,g=e[p],x=--o,w=e[x];t[g.uuid]=f,e[f]=g,t[w.uuid]=p,e[p]=w,e.pop();for(let A=0,v=r;A!==v;++A){const S=i[A],_=S[p],b=S[x];S[f]=_,S[p]=b,S.pop()}}else{const p=--o,g=e[p];p>0&&(t[g.uuid]=f),e[f]=g,e.pop();for(let x=0,w=r;x!==w;++x){const A=i[x];A[f]=A[p],A.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,f=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(f);for(let p=d,g=l.length;p!==g;++p){const x=l[p];f[p]=new Nt(x,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class AN{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:nl,endingEnd:nl};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=cL,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case ew:for(let d=0,f=l.length;d!==f;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case g0:default:for(let d=0,f=l.length;d!==f;++d)l[d].evaluate(o),c[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===uL;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===lL){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=il,r.endingEnd=il):(e?r.endingStart=this.zeroSlopeAtStart?il:nl:r.endingStart=Ch,t?r.endingEnd=this.zeroSlopeAtEnd?il:nl:r.endingEnd=Ch)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const yz=new Float32Array(1);class Az extends ho{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let f=0;f!==s;++f){const p=r[f],g=p.name;let x=d[g];if(x!==void 0)++x.referenceCount,o[f]=x;else{if(x=o[f],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,g));continue}const w=t&&t._propertyBindings[f].binding.parsedPath;x=new yN(Nt.create(i,g,w),p.ValueTypeName,p.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,g),o[f]=x}a[f].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new Rw(new Float32Array(2),new Float32Array(2),1,yz),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Au.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=g0),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===i)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new AN(this,o,t,i);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Au.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=d,t[d]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class jw{constructor(e){this.value=e}clone(){return new jw(this.value.clone===void 0?this.value:this.value.clone())}}let _z=0;class wz extends ho{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_z++}),this.name="",this.usage=Th,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class Sz extends Yh{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Mz{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class _N{constructor(e,t,i=0,r=1/0){this.ray=new Ll(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new pl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return vA(e,this,i,t),i.sort(NE),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)vA(e[r],this,i,t);return i.sort(NE),i}}function NE(n,e){return n.distance-e.distance}function vA(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)vA(r[s],e,t,!0)}}class xA{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(bn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class bz{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const BE=new ve;class Ez{constructor(e=new ve(1/0,1/0),t=new ve(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=BE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,BE).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const DE=new k,gm=new k;class Cz{constructor(e=new k,t=new k){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){DE.subVectors(e,this.start),gm.subVectors(this.end,this.start);const i=gm.dot(gm);let s=gm.dot(DE)/i;return t&&(s=bn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const IE=new k;class Tz extends Bt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new yt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new qe(r,3));const s=new Ai({fog:!1,toneMapped:!1});this.cone=new is(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),IE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(IE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ro=new k,vm=new lt,Qx=new lt;class Rz extends is{constructor(e){const t=wN(e),i=new yt,r=[],s=[],o=new Fe(0,0,1),a=new Fe(0,1,0);for(let c=0;c<t.length;c++){const d=t[c];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new qe(r,3)),i.setAttribute("color",new qe(s,3));const l=new Ai({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Qx.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(vm.multiplyMatrices(Qx,a.matrixWorld),Ro.setFromMatrixPosition(vm),r.setXYZ(o,Ro.x,Ro.y,Ro.z),vm.multiplyMatrices(Qx,a.parent.matrixWorld),Ro.setFromMatrixPosition(vm),r.setXYZ(o+1,Ro.x,Ro.y,Ro.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function wN(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,wN(n.children[t]));return e}class Pz extends Qn{constructor(e,t,i){const r=new ku(t,4,2),s=new rr({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Lz=new k,kE=new Fe,FE=new Fe;class Nz extends Bt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Iu(t);r.rotateY(Math.PI*.5),this.material=new rr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Dt(o,3)),this.add(new Qn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");kE.copy(this.light.color),FE.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?kE:FE;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Lz.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Bz extends is{constructor(e=10,t=10,i=4473924,r=8947848){i=new Fe(i),r=new Fe(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,g=0,x=-a;p<=t;p++,x+=o){l.push(-a,0,x,a,0,x),l.push(x,0,-a,x,0,a);const w=p===s?i:r;w.toArray(c,g),g+=3,w.toArray(c,g),g+=3,w.toArray(c,g),g+=3,w.toArray(c,g),g+=3}const d=new yt;d.setAttribute("position",new qe(l,3)),d.setAttribute("color",new qe(c,3));const f=new Ai({vertexColors:!0,toneMapped:!1});super(d,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Dz extends is{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Fe(s),o=new Fe(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const p=f/t*(Math.PI*2),g=Math.sin(p)*e,x=Math.cos(p)*e;a.push(0,0,0),a.push(g,0,x);const w=f&1?s:o;l.push(w.r,w.g,w.b),l.push(w.r,w.g,w.b)}for(let f=0;f<i;f++){const p=f&1?s:o,g=e-e/i*f;for(let x=0;x<r;x++){let w=x/r*(Math.PI*2),A=Math.sin(w)*g,v=Math.cos(w)*g;a.push(A,0,v),l.push(p.r,p.g,p.b),w=(x+1)/r*(Math.PI*2),A=Math.sin(w)*g,v=Math.cos(w)*g,a.push(A,0,v),l.push(p.r,p.g,p.b)}}const c=new yt;c.setAttribute("position",new qe(a,3)),c.setAttribute("color",new qe(l,3));const d=new Ai({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const OE=new k,xm=new k,UE=new k;class Iz extends Bt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new yt;r.setAttribute("position",new qe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ai({fog:!1,toneMapped:!1});this.lightPlane=new oo(r,s),this.add(this.lightPlane),r=new yt,r.setAttribute("position",new qe([0,0,0,0,0,1],3)),this.targetLine=new oo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),OE.setFromMatrixPosition(this.light.matrixWorld),xm.setFromMatrixPosition(this.light.target.matrixWorld),UE.subVectors(xm,OE),this.lightPlane.lookAt(xm),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(xm),this.targetLine.scale.z=UE.length()}}const ym=new k,wn=new Jh;class kz extends is{constructor(e){const t=new yt,i=new Ai({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(x,w){l(x),l(w)}function l(x){r.push(0,0,0),s.push(0,0,0),o[x]===void 0&&(o[x]=[]),o[x].push(r.length/3-1)}t.setAttribute("position",new qe(r,3)),t.setAttribute("color",new qe(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Fe(16755200),d=new Fe(16711680),f=new Fe(43775),p=new Fe(16777215),g=new Fe(3355443);this.setColors(c,d,f,p,g)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;wn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Rn("c",t,e,wn,0,0,-1),Rn("t",t,e,wn,0,0,1),Rn("n1",t,e,wn,-i,-r,-1),Rn("n2",t,e,wn,i,-r,-1),Rn("n3",t,e,wn,-i,r,-1),Rn("n4",t,e,wn,i,r,-1),Rn("f1",t,e,wn,-i,-r,1),Rn("f2",t,e,wn,i,-r,1),Rn("f3",t,e,wn,-i,r,1),Rn("f4",t,e,wn,i,r,1),Rn("u1",t,e,wn,i*.7,r*1.1,-1),Rn("u2",t,e,wn,-i*.7,r*1.1,-1),Rn("u3",t,e,wn,0,r*2,-1),Rn("cf1",t,e,wn,-i,0,1),Rn("cf2",t,e,wn,i,0,1),Rn("cf3",t,e,wn,0,-r,1),Rn("cf4",t,e,wn,0,r,1),Rn("cn1",t,e,wn,-i,0,-1),Rn("cn2",t,e,wn,i,0,-1),Rn("cn3",t,e,wn,0,-r,-1),Rn("cn4",t,e,wn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Rn(n,e,t,i,r,s,o){ym.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],ym.x,ym.y,ym.z)}}const Am=new ns;class Fz extends is{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new yt;s.setIndex(new Dt(i,1)),s.setAttribute("position",new Dt(r,3)),super(s,new Ai({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Am.setFromObject(this.object),Am.isEmpty())return;const t=Am.min,i=Am.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Oz extends is{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new yt;s.setIndex(new Dt(i,1)),s.setAttribute("position",new qe(r,3)),super(s,new Ai({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Uz extends oo{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new yt;o.setAttribute("position",new qe(s,3)),o.computeBoundingSphere(),super(o,new Ai({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new yt;l.setAttribute("position",new qe(a,3)),l.computeBoundingSphere(),this.add(new Qn(l,new rr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const jE=new k;let _m,$x;class jz extends Bt{constructor(e=new k(0,0,1),t=new k(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",_m===void 0&&(_m=new yt,_m.setAttribute("position",new qe([0,0,0,0,1,0],3)),$x=new Nl(0,.5,1,5,1),$x.translate(0,-.5,0)),this.position.copy(t),this.line=new oo(_m,new Ai({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Qn($x,new rr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{jE.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(jE,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class zz extends is{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new yt;r.setAttribute("position",new qe(t,3)),r.setAttribute("color",new qe(i,3));const s=new Ai({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Fe,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Hz{constructor(){this.type="ShapePath",this.color=new Fe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Lh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(v){const S=[];for(let _=0,b=v.length;_<b;_++){const C=v[_],T=new ml;T.curves=C.curves,S.push(T)}return S}function i(v,S){const _=S.length;let b=!1;for(let C=_-1,T=0;T<_;C=T++){let N=S[C],B=S[T],P=B.x-N.x,L=B.y-N.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(N=S[T],P=-P,B=S[C],L=-L),v.y<N.y||v.y>B.y)continue;if(v.y===N.y){if(v.x===N.x)return!0}else{const z=L*(v.x-N.x)-P*(v.y-N.y);if(z===0)return!0;if(z<0)continue;b=!b}}else{if(v.y!==N.y)continue;if(B.x<=v.x&&v.x<=N.x||N.x<=v.x&&v.x<=B.x)return!0}}return b}const r=Ss.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new ml,l.curves=a.curves,c.push(l),c;let d=!r(s[0].getPoints());d=e?!d:d;const f=[],p=[];let g=[],x=0,w;p[x]=void 0,g[x]=[];for(let v=0,S=s.length;v<S;v++)a=s[v],w=a.getPoints(),o=r(w),o=e?!o:o,o?(!d&&p[x]&&x++,p[x]={s:new ml,p:w},p[x].s.curves=a.curves,d&&x++,g[x]=[]):g[x].push({h:a,p:w[0]});if(!p[0])return t(s);if(p.length>1){let v=!1,S=0;for(let _=0,b=p.length;_<b;_++)f[_]=[];for(let _=0,b=p.length;_<b;_++){const C=g[_];for(let T=0;T<C.length;T++){const N=C[T];let B=!0;for(let P=0;P<p.length;P++)i(N.p,p[P].p)&&(_!==P&&S++,B?(B=!1,f[P].push(N)):v=!0);B&&f[_].push(N)}}S>0&&v===!1&&(g=f)}let A;for(let v=0,S=p.length;v<S;v++){l=p[v].s,c.push(l),A=g[v];for(let _=0,b=A.length;_<b;_++)l.holes.push(A[_].h)}return c}}class Gz extends xa{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class Vz extends $h{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class Wz extends Zh{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class Xz extends ef{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class Jz extends Nl{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class Kz extends tf{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class Yz extends nf{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class qz extends rf{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class Qz extends Du{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class $z extends Iu{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class Zz extends Nu{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class eH extends fo{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class tH extends sf{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class nH extends of{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class iH extends ku{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class rH extends af{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class sH extends lf{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class oH extends cf{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class aH extends uf{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Pu}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Pu);const lH=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:J_,AddEquation:Qa,AddOperation:KP,AdditiveAnimationBlendMode:ew,AdditiveBlending:I1,AlphaFormat:tL,AlwaysCompare:SL,AlwaysDepth:zP,AlwaysStencilFunc:mL,AmbientLight:hN,AmbientLightProbe:nz,AnimationAction:AN,AnimationClip:Au,AnimationLoader:W9,AnimationMixer:Az,AnimationObjectGroup:xz,AnimationUtils:z9,ArcCurve:HL,ArrayCamera:kL,ArrowHelper:jz,Audio:xN,AudioAnalyser:lz,AudioContext:kw,AudioListener:sz,AudioLoader:ez,AxesHelper:zz,BackSide:Li,BasicDepthPacking:hL,BasicShadowMap:CP,Bone:w0,BooleanKeyframeTrack:Bl,Box2:Ez,Box3:ns,Box3Helper:Oz,BoxBufferGeometry:Gz,BoxGeometry:xa,BoxHelper:Fz,BufferAttribute:Dt,BufferGeometry:yt,BufferGeometryLoader:gN,ByteType:ZP,Cache:Tl,Camera:Jh,CameraHelper:kz,CanvasTexture:d9,CapsuleBufferGeometry:Vz,CapsuleGeometry:$h,CatmullRomCurve3:GL,CineonToneMapping:QP,CircleBufferGeometry:Wz,CircleGeometry:Zh,ClampToEdgeWrapping:ii,Clock:Fw,Color:Fe,ColorKeyframeTrack:Pw,ColorManagement:wr,CompressedArrayTexture:u9,CompressedTexture:Aw,CompressedTextureLoader:X9,ConeBufferGeometry:Xz,ConeGeometry:ef,CubeCamera:cw,CubeReflectionMapping:oa,CubeRefractionMapping:aa,CubeTexture:Kh,CubeTextureLoader:J9,CubeUVReflectionMapping:Lu,CubicBezierCurve:ww,CubicBezierCurve3:VL,CubicInterpolant:aN,CullFaceBack:D1,CullFaceFront:EP,CullFaceFrontBack:hO,CullFaceNone:bP,Curve:rs,CurvePath:XL,CustomBlending:TP,CustomToneMapping:$P,CylinderBufferGeometry:Jz,CylinderGeometry:Nl,Cylindrical:bz,Data3DTexture:ow,DataArrayTexture:v0,DataTexture:su,DataTextureLoader:K9,DataUtils:AU,DecrementStencilOp:_O,DecrementWrapStencilOp:SO,DefaultLoadingManager:Wc,DepthFormat:Qo,DepthStencilFormat:wl,DepthTexture:FL,DirectionalLight:Iw,DirectionalLightHelper:Iz,DiscreteInterpolant:lN,DisplayP3ColorSpace:iw,DodecahedronBufferGeometry:Kz,DodecahedronGeometry:tf,DoubleSide:Rr,DstAlphaFactor:IP,DstColorFactor:FP,DynamicCopyUsage:FO,DynamicDrawUsage:hl,DynamicReadUsage:DO,EdgesGeometry:JL,EllipseCurve:S0,EqualCompare:xL,EqualDepth:GP,EqualStencilFunc:CO,EquirectangularReflectionMapping:Mh,EquirectangularRefractionMapping:bh,Euler:Xh,EventDispatcher:ho,ExtrudeBufferGeometry:Yz,ExtrudeGeometry:nf,FileLoader:Ni,Float16BufferAttribute:EU,Float32BufferAttribute:qe,Float64BufferAttribute:CU,FloatType:vs,Fog:_0,FogExp2:A0,FramebufferTexture:c9,FrontSide:bs,Frustum:x0,GLBufferAttribute:Mz,GLSL1:UO,GLSL3:cA,GreaterCompare:AL,GreaterDepth:WP,GreaterEqualCompare:wL,GreaterEqualDepth:VP,GreaterEqualStencilFunc:LO,GreaterStencilFunc:RO,GridHelper:Bz,Group:Ys,HalfFloatType:gu,HemisphereLight:dN,HemisphereLightHelper:Nz,HemisphereLightProbe:tz,IcosahedronBufferGeometry:qz,IcosahedronGeometry:rf,ImageBitmapLoader:vN,ImageLoader:Ih,ImageUtils:sw,IncrementStencilOp:AO,IncrementWrapStencilOp:wO,InstancedBufferAttribute:Ml,InstancedBufferGeometry:mN,InstancedInterleavedBuffer:Sz,InstancedMesh:vw,Int16BufferAttribute:MU,Int32BufferAttribute:bU,Int8BufferAttribute:_U,IntType:K_,InterleavedBuffer:Yh,InterleavedBufferAttribute:ca,Interpolant:Fu,InterpolateDiscrete:vu,InterpolateLinear:Sl,InterpolateSmooth:$m,InvertStencilOp:MO,KeepStencilOp:Zm,KeyframeTrack:ss,LOD:zL,LatheBufferGeometry:Qz,LatheGeometry:Du,Layers:pl,LessCompare:vL,LessDepth:HP,LessEqualCompare:yL,LessEqualDepth:Pg,LessEqualStencilFunc:TO,LessStencilFunc:EO,Light:ya,LightProbe:E0,Line:oo,Line3:Cz,LineBasicMaterial:Ai,LineCurve:M0,LineCurve3:WL,LineDashedMaterial:sN,LineLoop:xw,LineSegments:is,LinearEncoding:nw,LinearFilter:Vt,LinearInterpolant:Rw,LinearMipMapLinearFilter:vO,LinearMipMapNearestFilter:gO,LinearMipmapLinearFilter:Es,LinearMipmapNearestFilter:p0,LinearSRGBColorSpace:Dr,LinearToneMapping:YP,Loader:_i,LoaderUtils:ea,LoadingManager:Lw,LoopOnce:lL,LoopPingPong:uL,LoopRepeat:cL,LuminanceAlphaFormat:iL,LuminanceFormat:nL,MOUSE:Wa,Material:On,MaterialLoader:C0,MathUtils:bL,Matrix3:St,Matrix4:lt,MaxEquation:U1,Mesh:Qn,MeshBasicMaterial:rr,MeshDepthMaterial:hw,MeshDistanceMaterial:fw,MeshLambertMaterial:iN,MeshMatcapMaterial:rN,MeshNormalMaterial:nN,MeshPhongMaterial:eN,MeshPhysicalMaterial:kr,MeshStandardMaterial:df,MeshToonMaterial:tN,MinEquation:O1,MirroredRepeatWrapping:mu,MixOperation:JP,MultiplyBlending:F1,MultiplyOperation:Wh,NearestFilter:Mn,NearestMipMapLinearFilter:mO,NearestMipMapNearestFilter:pO,NearestMipmapLinearFilter:iu,NearestMipmapNearestFilter:Eh,NeverCompare:gL,NeverDepth:jP,NeverStencilFunc:bO,NoBlending:$s,NoColorSpace:Zo,NoToneMapping:$r,NormalAnimationBlendMode:g0,NormalBlending:dl,NotEqualCompare:_L,NotEqualDepth:XP,NotEqualStencilFunc:PO,NumberKeyframeTrack:El,Object3D:Bt,ObjectLoader:$9,ObjectSpaceNormalMap:pL,OctahedronBufferGeometry:$z,OctahedronGeometry:Iu,OneFactor:NP,OneMinusDstAlphaFactor:kP,OneMinusDstColorFactor:OP,OneMinusSrcAlphaFactor:X_,OneMinusSrcColorFactor:DP,OrthographicCamera:Zr,PCFShadowMap:h0,PCFSoftShadowMap:Kd,PMREMGenerator:dA,Path:Lh,PerspectiveCamera:on,Plane:Vs,PlaneBufferGeometry:Zz,PlaneGeometry:Nu,PlaneHelper:Uz,PointLight:Dw,PointLightHelper:Pz,Points:yw,PointsMaterial:Qh,PolarGridHelper:Dz,PolyhedronBufferGeometry:eH,PolyhedronGeometry:fo,PositionalAudio:az,PropertyBinding:Nt,PropertyMixer:yN,QuadraticBezierCurve:Sw,QuadraticBezierCurve3:Mw,Quaternion:Zn,QuaternionKeyframeTrack:ua,QuaternionLinearInterpolant:cN,RED_GREEN_RGTC2_Format:aA,RED_RGTC1_Format:aL,REVISION:Pu,RGBADepthPacking:fL,RGBAFormat:zi,RGBAIntegerFormat:Z_,RGBA_ASTC_10x10_Format:iA,RGBA_ASTC_10x5_Format:eA,RGBA_ASTC_10x6_Format:tA,RGBA_ASTC_10x8_Format:nA,RGBA_ASTC_12x10_Format:rA,RGBA_ASTC_12x12_Format:sA,RGBA_ASTC_4x4_Format:X1,RGBA_ASTC_5x4_Format:J1,RGBA_ASTC_5x5_Format:K1,RGBA_ASTC_6x5_Format:Y1,RGBA_ASTC_6x6_Format:q1,RGBA_ASTC_8x5_Format:Q1,RGBA_ASTC_8x6_Format:$1,RGBA_ASTC_8x8_Format:Z1,RGBA_BPTC_Format:Qm,RGBA_ETC2_EAC_Format:W1,RGBA_PVRTC_2BPPV1_Format:G1,RGBA_PVRTC_4BPPV1_Format:H1,RGBA_S3TC_DXT1_Format:Km,RGBA_S3TC_DXT3_Format:Ym,RGBA_S3TC_DXT5_Format:qm,RGB_ETC1_Format:oL,RGB_ETC2_Format:V1,RGB_PVRTC_2BPPV1_Format:z1,RGB_PVRTC_4BPPV1_Format:j1,RGB_S3TC_DXT1_Format:Jm,RGFormat:sL,RGIntegerFormat:$_,RawShaderMaterial:ZL,Ray:Ll,Raycaster:_N,RectAreaLight:fN,RedFormat:rL,RedIntegerFormat:Q_,ReinhardToneMapping:qP,RepeatWrapping:la,ReplaceStencilOp:yO,ReverseSubtractEquation:PP,RingBufferGeometry:tH,RingGeometry:sf,SIGNED_RED_GREEN_RGTC2_Format:lA,SIGNED_RED_RGTC1_Format:oA,SRGBColorSpace:mt,Scene:Dg,ShaderChunk:wt,ShaderLib:Yr,ShaderMaterial:Cs,ShadowMaterial:$L,Shape:ml,ShapeBufferGeometry:nH,ShapeGeometry:of,ShapePath:Hz,ShapeUtils:Ss,ShortType:eL,Skeleton:qh,SkeletonHelper:Rz,SkinnedMesh:gw,Source:rl,Sphere:Ir,SphereBufferGeometry:iH,SphereGeometry:ku,Spherical:xA,SphericalHarmonics3:pN,SplineCurve:bw,SpotLight:Bw,SpotLightHelper:Tz,Sprite:jL,SpriteMaterial:mw,SrcAlphaFactor:W_,SrcAlphaSaturateFactor:UP,SrcColorFactor:BP,StaticCopyUsage:kO,StaticDrawUsage:Th,StaticReadUsage:BO,StereoCamera:iz,StreamCopyUsage:OO,StreamDrawUsage:NO,StreamReadUsage:IO,StringKeyframeTrack:Dl,SubtractEquation:RP,SubtractiveBlending:k1,TOUCH:Xa,TangentSpaceNormalMap:va,TetrahedronBufferGeometry:rH,TetrahedronGeometry:af,Texture:an,TextureLoader:uN,TorusBufferGeometry:sH,TorusGeometry:lf,TorusKnotBufferGeometry:oH,TorusKnotGeometry:cf,Triangle:ji,TriangleFanDrawMode:Lg,TriangleStripDrawMode:tw,TrianglesDrawMode:dL,TubeBufferGeometry:aH,TubeGeometry:uf,TwoPassDoubleSide:fO,UVMapping:f0,Uint16BufferAttribute:aw,Uint32BufferAttribute:lw,Uint8BufferAttribute:wU,Uint8ClampedBufferAttribute:SU,Uniform:jw,UniformsGroup:wz,UniformsLib:ke,UniformsUtils:RL,UnsignedByteType:ws,UnsignedInt248Type:qo,UnsignedIntType:Ks,UnsignedShort4444Type:Y_,UnsignedShort5551Type:q_,UnsignedShortType:m0,VSMShadowMap:Xr,Vector2:ve,Vector3:k,Vector4:Wt,VectorKeyframeTrack:Cl,VideoTexture:l9,WebGL1Renderer:OL,WebGL3DRenderTarget:cU,WebGLArrayRenderTarget:lU,WebGLCoordinateSystem:xs,WebGLCubeRenderTarget:uw,WebGLMultipleRenderTargets:uU,WebGLRenderTarget:ts,WebGLRenderer:pw,WebGLUtils:IL,WebGPUCoordinateSystem:Rh,WireframeGeometry:QL,WrapAroundEnding:Ch,ZeroCurvatureEnding:nl,ZeroFactor:LP,ZeroSlopeEnding:il,ZeroStencilOp:xO,_SRGBAFormat:Ng,sRGBEncoding:$o},Symbol.toStringTag,{value:"Module"}));var SN={exports:{}},Il={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Il.ConcurrentRoot=1;Il.ContinuousEventPriority=4;Il.DefaultEventPriority=16;Il.DiscreteEventPriority=1;Il.IdleEventPriority=536870912;Il.LegacyRoot=0;SN.exports=Il;var Xc=SN.exports;function cH(n){let e;const t=new Set,i=(c,d)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=d?f:Object.assign({},e,f),t.forEach(g=>g(e,p))}},r=()=>e,s=(c,d=r,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function g(){const x=d(e);if(!f(p,x)){const w=p;c(p=x,w)}}return t.add(g),()=>t.delete(g)},l={setState:i,getState:r,subscribe:(c,d,f)=>d||f?s(c,d,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const uH=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),zE=uH?D.useEffect:D.useLayoutEffect;function dH(n){const e=typeof n=="function"?cH(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=D.useReducer(A=>A+1,0),o=e.getState(),a=D.useRef(o),l=D.useRef(i),c=D.useRef(r),d=D.useRef(!1),f=D.useRef();f.current===void 0&&(f.current=i(o));let p,g=!1;(a.current!==o||l.current!==i||c.current!==r||d.current)&&(p=i(o),g=!r(f.current,p)),zE(()=>{g&&(f.current=p),a.current=o,l.current=i,c.current=r,d.current=!1});const x=D.useRef(o);zE(()=>{const A=()=>{try{const S=e.getState(),_=l.current(S);c.current(f.current,_)||(a.current=S,f.current=_,s())}catch{d.current=!0,s()}},v=e.subscribe(A);return e.getState()!==x.current&&A(),v},[]);const w=g?p:f.current;return D.useDebugValue(w),w};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const hH=n=>typeof n=="object"&&typeof n.then=="function",ol=[];function MN(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function bN(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of ol)if(MN(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=ol.indexOf(r);s!==-1&&ol.splice(s,1)},promise:(hH(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(ol.push(r),!t)throw r.promise}const fH=(n,e,t)=>bN(n,e,!1,t),pH=(n,e,t)=>void bN(n,e,!0,t),mH=n=>{if(n===void 0||n.length===0)ol.splice(0,ol.length);else{const e=ol.find(t=>MN(n,t.keys,t.equal));e&&e.remove()}};var EN={exports:{}},CN={exports:{}},TN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,J){var V=O.length;O.push(J);e:for(;0<V;){var ne=V-1>>>1,j=O[ne];if(0<r(j,J))O[ne]=J,O[V]=j,V=ne;else break e}}function t(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var J=O[0],V=O.pop();if(V!==J){O[0]=V;e:for(var ne=0,j=O.length,q=j>>>1;ne<q;){var Y=2*(ne+1)-1,ue=O[Y],ye=Y+1,we=O[ye];if(0>r(ue,V))ye<j&&0>r(we,ue)?(O[ne]=we,O[ye]=V,ne=ye):(O[ne]=ue,O[Y]=V,ne=Y);else if(ye<j&&0>r(we,V))O[ne]=we,O[ye]=V,ne=ye;else break e}}return J}function r(O,J){var V=O.sortIndex-J.sortIndex;return V!==0?V:O.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,x=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var J=t(c);J!==null;){if(J.callback===null)i(c);else if(J.startTime<=O)i(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=t(c)}}function b(O){if(w=!1,_(O),!x)if(t(l)!==null)x=!0,se(C);else{var J=t(c);J!==null&&ie(b,J.startTime-O)}}function C(O,J){x=!1,w&&(w=!1,v(B),B=-1),g=!0;var V=p;try{for(_(J),f=t(l);f!==null&&(!(f.expirationTime>J)||O&&!z());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,p=f.priorityLevel;var j=ne(f.expirationTime<=J);J=n.unstable_now(),typeof j=="function"?f.callback=j:f===t(l)&&i(l),_(J)}else i(l);f=t(l)}if(f!==null)var q=!0;else{var Y=t(c);Y!==null&&ie(b,Y.startTime-J),q=!1}return q}finally{f=null,p=V,g=!1}}var T=!1,N=null,B=-1,P=5,L=-1;function z(){return!(n.unstable_now()-L<P)}function ee(){if(N!==null){var O=n.unstable_now();L=O;var J=!0;try{J=N(!0,O)}finally{J?K():(T=!1,N=null)}}else T=!1}var K;if(typeof S=="function")K=function(){S(ee)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Z=Q.port2;Q.port1.onmessage=ee,K=function(){Z.postMessage(null)}}else K=function(){A(ee,0)};function se(O){N=O,T||(T=!0,K())}function ie(O,J){B=A(function(){O(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){x||g||(x=!0,se(C))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var V=p;p=J;try{return O()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,J){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=p;p=O;try{return J()}finally{p=V}},n.unstable_scheduleCallback=function(O,J,V){var ne=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ne+V:ne):V=ne,O){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=V+j,O={id:d++,callback:J,priorityLevel:O,startTime:V,expirationTime:j,sortIndex:-1},V>ne?(O.sortIndex=V,e(c,O),t(l)===null&&O===t(c)&&(w?(v(B),B=-1):w=!0,ie(b,V-ne))):(O.sortIndex=j,e(l,O),x||g||(x=!0,se(C))),O},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(O){var J=p;return function(){var V=p;p=J;try{return O.apply(this,arguments)}finally{p=V}}}})(TN);CN.exports=TN;var yA=CN.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gH=function(e){var t={},i=D,r=yA,s=Object.assign;function o(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),x=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),C=Symbol.iterator;function T(u){return u===null||typeof u!="object"?null:(u=C&&u[C]||u["@@iterator"],typeof u=="function"?u:null)}function N(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case d:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case A:return"Suspense";case v:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case x:return(u.displayName||"Context")+".Consumer";case g:return(u._context.displayName||"Context")+".Provider";case w:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case S:return h=u.displayName||null,h!==null?h:N(u.type)||"Memo";case _:h=u._payload,u=u._init;try{return N(u(h))}catch{}}return null}function B(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(h);case 8:return h===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function P(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,h.flags&4098&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function L(u){if(P(u)!==u)throw Error(o(188))}function z(u){var h=u.alternate;if(!h){if(h=P(u),h===null)throw Error(o(188));return h!==u?null:u}for(var y=u,M=h;;){var E=y.return;if(E===null)break;var R=E.alternate;if(R===null){if(M=E.return,M!==null){y=M;continue}break}if(E.child===R.child){for(R=E.child;R;){if(R===y)return L(E),u;if(R===M)return L(E),h;R=R.sibling}throw Error(o(188))}if(y.return!==M.return)y=E,M=R;else{for(var H=!1,$=E.child;$;){if($===y){H=!0,y=E,M=R;break}if($===M){H=!0,M=E,y=R;break}$=$.sibling}if(!H){for($=R.child;$;){if($===y){H=!0,y=R,M=E;break}if($===M){H=!0,M=R,y=E;break}$=$.sibling}if(!H)throw Error(o(189))}}if(y.alternate!==M)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?u:h}function ee(u){return u=z(u),u!==null?K(u):null}function K(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=K(u);if(h!==null)return h;u=u.sibling}return null}function Q(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var h=Q(u);if(h!==null)return h}u=u.sibling}return null}var Z=Array.isArray,se=e.getPublicInstance,ie=e.getRootHostContext,O=e.getChildHostContext,J=e.prepareForCommit,V=e.resetAfterCommit,ne=e.createInstance,j=e.appendInitialChild,q=e.finalizeInitialChildren,Y=e.prepareUpdate,ue=e.shouldSetTextContent,ye=e.createTextInstance,we=e.scheduleTimeout,Ce=e.cancelTimeout,Ee=e.noTimeout,Be=e.isPrimaryRenderer,Ae=e.supportsMutation,U=e.supportsPersistence,de=e.supportsHydration,pe=e.getInstanceFromNode,Me=e.preparePortalMount,Se=e.getCurrentEventPriority,We=e.detachDeletedInstance,Ue=e.supportsMicrotasks,Ge=e.scheduleMicrotask,et=e.supportsTestSelectors,At=e.findFiberRoot,zt=e.getBoundingRect,G=e.getTextContent,I=e.isHiddenSubtree,he=e.matchAccessibilityRole,Re=e.setFocusIfFocusable,be=e.setupIntersectionObserver,De=e.appendChild,Qe=e.appendChildToContainer,Ie=e.commitTextUpdate,me=e.commitMount,tt=e.commitUpdate,nt=e.insertBefore,it=e.insertInContainerBefore,Xe=e.removeChild,W=e.removeChildFromContainer,_e=e.resetTextContent,Oe=e.hideInstance,X=e.hideTextInstance,Te=e.unhideInstance,le=e.unhideTextInstance,Le=e.clearContainer,je=e.cloneInstance,Tt=e.createContainerChildSet,Lt=e.appendChildToContainerChildSet,kt=e.finalizeContainerChildren,oi=e.replaceContainerChildren,jt=e.cloneHiddenInstance,Un=e.cloneHiddenTextInstance,xn=e.canHydrateInstance,_f=e.canHydrateTextInstance,wf=e.canHydrateSuspenseInstance,Sf=e.isSuspenseInstancePending,po=e.isSuspenseInstanceFallback,Mf=e.registerSuspenseInstanceRetry,os=e.getNextHydratableSibling,bf=e.getFirstHydratableChild,j0=e.getFirstHydratableChildWithinContainer,z0=e.getFirstHydratableChildWithinSuspenseInstance,H0=e.hydrateInstance,F=e.hydrateTextInstance,ae=e.hydrateSuspenseInstance,ge=e.getNextHydratableInstanceAfterSuspenseInstance,re=e.commitHydratedContainer,xe=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,rt=e.clearSuspenseBoundaryFromContainer,ct=e.shouldDeleteUnhydratedTailInstances,ut=e.didNotMatchHydratedContainerTextInstance,bt=e.didNotMatchHydratedTextInstance,dt;function ht(u){if(dt===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);dt=h&&h[1]||""}return`
`+dt+u}var Ht=!1;function en(u,h){if(!u||Ht)return"";Ht=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ne){var M=Ne}Reflect.construct(u,[],h)}else{try{h.call()}catch(Ne){M=Ne}u.call(h.prototype)}else{try{throw Error()}catch(Ne){M=Ne}u()}}catch(Ne){if(Ne&&M&&typeof Ne.stack=="string"){for(var E=Ne.stack.split(`
`),R=M.stack.split(`
`),H=E.length-1,$=R.length-1;1<=H&&0<=$&&E[H]!==R[$];)$--;for(;1<=H&&0<=$;H--,$--)if(E[H]!==R[$]){if(H!==1||$!==1)do if(H--,$--,0>$||E[H]!==R[$]){var fe=`
`+E[H].replace(" at new "," at ");return u.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",u.displayName)),fe}while(1<=H&&0<=$);break}}}finally{Ht=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?ht(u):""}var Ji=Object.prototype.hasOwnProperty,Ki=[],Kt=-1;function gt(u){return{current:u}}function Gt(u){0>Kt||(u.current=Ki[Kt],Ki[Kt]=null,Kt--)}function pt(u,h){Kt++,Ki[Kt]=u.current,u.current=h}var ai={},jn=gt(ai),Nn=gt(!1),Fr=ai;function yn(u,h){var y=u.type.contextTypes;if(!y)return ai;var M=u.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===h)return M.__reactInternalMemoizedMaskedChildContext;var E={},R;for(R in y)E[R]=h[R];return M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=E),E}function An(u){return u=u.childContextTypes,u!=null}function mo(){Gt(Nn),Gt(jn)}function li(u,h,y){if(jn.current!==ai)throw Error(o(168));pt(jn,h),pt(Nn,y)}function Ol(u,h,y){var M=u.stateNode;if(h=h.childContextTypes,typeof M.getChildContext!="function")return y;M=M.getChildContext();for(var E in M)if(!(E in h))throw Error(o(108,B(u)||"Unknown",E));return s({},y,M)}function Ul(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||ai,Fr=jn.current,pt(jn,u),pt(Nn,Nn.current),!0}function Ou(u,h,y){var M=u.stateNode;if(!M)throw Error(o(169));y?(u=Ol(u,h,Fr),M.__reactInternalMemoizedMergedChildContext=u,Gt(Nn),Gt(jn),pt(jn,u)):Gt(Nn),pt(Nn,y)}var Or=Math.clz32?Math.clz32:WD,GD=Math.log,VD=Math.LN2;function WD(u){return u>>>=0,u===0?32:31-(GD(u)/VD|0)|0}var Ef=64,Cf=4194304;function Uu(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Tf(u,h){var y=u.pendingLanes;if(y===0)return 0;var M=0,E=u.suspendedLanes,R=u.pingedLanes,H=y&268435455;if(H!==0){var $=H&~E;$!==0?M=Uu($):(R&=H,R!==0&&(M=Uu(R)))}else H=y&~E,H!==0?M=Uu(H):R!==0&&(M=Uu(R));if(M===0)return 0;if(h!==0&&h!==M&&!(h&E)&&(E=M&-M,R=h&-h,E>=R||E===16&&(R&4194240)!==0))return h;if(M&4&&(M|=y&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=M;0<h;)y=31-Or(h),E=1<<y,M|=u[y],h&=~E;return M}function XD(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JD(u,h){for(var y=u.suspendedLanes,M=u.pingedLanes,E=u.expirationTimes,R=u.pendingLanes;0<R;){var H=31-Or(R),$=1<<H,fe=E[H];fe===-1?(!($&y)||$&M)&&(E[H]=XD($,h)):fe<=h&&(u.expiredLanes|=$),R&=~$}}function G0(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function V0(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function ju(u,h,y){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-Or(h),u[h]=y}function KD(u,h){var y=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var M=u.eventTimes;for(u=u.expirationTimes;0<y;){var E=31-Or(y),R=1<<E;h[E]=0,M[E]=-1,u[E]=-1,y&=~R}}function W0(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var M=31-Or(y),E=1<<M;E&h|u[M]&h&&(u[M]|=h),y&=~E}}var Ft=0;function xS(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var X0=r.unstable_scheduleCallback,yS=r.unstable_cancelCallback,YD=r.unstable_shouldYield,qD=r.unstable_requestPaint,Xn=r.unstable_now,J0=r.unstable_ImmediatePriority,QD=r.unstable_UserBlockingPriority,K0=r.unstable_NormalPriority,$D=r.unstable_IdlePriority,Rf=null,as=null;function ZD(u){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(Rf,u,void 0,(u.current.flags&128)===128)}catch{}}function e4(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var ls=typeof Object.is=="function"?Object.is:e4,Ts=null,Pf=!1,Y0=!1;function AS(u){Ts===null?Ts=[u]:Ts.push(u)}function t4(u){Pf=!0,AS(u)}function cs(){if(!Y0&&Ts!==null){Y0=!0;var u=0,h=Ft;try{var y=Ts;for(Ft=1;u<y.length;u++){var M=y[u];do M=M(!0);while(M!==null)}Ts=null,Pf=!1}catch(E){throw Ts!==null&&(Ts=Ts.slice(u+1)),X0(J0,cs),E}finally{Ft=h,Y0=!1}}return null}var n4=a.ReactCurrentBatchConfig;function Lf(u,h){if(ls(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),M=Object.keys(h);if(y.length!==M.length)return!1;for(M=0;M<y.length;M++){var E=y[M];if(!Ji.call(h,E)||!ls(u[E],h[E]))return!1}return!0}function i4(u){switch(u.tag){case 5:return ht(u.type);case 16:return ht("Lazy");case 13:return ht("Suspense");case 19:return ht("SuspenseList");case 0:case 2:case 15:return u=en(u.type,!1),u;case 11:return u=en(u.type.render,!1),u;case 1:return u=en(u.type,!0),u;default:return""}}function Ur(u,h){if(u&&u.defaultProps){h=s({},h),u=u.defaultProps;for(var y in u)h[y]===void 0&&(h[y]=u[y]);return h}return h}var Nf=gt(null),Bf=null,jl=null,q0=null;function Q0(){q0=jl=Bf=null}function _S(u,h,y){Be?(pt(Nf,h._currentValue),h._currentValue=y):(pt(Nf,h._currentValue2),h._currentValue2=y)}function $0(u){var h=Nf.current;Gt(Nf),Be?u._currentValue=h:u._currentValue2=h}function Z0(u,h,y){for(;u!==null;){var M=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,M!==null&&(M.childLanes|=h)):M!==null&&(M.childLanes&h)!==h&&(M.childLanes|=h),u===y)break;u=u.return}}function zl(u,h){Bf=u,q0=jl=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&h&&(Qi=!0),u.firstContext=null)}function dr(u){var h=Be?u._currentValue:u._currentValue2;if(q0!==u)if(u={context:u,memoizedValue:h,next:null},jl===null){if(Bf===null)throw Error(o(308));jl=u,Bf.dependencies={lanes:0,firstContext:u}}else jl=jl.next=u;return h}var us=null,go=!1;function ev(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wS(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Rs(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function vo(u,h){var y=u.updateQueue;y!==null&&(y=y.shared,Bn!==null&&u.mode&1&&!(Et&2)?(u=y.interleaved,u===null?(h.next=h,us===null?us=[y]:us.push(y)):(h.next=u.next,u.next=h),y.interleaved=h):(u=y.pending,u===null?h.next=h:(h.next=u.next,u.next=h),y.pending=h))}function Df(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var M=h.lanes;M&=u.pendingLanes,y|=M,h.lanes=y,W0(u,y)}}function SS(u,h){var y=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,y===M)){var E=null,R=null;if(y=y.firstBaseUpdate,y!==null){do{var H={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};R===null?E=R=H:R=R.next=H,y=y.next}while(y!==null);R===null?E=R=h:R=R.next=h}else E=R=h;y={baseState:M.baseState,firstBaseUpdate:E,lastBaseUpdate:R,shared:M.shared,effects:M.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}function If(u,h,y,M){var E=u.updateQueue;go=!1;var R=E.firstBaseUpdate,H=E.lastBaseUpdate,$=E.shared.pending;if($!==null){E.shared.pending=null;var fe=$,Ne=fe.next;fe.next=null,H===null?R=Ne:H.next=Ne,H=fe;var Ye=u.alternate;Ye!==null&&(Ye=Ye.updateQueue,$=Ye.lastBaseUpdate,$!==H&&($===null?Ye.firstBaseUpdate=Ne:$.next=Ne,Ye.lastBaseUpdate=fe))}if(R!==null){var vt=E.baseState;H=0,Ye=Ne=fe=null,$=R;do{var st=$.lane,Yt=$.eventTime;if((M&st)===st){Ye!==null&&(Ye=Ye.next={eventTime:Yt,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ze=u,hi=$;switch(st=h,Yt=y,hi.tag){case 1:if(Ze=hi.payload,typeof Ze=="function"){vt=Ze.call(Yt,vt,st);break e}vt=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=hi.payload,st=typeof Ze=="function"?Ze.call(Yt,vt,st):Ze,st==null)break e;vt=s({},vt,st);break e;case 2:go=!0}}$.callback!==null&&$.lane!==0&&(u.flags|=64,st=E.effects,st===null?E.effects=[$]:st.push($))}else Yt={eventTime:Yt,lane:st,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Ye===null?(Ne=Ye=Yt,fe=vt):Ye=Ye.next=Yt,H|=st;if($=$.next,$===null){if($=E.shared.pending,$===null)break;st=$,$=st.next,st.next=null,E.lastBaseUpdate=st,E.shared.pending=null}}while(1);if(Ye===null&&(fe=vt),E.baseState=fe,E.firstBaseUpdate=Ne,E.lastBaseUpdate=Ye,h=E.shared.interleaved,h!==null){E=h;do H|=E.lane,E=E.next;while(E!==h)}else R===null&&(E.shared.lanes=0);ql|=H,u.lanes=H,u.memoizedState=vt}}function MS(u,h,y){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var M=u[h],E=M.callback;if(E!==null){if(M.callback=null,M=y,typeof E!="function")throw Error(o(191,E));E.call(M)}}}var bS=new i.Component().refs;function tv(u,h,y,M){h=u.memoizedState,y=y(M,h),y=y==null?h:s({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var kf={isMounted:function(u){return(u=u._reactInternals)?P(u)===u:!1},enqueueSetState:function(u,h,y){u=u._reactInternals;var M=bi(),E=Ao(u),R=Rs(M,E);R.payload=h,y!=null&&(R.callback=y),vo(u,R),h=gr(u,E,M),h!==null&&Df(h,u,E)},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var M=bi(),E=Ao(u),R=Rs(M,E);R.tag=1,R.payload=h,y!=null&&(R.callback=y),vo(u,R),h=gr(u,E,M),h!==null&&Df(h,u,E)},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=bi(),M=Ao(u),E=Rs(y,M);E.tag=2,h!=null&&(E.callback=h),vo(u,E),h=gr(u,M,y),h!==null&&Df(h,u,M)}};function ES(u,h,y,M,E,R,H){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,R,H):h.prototype&&h.prototype.isPureReactComponent?!Lf(y,M)||!Lf(E,R):!0}function CS(u,h,y){var M=!1,E=ai,R=h.contextType;return typeof R=="object"&&R!==null?R=dr(R):(E=An(h)?Fr:jn.current,M=h.contextTypes,R=(M=M!=null)?yn(u,E):ai),h=new h(y,R),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=kf,u.stateNode=h,h._reactInternals=u,M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=E,u.__reactInternalMemoizedMaskedChildContext=R),h}function TS(u,h,y,M){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,M),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,M),h.state!==u&&kf.enqueueReplaceState(h,h.state,null)}function nv(u,h,y,M){var E=u.stateNode;E.props=y,E.state=u.memoizedState,E.refs=bS,ev(u);var R=h.contextType;typeof R=="object"&&R!==null?E.context=dr(R):(R=An(h)?Fr:jn.current,E.context=yn(u,R)),E.state=u.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&(tv(u,h,R,y),E.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(h=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),h!==E.state&&kf.enqueueReplaceState(E,E.state,null),If(u,y,E,M),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308)}var Hl=[],Gl=0,Ff=null,Of=0,hr=[],fr=0,_a=null,Ps=1,Ls="";function wa(u,h){Hl[Gl++]=Of,Hl[Gl++]=Ff,Ff=u,Of=h}function RS(u,h,y){hr[fr++]=Ps,hr[fr++]=Ls,hr[fr++]=_a,_a=u;var M=Ps;u=Ls;var E=32-Or(M)-1;M&=~(1<<E),y+=1;var R=32-Or(h)+E;if(30<R){var H=E-E%5;R=(M&(1<<H)-1).toString(32),M>>=H,E-=H,Ps=1<<32-Or(h)+E|y<<E|M,Ls=R+u}else Ps=1<<R|y<<E|M,Ls=u}function iv(u){u.return!==null&&(wa(u,1),RS(u,1,0))}function rv(u){for(;u===Ff;)Ff=Hl[--Gl],Hl[Gl]=null,Of=Hl[--Gl],Hl[Gl]=null;for(;u===_a;)_a=hr[--fr],hr[fr]=null,Ls=hr[--fr],hr[fr]=null,Ps=hr[--fr],hr[fr]=null}var Yi=null,qi=null,rn=!1,zu=!1,jr=null;function PS(u,h){var y=vr(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=u,h=u.deletions,h===null?(u.deletions=[y],u.flags|=16):h.push(y)}function LS(u,h){switch(u.tag){case 5:return h=xn(h,u.type,u.pendingProps),h!==null?(u.stateNode=h,Yi=u,qi=bf(h),!0):!1;case 6:return h=_f(h,u.pendingProps),h!==null?(u.stateNode=h,Yi=u,qi=null,!0):!1;case 13:if(h=wf(h),h!==null){var y=_a!==null?{id:Ps,overflow:Ls}:null;return u.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=vr(18,null,null,0),y.stateNode=h,y.return=u,u.child=y,Yi=u,qi=null,!0}return!1;default:return!1}}function sv(u){return(u.mode&1)!==0&&(u.flags&128)===0}function ov(u){if(rn){var h=qi;if(h){var y=h;if(!LS(u,h)){if(sv(u))throw Error(o(418));h=os(y);var M=Yi;h&&LS(u,h)?PS(M,y):(u.flags=u.flags&-4097|2,rn=!1,Yi=u)}}else{if(sv(u))throw Error(o(418));u.flags=u.flags&-4097|2,rn=!1,Yi=u}}}function NS(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Yi=u}function Hu(u){if(!de||u!==Yi)return!1;if(!rn)return NS(u),rn=!0,!1;if(u.tag!==3&&(u.tag!==5||ct(u.type)&&!ue(u.type,u.memoizedProps))){var h=qi;if(h){if(sv(u)){for(u=qi;u;)u=os(u);throw Error(o(418))}for(;h;)PS(u,h),h=os(h)}}if(NS(u),u.tag===13){if(!de)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));qi=ge(u)}else qi=Yi?os(u.stateNode):null;return!0}function Vl(){de&&(qi=Yi=null,zu=rn=!1)}function av(u){jr===null?jr=[u]:jr.push(u)}function Gu(u,h,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var M=y.stateNode}if(!M)throw Error(o(147,u));var E=M,R=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===R?h.ref:(h=function(H){var $=E.refs;$===bS&&($=E.refs={}),H===null?delete $[R]:$[R]=H},h._stringRef=R,h)}if(typeof u!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,u))}return u}function Uf(u,h){throw u=Object.prototype.toString.call(h),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function BS(u){var h=u._init;return h(u._payload)}function DS(u){function h(oe,te){if(u){var ce=oe.deletions;ce===null?(oe.deletions=[te],oe.flags|=16):ce.push(te)}}function y(oe,te){if(!u)return null;for(;te!==null;)h(oe,te),te=te.sibling;return null}function M(oe,te){for(oe=new Map;te!==null;)te.key!==null?oe.set(te.key,te):oe.set(te.index,te),te=te.sibling;return oe}function E(oe,te){return oe=wo(oe,te),oe.index=0,oe.sibling=null,oe}function R(oe,te,ce){return oe.index=ce,u?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<te?(oe.flags|=2,te):ce):(oe.flags|=2,te)):(oe.flags|=1048576,te)}function H(oe){return u&&oe.alternate===null&&(oe.flags|=2),oe}function $(oe,te,ce,Ve){return te===null||te.tag!==6?(te=Vv(ce,oe.mode,Ve),te.return=oe,te):(te=E(te,ce),te.return=oe,te)}function fe(oe,te,ce,Ve){var $e=ce.type;return $e===d?Ye(oe,te,ce.props.children,Ve,ce.key):te!==null&&(te.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===_&&BS($e)===te.type)?(Ve=E(te,ce.props),Ve.ref=Gu(oe,te,ce),Ve.return=oe,Ve):(Ve=gp(ce.type,ce.key,ce.props,null,oe.mode,Ve),Ve.ref=Gu(oe,te,ce),Ve.return=oe,Ve)}function Ne(oe,te,ce,Ve){return te===null||te.tag!==4||te.stateNode.containerInfo!==ce.containerInfo||te.stateNode.implementation!==ce.implementation?(te=Wv(ce,oe.mode,Ve),te.return=oe,te):(te=E(te,ce.children||[]),te.return=oe,te)}function Ye(oe,te,ce,Ve,$e){return te===null||te.tag!==7?(te=Ra(ce,oe.mode,Ve,$e),te.return=oe,te):(te=E(te,ce),te.return=oe,te)}function vt(oe,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Vv(""+te,oe.mode,ce),te.return=oe,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return ce=gp(te.type,te.key,te.props,null,oe.mode,ce),ce.ref=Gu(oe,null,te),ce.return=oe,ce;case c:return te=Wv(te,oe.mode,ce),te.return=oe,te;case _:var Ve=te._init;return vt(oe,Ve(te._payload),ce)}if(Z(te)||T(te))return te=Ra(te,oe.mode,ce,null),te.return=oe,te;Uf(oe,te)}return null}function st(oe,te,ce,Ve){var $e=te!==null?te.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return $e!==null?null:$(oe,te,""+ce,Ve);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return ce.key===$e?fe(oe,te,ce,Ve):null;case c:return ce.key===$e?Ne(oe,te,ce,Ve):null;case _:return $e=ce._init,st(oe,te,$e(ce._payload),Ve)}if(Z(ce)||T(ce))return $e!==null?null:Ye(oe,te,ce,Ve,null);Uf(oe,ce)}return null}function Yt(oe,te,ce,Ve,$e){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return oe=oe.get(ce)||null,$(te,oe,""+Ve,$e);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case l:return oe=oe.get(Ve.key===null?ce:Ve.key)||null,fe(te,oe,Ve,$e);case c:return oe=oe.get(Ve.key===null?ce:Ve.key)||null,Ne(te,oe,Ve,$e);case _:var _t=Ve._init;return Yt(oe,te,ce,_t(Ve._payload),$e)}if(Z(Ve)||T(Ve))return oe=oe.get(ce)||null,Ye(te,oe,Ve,$e,null);Uf(te,Ve)}return null}function Ze(oe,te,ce,Ve){for(var $e=null,_t=null,xt=te,Ot=te=0,Kn=null;xt!==null&&Ot<ce.length;Ot++){xt.index>Ot?(Kn=xt,xt=null):Kn=xt.sibling;var Ut=st(oe,xt,ce[Ot],Ve);if(Ut===null){xt===null&&(xt=Kn);break}u&&xt&&Ut.alternate===null&&h(oe,xt),te=R(Ut,te,Ot),_t===null?$e=Ut:_t.sibling=Ut,_t=Ut,xt=Kn}if(Ot===ce.length)return y(oe,xt),rn&&wa(oe,Ot),$e;if(xt===null){for(;Ot<ce.length;Ot++)xt=vt(oe,ce[Ot],Ve),xt!==null&&(te=R(xt,te,Ot),_t===null?$e=xt:_t.sibling=xt,_t=xt);return rn&&wa(oe,Ot),$e}for(xt=M(oe,xt);Ot<ce.length;Ot++)Kn=Yt(xt,oe,Ot,ce[Ot],Ve),Kn!==null&&(u&&Kn.alternate!==null&&xt.delete(Kn.key===null?Ot:Kn.key),te=R(Kn,te,Ot),_t===null?$e=Kn:_t.sibling=Kn,_t=Kn);return u&&xt.forEach(function(So){return h(oe,So)}),rn&&wa(oe,Ot),$e}function hi(oe,te,ce,Ve){var $e=T(ce);if(typeof $e!="function")throw Error(o(150));if(ce=$e.call(ce),ce==null)throw Error(o(151));for(var _t=$e=null,xt=te,Ot=te=0,Kn=null,Ut=ce.next();xt!==null&&!Ut.done;Ot++,Ut=ce.next()){xt.index>Ot?(Kn=xt,xt=null):Kn=xt.sibling;var So=st(oe,xt,Ut.value,Ve);if(So===null){xt===null&&(xt=Kn);break}u&&xt&&So.alternate===null&&h(oe,xt),te=R(So,te,Ot),_t===null?$e=So:_t.sibling=So,_t=So,xt=Kn}if(Ut.done)return y(oe,xt),rn&&wa(oe,Ot),$e;if(xt===null){for(;!Ut.done;Ot++,Ut=ce.next())Ut=vt(oe,Ut.value,Ve),Ut!==null&&(te=R(Ut,te,Ot),_t===null?$e=Ut:_t.sibling=Ut,_t=Ut);return rn&&wa(oe,Ot),$e}for(xt=M(oe,xt);!Ut.done;Ot++,Ut=ce.next())Ut=Yt(xt,oe,Ot,Ut.value,Ve),Ut!==null&&(u&&Ut.alternate!==null&&xt.delete(Ut.key===null?Ot:Ut.key),te=R(Ut,te,Ot),_t===null?$e=Ut:_t.sibling=Ut,_t=Ut);return u&&xt.forEach(function(B4){return h(oe,B4)}),rn&&wa(oe,Ot),$e}function xr(oe,te,ce,Ve){if(typeof ce=="object"&&ce!==null&&ce.type===d&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:e:{for(var $e=ce.key,_t=te;_t!==null;){if(_t.key===$e){if($e=ce.type,$e===d){if(_t.tag===7){y(oe,_t.sibling),te=E(_t,ce.props.children),te.return=oe,oe=te;break e}}else if(_t.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===_&&BS($e)===_t.type){y(oe,_t.sibling),te=E(_t,ce.props),te.ref=Gu(oe,_t,ce),te.return=oe,oe=te;break e}y(oe,_t);break}else h(oe,_t);_t=_t.sibling}ce.type===d?(te=Ra(ce.props.children,oe.mode,Ve,ce.key),te.return=oe,oe=te):(Ve=gp(ce.type,ce.key,ce.props,null,oe.mode,Ve),Ve.ref=Gu(oe,te,ce),Ve.return=oe,oe=Ve)}return H(oe);case c:e:{for(_t=ce.key;te!==null;){if(te.key===_t)if(te.tag===4&&te.stateNode.containerInfo===ce.containerInfo&&te.stateNode.implementation===ce.implementation){y(oe,te.sibling),te=E(te,ce.children||[]),te.return=oe,oe=te;break e}else{y(oe,te);break}else h(oe,te);te=te.sibling}te=Wv(ce,oe.mode,Ve),te.return=oe,oe=te}return H(oe);case _:return _t=ce._init,xr(oe,te,_t(ce._payload),Ve)}if(Z(ce))return Ze(oe,te,ce,Ve);if(T(ce))return hi(oe,te,ce,Ve);Uf(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,te!==null&&te.tag===6?(y(oe,te.sibling),te=E(te,ce),te.return=oe,oe=te):(y(oe,te),te=Vv(ce,oe.mode,Ve),te.return=oe,oe=te),H(oe)):y(oe,te)}return xr}var Wl=DS(!0),IS=DS(!1),Vu={},pr=gt(Vu),Wu=gt(Vu),Xl=gt(Vu);function ds(u){if(u===Vu)throw Error(o(174));return u}function lv(u,h){pt(Xl,h),pt(Wu,u),pt(pr,Vu),u=ie(h),Gt(pr),pt(pr,u)}function Jl(){Gt(pr),Gt(Wu),Gt(Xl)}function kS(u){var h=ds(Xl.current),y=ds(pr.current);h=O(y,u.type,h),y!==h&&(pt(Wu,u),pt(pr,h))}function cv(u){Wu.current===u&&(Gt(pr),Gt(Wu))}var cn=gt(0);function jf(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Sf(y)||po(y)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var uv=[];function dv(){for(var u=0;u<uv.length;u++){var h=uv[u];Be?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}uv.length=0}var zf=a.ReactCurrentDispatcher,mr=a.ReactCurrentBatchConfig,Kl=0,_n=null,ci=null,Jn=null,Hf=!1,Xu=!1,Ju=0,r4=0;function ui(){throw Error(o(321))}function hv(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!ls(u[y],h[y]))return!1;return!0}function fv(u,h,y,M,E,R){if(Kl=R,_n=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,zf.current=u===null||u.memoizedState===null?l4:c4,u=y(M,E),Xu){R=0;do{if(Xu=!1,Ju=0,25<=R)throw Error(o(301));R+=1,Jn=ci=null,h.updateQueue=null,zf.current=u4,u=y(M,E)}while(Xu)}if(zf.current=Jf,h=ci!==null&&ci.next!==null,Kl=0,Jn=ci=_n=null,Hf=!1,h)throw Error(o(300));return u}function pv(){var u=Ju!==0;return Ju=0,u}function Ns(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?_n.memoizedState=Jn=u:Jn=Jn.next=u,Jn}function hs(){if(ci===null){var u=_n.alternate;u=u!==null?u.memoizedState:null}else u=ci.next;var h=Jn===null?_n.memoizedState:Jn.next;if(h!==null)Jn=h,ci=u;else{if(u===null)throw Error(o(310));ci=u,u={memoizedState:ci.memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},Jn===null?_n.memoizedState=Jn=u:Jn=Jn.next=u}return Jn}function Sa(u,h){return typeof h=="function"?h(u):h}function Gf(u){var h=hs(),y=h.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var M=ci,E=M.baseQueue,R=y.pending;if(R!==null){if(E!==null){var H=E.next;E.next=R.next,R.next=H}M.baseQueue=E=R,y.pending=null}if(E!==null){R=E.next,M=M.baseState;var $=H=null,fe=null,Ne=R;do{var Ye=Ne.lane;if((Kl&Ye)===Ye)fe!==null&&(fe=fe.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),M=Ne.hasEagerState?Ne.eagerState:u(M,Ne.action);else{var vt={lane:Ye,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};fe===null?($=fe=vt,H=M):fe=fe.next=vt,_n.lanes|=Ye,ql|=Ye}Ne=Ne.next}while(Ne!==null&&Ne!==R);fe===null?H=M:fe.next=$,ls(M,h.memoizedState)||(Qi=!0),h.memoizedState=M,h.baseState=H,h.baseQueue=fe,y.lastRenderedState=M}if(u=y.interleaved,u!==null){E=u;do R=E.lane,_n.lanes|=R,ql|=R,E=E.next;while(E!==u)}else E===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function Vf(u){var h=hs(),y=h.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var M=y.dispatch,E=y.pending,R=h.memoizedState;if(E!==null){y.pending=null;var H=E=E.next;do R=u(R,H.action),H=H.next;while(H!==E);ls(R,h.memoizedState)||(Qi=!0),h.memoizedState=R,h.baseQueue===null&&(h.baseState=R),y.lastRenderedState=R}return[R,M]}function FS(){}function OS(u,h){var y=_n,M=hs(),E=h(),R=!ls(M.memoizedState,E);if(R&&(M.memoizedState=E,Qi=!0),M=M.queue,Yu(zS.bind(null,y,M,u),[u]),M.getSnapshot!==h||R||Jn!==null&&Jn.memoizedState.tag&1){if(y.flags|=2048,Ku(9,jS.bind(null,y,M,E,h),void 0,null),Bn===null)throw Error(o(349));Kl&30||US(y,h,E)}return E}function US(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=_n.updateQueue,h===null?(h={lastEffect:null,stores:null},_n.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function jS(u,h,y,M){h.value=y,h.getSnapshot=M,HS(h)&&gr(u,1,-1)}function zS(u,h,y){return y(function(){HS(h)&&gr(u,1,-1)})}function HS(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!ls(u,y)}catch{return!0}}function mv(u){var h=Ns();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:u},h.queue=u,u=u.dispatch=a4.bind(null,_n,u),[h.memoizedState,u]}function Ku(u,h,y,M){return u={tag:u,create:h,destroy:y,deps:M,next:null},h=_n.updateQueue,h===null?(h={lastEffect:null,stores:null},_n.updateQueue=h,h.lastEffect=u.next=u):(y=h.lastEffect,y===null?h.lastEffect=u.next=u:(M=y.next,y.next=u,u.next=M,h.lastEffect=u)),u}function GS(){return hs().memoizedState}function Wf(u,h,y,M){var E=Ns();_n.flags|=u,E.memoizedState=Ku(1|h,y,void 0,M===void 0?null:M)}function Xf(u,h,y,M){var E=hs();M=M===void 0?null:M;var R=void 0;if(ci!==null){var H=ci.memoizedState;if(R=H.destroy,M!==null&&hv(M,H.deps)){E.memoizedState=Ku(h,y,R,M);return}}_n.flags|=u,E.memoizedState=Ku(1|h,y,R,M)}function gv(u,h){return Wf(8390656,8,u,h)}function Yu(u,h){return Xf(2048,8,u,h)}function VS(u,h){return Xf(4,2,u,h)}function WS(u,h){return Xf(4,4,u,h)}function XS(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function JS(u,h,y){return y=y!=null?y.concat([u]):null,Xf(4,4,XS.bind(null,h,u),y)}function vv(){}function KS(u,h){var y=hs();h=h===void 0?null:h;var M=y.memoizedState;return M!==null&&h!==null&&hv(h,M[1])?M[0]:(y.memoizedState=[u,h],u)}function YS(u,h){var y=hs();h=h===void 0?null:h;var M=y.memoizedState;return M!==null&&h!==null&&hv(h,M[1])?M[0]:(u=u(),y.memoizedState=[u,h],u)}function s4(u,h){var y=Ft;Ft=y!==0&&4>y?y:4,u(!0);var M=mr.transition;mr.transition={};try{u(!1),h()}finally{Ft=y,mr.transition=M}}function qS(){return hs().memoizedState}function o4(u,h,y){var M=Ao(u);y={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null},QS(u)?$S(h,y):(ZS(u,h,y),y=bi(),u=gr(u,M,y),u!==null&&eM(u,h,M))}function a4(u,h,y){var M=Ao(u),E={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null};if(QS(u))$S(h,E);else{ZS(u,h,E);var R=u.alternate;if(u.lanes===0&&(R===null||R.lanes===0)&&(R=h.lastRenderedReducer,R!==null))try{var H=h.lastRenderedState,$=R(H,y);if(E.hasEagerState=!0,E.eagerState=$,ls($,H))return}catch{}finally{}y=bi(),u=gr(u,M,y),u!==null&&eM(u,h,M)}}function QS(u){var h=u.alternate;return u===_n||h!==null&&h===_n}function $S(u,h){Xu=Hf=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function ZS(u,h,y){Bn!==null&&u.mode&1&&!(Et&2)?(u=h.interleaved,u===null?(y.next=y,us===null?us=[h]:us.push(h)):(y.next=u.next,u.next=y),h.interleaved=y):(u=h.pending,u===null?y.next=y:(y.next=u.next,u.next=y),h.pending=y)}function eM(u,h,y){if(y&4194240){var M=h.lanes;M&=u.pendingLanes,y|=M,h.lanes=y,W0(u,y)}}var Jf={readContext:dr,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useInsertionEffect:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useSyncExternalStore:ui,useId:ui,unstable_isNewReconciler:!1},l4={readContext:dr,useCallback:function(u,h){return Ns().memoizedState=[u,h===void 0?null:h],u},useContext:dr,useEffect:gv,useImperativeHandle:function(u,h,y){return y=y!=null?y.concat([u]):null,Wf(4194308,4,XS.bind(null,h,u),y)},useLayoutEffect:function(u,h){return Wf(4194308,4,u,h)},useInsertionEffect:function(u,h){return Wf(4,2,u,h)},useMemo:function(u,h){var y=Ns();return h=h===void 0?null:h,u=u(),y.memoizedState=[u,h],u},useReducer:function(u,h,y){var M=Ns();return h=y!==void 0?y(h):h,M.memoizedState=M.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},M.queue=u,u=u.dispatch=o4.bind(null,_n,u),[M.memoizedState,u]},useRef:function(u){var h=Ns();return u={current:u},h.memoizedState=u},useState:mv,useDebugValue:vv,useDeferredValue:function(u){var h=mv(u),y=h[0],M=h[1];return gv(function(){var E=mr.transition;mr.transition={};try{M(u)}finally{mr.transition=E}},[u]),y},useTransition:function(){var u=mv(!1),h=u[0];return u=s4.bind(null,u[1]),Ns().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,y){var M=_n,E=Ns();if(rn){if(y===void 0)throw Error(o(407));y=y()}else{if(y=h(),Bn===null)throw Error(o(349));Kl&30||US(M,h,y)}E.memoizedState=y;var R={value:y,getSnapshot:h};return E.queue=R,gv(zS.bind(null,M,R,u),[u]),M.flags|=2048,Ku(9,jS.bind(null,M,R,y,h),void 0,null),y},useId:function(){var u=Ns(),h=Bn.identifierPrefix;if(rn){var y=Ls,M=Ps;y=(M&~(1<<32-Or(M)-1)).toString(32)+y,h=":"+h+"R"+y,y=Ju++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=r4++,h=":"+h+"r"+y.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},c4={readContext:dr,useCallback:KS,useContext:dr,useEffect:Yu,useImperativeHandle:JS,useInsertionEffect:VS,useLayoutEffect:WS,useMemo:YS,useReducer:Gf,useRef:GS,useState:function(){return Gf(Sa)},useDebugValue:vv,useDeferredValue:function(u){var h=Gf(Sa),y=h[0],M=h[1];return Yu(function(){var E=mr.transition;mr.transition={};try{M(u)}finally{mr.transition=E}},[u]),y},useTransition:function(){var u=Gf(Sa)[0],h=hs().memoizedState;return[u,h]},useMutableSource:FS,useSyncExternalStore:OS,useId:qS,unstable_isNewReconciler:!1},u4={readContext:dr,useCallback:KS,useContext:dr,useEffect:Yu,useImperativeHandle:JS,useInsertionEffect:VS,useLayoutEffect:WS,useMemo:YS,useReducer:Vf,useRef:GS,useState:function(){return Vf(Sa)},useDebugValue:vv,useDeferredValue:function(u){var h=Vf(Sa),y=h[0],M=h[1];return Yu(function(){var E=mr.transition;mr.transition={};try{M(u)}finally{mr.transition=E}},[u]),y},useTransition:function(){var u=Vf(Sa)[0],h=hs().memoizedState;return[u,h]},useMutableSource:FS,useSyncExternalStore:OS,useId:qS,unstable_isNewReconciler:!1};function xv(u,h){try{var y="",M=h;do y+=i4(M),M=M.return;while(M);var E=y}catch(R){E=`
Error generating stack: `+R.message+`
`+R.stack}return{value:u,source:h,stack:E}}function yv(u,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var d4=typeof WeakMap=="function"?WeakMap:Map;function tM(u,h,y){y=Rs(-1,y),y.tag=3,y.payload={element:null};var M=h.value;return y.callback=function(){cp||(cp=!0,Fv=M),yv(u,h)},y}function nM(u,h,y){y=Rs(-1,y),y.tag=3;var M=u.type.getDerivedStateFromError;if(typeof M=="function"){var E=h.value;y.payload=function(){return M(E)},y.callback=function(){yv(u,h)}}var R=u.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(y.callback=function(){yv(u,h),typeof M!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var H=h.stack;this.componentDidCatch(h.value,{componentStack:H!==null?H:""})}),y}function iM(u,h,y){var M=u.pingCache;if(M===null){M=u.pingCache=new d4;var E=new Set;M.set(h,E)}else E=M.get(h),E===void 0&&(E=new Set,M.set(h,E));E.has(y)||(E.add(y),u=b4.bind(null,u,h,y),h.then(u,u))}function rM(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function sM(u,h,y,M,E){return u.mode&1?(u.flags|=65536,u.lanes=E,u):(u===h?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=Rs(-1,1),h.tag=2,vo(y,h))),y.lanes|=1),u)}function fs(u){u.flags|=4}function oM(u,h){if(u!==null&&u.child===h.child)return!0;if(h.flags&16)return!1;for(u=h.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var qu,Qu,Kf,Yf;if(Ae)qu=function(u,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)j(u,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Qu=function(){},Kf=function(u,h,y,M,E){if(u=u.memoizedProps,u!==M){var R=h.stateNode,H=ds(pr.current);y=Y(R,y,u,M,E,H),(h.updateQueue=y)&&fs(h)}},Yf=function(u,h,y,M){y!==M&&fs(h)};else if(U){qu=function(u,h,y,M){for(var E=h.child;E!==null;){if(E.tag===5){var R=E.stateNode;y&&M&&(R=jt(R,E.type,E.memoizedProps,E)),j(u,R)}else if(E.tag===6)R=E.stateNode,y&&M&&(R=Un(R,E.memoizedProps,E)),j(u,R);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)R=E.child,R!==null&&(R.return=E),qu(u,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var aM=function(u,h,y,M){for(var E=h.child;E!==null;){if(E.tag===5){var R=E.stateNode;y&&M&&(R=jt(R,E.type,E.memoizedProps,E)),Lt(u,R)}else if(E.tag===6)R=E.stateNode,y&&M&&(R=Un(R,E.memoizedProps,E)),Lt(u,R);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)R=E.child,R!==null&&(R.return=E),aM(u,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};Qu=function(u,h){var y=h.stateNode;if(!oM(u,h)){u=y.containerInfo;var M=Tt(u);aM(M,h,!1,!1),y.pendingChildren=M,fs(h),kt(u,M)}},Kf=function(u,h,y,M,E){var R=u.stateNode,H=u.memoizedProps;if((u=oM(u,h))&&H===M)h.stateNode=R;else{var $=h.stateNode,fe=ds(pr.current),Ne=null;H!==M&&(Ne=Y($,y,H,M,E,fe)),u&&Ne===null?h.stateNode=R:(R=je(R,Ne,y,H,M,h,u,$),q(R,y,M,E,fe)&&fs(h),h.stateNode=R,u?fs(h):qu(R,h,!1,!1))}},Yf=function(u,h,y,M){y!==M?(u=ds(Xl.current),y=ds(pr.current),h.stateNode=ye(M,u,y,h),fs(h)):h.stateNode=u.stateNode}}else Qu=function(){},Kf=function(){},Yf=function(){};function $u(u,h){if(!rn)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var M=null;y!==null;)y.alternate!==null&&(M=y),y=y.sibling;M===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function di(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,M=0;if(h)for(var E=u.child;E!==null;)y|=E.lanes|E.childLanes,M|=E.subtreeFlags&14680064,M|=E.flags&14680064,E.return=u,E=E.sibling;else for(E=u.child;E!==null;)y|=E.lanes|E.childLanes,M|=E.subtreeFlags,M|=E.flags,E.return=u,E=E.sibling;return u.subtreeFlags|=M,u.childLanes=y,h}function h4(u,h,y){var M=h.pendingProps;switch(rv(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(h),null;case 1:return An(h.type)&&mo(),di(h),null;case 3:return M=h.stateNode,Jl(),Gt(Nn),Gt(jn),dv(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(u===null||u.child===null)&&(Hu(h)?fs(h):u===null||u.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,jr!==null&&(jv(jr),jr=null))),Qu(u,h),di(h),null;case 5:cv(h),y=ds(Xl.current);var E=h.type;if(u!==null&&h.stateNode!=null)Kf(u,h,E,M,y),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!M){if(h.stateNode===null)throw Error(o(166));return di(h),null}if(u=ds(pr.current),Hu(h)){if(!de)throw Error(o(175));u=H0(h.stateNode,h.type,h.memoizedProps,y,u,h,!zu),h.updateQueue=u,u!==null&&fs(h)}else{var R=ne(E,M,y,u,h);qu(R,h,!1,!1),h.stateNode=R,q(R,E,M,y,u)&&fs(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return di(h),null;case 6:if(u&&h.stateNode!=null)Yf(u,h,u.memoizedProps,M);else{if(typeof M!="string"&&h.stateNode===null)throw Error(o(166));if(u=ds(Xl.current),y=ds(pr.current),Hu(h)){if(!de)throw Error(o(176));if(u=h.stateNode,M=h.memoizedProps,(y=F(u,M,h,!zu))&&(E=Yi,E!==null))switch(R=(E.mode&1)!==0,E.tag){case 3:ut(E.stateNode.containerInfo,u,M,R);break;case 5:bt(E.type,E.memoizedProps,E.stateNode,u,M,R)}y&&fs(h)}else h.stateNode=ye(M,u,y,h)}return di(h),null;case 13:if(Gt(cn),M=h.memoizedState,rn&&qi!==null&&h.mode&1&&!(h.flags&128)){for(u=qi;u;)u=os(u);return Vl(),h.flags|=98560,h}if(M!==null&&M.dehydrated!==null){if(M=Hu(h),u===null){if(!M)throw Error(o(318));if(!de)throw Error(o(344));if(u=h.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));ae(u,h)}else Vl(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return di(h),null}return jr!==null&&(jv(jr),jr=null),h.flags&128?(h.lanes=y,h):(M=M!==null,y=!1,u===null?Hu(h):y=u.memoizedState!==null,M&&!y&&(h.child.flags|=8192,h.mode&1&&(u===null||cn.current&1?zn===0&&(zn=3):Hv())),h.updateQueue!==null&&(h.flags|=4),di(h),null);case 4:return Jl(),Qu(u,h),u===null&&Me(h.stateNode.containerInfo),di(h),null;case 10:return $0(h.type._context),di(h),null;case 17:return An(h.type)&&mo(),di(h),null;case 19:if(Gt(cn),E=h.memoizedState,E===null)return di(h),null;if(M=(h.flags&128)!==0,R=E.rendering,R===null)if(M)$u(E,!1);else{if(zn!==0||u!==null&&u.flags&128)for(u=h.child;u!==null;){if(R=jf(u),R!==null){for(h.flags|=128,$u(E,!1),u=R.updateQueue,u!==null&&(h.updateQueue=u,h.flags|=4),h.subtreeFlags=0,u=y,M=h.child;M!==null;)y=M,E=u,y.flags&=14680066,R=y.alternate,R===null?(y.childLanes=0,y.lanes=E,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=R.childLanes,y.lanes=R.lanes,y.child=R.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=R.memoizedProps,y.memoizedState=R.memoizedState,y.updateQueue=R.updateQueue,y.type=R.type,E=R.dependencies,y.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),M=M.sibling;return pt(cn,cn.current&1|2),h.child}u=u.sibling}E.tail!==null&&Xn()>kv&&(h.flags|=128,M=!0,$u(E,!1),h.lanes=4194304)}else{if(!M)if(u=jf(R),u!==null){if(h.flags|=128,M=!0,u=u.updateQueue,u!==null&&(h.updateQueue=u,h.flags|=4),$u(E,!0),E.tail===null&&E.tailMode==="hidden"&&!R.alternate&&!rn)return di(h),null}else 2*Xn()-E.renderingStartTime>kv&&y!==1073741824&&(h.flags|=128,M=!0,$u(E,!1),h.lanes=4194304);E.isBackwards?(R.sibling=h.child,h.child=R):(u=E.last,u!==null?u.sibling=R:h.child=R,E.last=R)}return E.tail!==null?(h=E.tail,E.rendering=h,E.tail=h.sibling,E.renderingStartTime=Xn(),h.sibling=null,u=cn.current,pt(cn,M?u&1|2:u&1),h):(di(h),null);case 22:case 23:return zv(),M=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==M&&(h.flags|=8192),M&&h.mode&1?$i&1073741824&&(di(h),Ae&&h.subtreeFlags&6&&(h.flags|=8192)):di(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var f4=a.ReactCurrentOwner,Qi=!1;function Mi(u,h,y,M){h.child=u===null?IS(h,null,y,M):Wl(h,u.child,y,M)}function lM(u,h,y,M,E){y=y.render;var R=h.ref;return zl(h,E),M=fv(u,h,y,M,R,E),y=pv(),u!==null&&!Qi?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~E,Bs(u,h,E)):(rn&&y&&iv(h),h.flags|=1,Mi(u,h,M,E),h.child)}function cM(u,h,y,M,E){if(u===null){var R=y.type;return typeof R=="function"&&!Gv(R)&&R.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=R,uM(u,h,R,M,E)):(u=gp(y.type,null,M,h,h.mode,E),u.ref=h.ref,u.return=h,h.child=u)}if(R=u.child,!(u.lanes&E)){var H=R.memoizedProps;if(y=y.compare,y=y!==null?y:Lf,y(H,M)&&u.ref===h.ref)return Bs(u,h,E)}return h.flags|=1,u=wo(R,M),u.ref=h.ref,u.return=h,h.child=u}function uM(u,h,y,M,E){if(u!==null&&Lf(u.memoizedProps,M)&&u.ref===h.ref)if(Qi=!1,(u.lanes&E)!==0)u.flags&131072&&(Qi=!0);else return h.lanes=u.lanes,Bs(u,h,E);return Av(u,h,y,M,E)}function dM(u,h,y){var M=h.pendingProps,E=M.children,R=u!==null?u.memoizedState:null;if(M.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},pt(Yl,$i),$i|=y;else if(y&1073741824)h.memoizedState={baseLanes:0,cachePool:null},M=R!==null?R.baseLanes:y,pt(Yl,$i),$i|=M;else return u=R!==null?R.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null},h.updateQueue=null,pt(Yl,$i),$i|=u,null;else R!==null?(M=R.baseLanes|y,h.memoizedState=null):M=y,pt(Yl,$i),$i|=M;return Mi(u,h,E,y),h.child}function hM(u,h){var y=h.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function Av(u,h,y,M,E){var R=An(y)?Fr:jn.current;return R=yn(h,R),zl(h,E),y=fv(u,h,y,M,R,E),M=pv(),u!==null&&!Qi?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~E,Bs(u,h,E)):(rn&&M&&iv(h),h.flags|=1,Mi(u,h,y,E),h.child)}function fM(u,h,y,M,E){if(An(y)){var R=!0;Ul(h)}else R=!1;if(zl(h,E),h.stateNode===null)u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2),CS(h,y,M),nv(h,y,M,E),M=!0;else if(u===null){var H=h.stateNode,$=h.memoizedProps;H.props=$;var fe=H.context,Ne=y.contextType;typeof Ne=="object"&&Ne!==null?Ne=dr(Ne):(Ne=An(y)?Fr:jn.current,Ne=yn(h,Ne));var Ye=y.getDerivedStateFromProps,vt=typeof Ye=="function"||typeof H.getSnapshotBeforeUpdate=="function";vt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||($!==M||fe!==Ne)&&TS(h,H,M,Ne),go=!1;var st=h.memoizedState;H.state=st,If(h,M,H,E),fe=h.memoizedState,$!==M||st!==fe||Nn.current||go?(typeof Ye=="function"&&(tv(h,y,Ye,M),fe=h.memoizedState),($=go||ES(h,y,$,M,st,fe,Ne))?(vt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(h.flags|=4194308)):(typeof H.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=M,h.memoizedState=fe),H.props=M,H.state=fe,H.context=Ne,M=$):(typeof H.componentDidMount=="function"&&(h.flags|=4194308),M=!1)}else{H=h.stateNode,wS(u,h),$=h.memoizedProps,Ne=h.type===h.elementType?$:Ur(h.type,$),H.props=Ne,vt=h.pendingProps,st=H.context,fe=y.contextType,typeof fe=="object"&&fe!==null?fe=dr(fe):(fe=An(y)?Fr:jn.current,fe=yn(h,fe));var Yt=y.getDerivedStateFromProps;(Ye=typeof Yt=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||($!==vt||st!==fe)&&TS(h,H,M,fe),go=!1,st=h.memoizedState,H.state=st,If(h,M,H,E);var Ze=h.memoizedState;$!==vt||st!==Ze||Nn.current||go?(typeof Yt=="function"&&(tv(h,y,Yt,M),Ze=h.memoizedState),(Ne=go||ES(h,y,Ne,M,st,Ze,fe)||!1)?(Ye||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(M,Ze,fe),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(M,Ze,fe)),typeof H.componentDidUpdate=="function"&&(h.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof H.componentDidUpdate!="function"||$===u.memoizedProps&&st===u.memoizedState||(h.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||$===u.memoizedProps&&st===u.memoizedState||(h.flags|=1024),h.memoizedProps=M,h.memoizedState=Ze),H.props=M,H.state=Ze,H.context=fe,M=Ne):(typeof H.componentDidUpdate!="function"||$===u.memoizedProps&&st===u.memoizedState||(h.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||$===u.memoizedProps&&st===u.memoizedState||(h.flags|=1024),M=!1)}return _v(u,h,y,M,R,E)}function _v(u,h,y,M,E,R){hM(u,h);var H=(h.flags&128)!==0;if(!M&&!H)return E&&Ou(h,y,!1),Bs(u,h,R);M=h.stateNode,f4.current=h;var $=H&&typeof y.getDerivedStateFromError!="function"?null:M.render();return h.flags|=1,u!==null&&H?(h.child=Wl(h,u.child,null,R),h.child=Wl(h,null,$,R)):Mi(u,h,$,R),h.memoizedState=M.state,E&&Ou(h,y,!0),h.child}function pM(u){var h=u.stateNode;h.pendingContext?li(u,h.pendingContext,h.pendingContext!==h.context):h.context&&li(u,h.context,!1),lv(u,h.containerInfo)}function mM(u,h,y,M,E){return Vl(),av(E),h.flags|=256,Mi(u,h,y,M),h.child}var qf={dehydrated:null,treeContext:null,retryLane:0};function Qf(u){return{baseLanes:u,cachePool:null}}function gM(u,h,y){var M=h.pendingProps,E=cn.current,R=!1,H=(h.flags&128)!==0,$;if(($=H)||($=u!==null&&u.memoizedState===null?!1:(E&2)!==0),$?(R=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(E|=1),pt(cn,E&1),u===null)return ov(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(h.mode&1?po(u)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(E=M.children,u=M.fallback,R?(M=h.mode,R=h.child,E={mode:"hidden",children:E},!(M&1)&&R!==null?(R.childLanes=0,R.pendingProps=E):R=vp(E,M,0,null),u=Ra(u,M,y,null),R.return=h,u.return=h,R.sibling=u,h.child=R,h.child.memoizedState=Qf(y),h.memoizedState=qf,u):wv(h,E));if(E=u.memoizedState,E!==null){if($=E.dehydrated,$!==null){if(H)return h.flags&256?(h.flags&=-257,$f(u,h,y,Error(o(422)))):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(R=M.fallback,E=h.mode,M=vp({mode:"visible",children:M.children},E,0,null),R=Ra(R,E,y,null),R.flags|=2,M.return=h,R.return=h,M.sibling=R,h.child=M,h.mode&1&&Wl(h,u.child,null,y),h.child.memoizedState=Qf(y),h.memoizedState=qf,R);if(!(h.mode&1))h=$f(u,h,y,null);else if(po($))h=$f(u,h,y,Error(o(419)));else if(M=(y&u.childLanes)!==0,Qi||M){if(M=Bn,M!==null){switch(y&-y){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}M=R&(M.suspendedLanes|y)?0:R,M!==0&&M!==E.retryLane&&(E.retryLane=M,gr(u,M,-1))}Hv(),h=$f(u,h,y,Error(o(421)))}else Sf($)?(h.flags|=128,h.child=u.child,h=E4.bind(null,u),Mf($,h),h=null):(y=E.treeContext,de&&(qi=z0($),Yi=h,rn=!0,jr=null,zu=!1,y!==null&&(hr[fr++]=Ps,hr[fr++]=Ls,hr[fr++]=_a,Ps=y.id,Ls=y.overflow,_a=h)),h=wv(h,h.pendingProps.children),h.flags|=4096);return h}return R?(M=xM(u,h,M.children,M.fallback,y),R=h.child,E=u.child.memoizedState,R.memoizedState=E===null?Qf(y):{baseLanes:E.baseLanes|y,cachePool:null},R.childLanes=u.childLanes&~y,h.memoizedState=qf,M):(y=vM(u,h,M.children,y),h.memoizedState=null,y)}return R?(M=xM(u,h,M.children,M.fallback,y),R=h.child,E=u.child.memoizedState,R.memoizedState=E===null?Qf(y):{baseLanes:E.baseLanes|y,cachePool:null},R.childLanes=u.childLanes&~y,h.memoizedState=qf,M):(y=vM(u,h,M.children,y),h.memoizedState=null,y)}function wv(u,h){return h=vp({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function vM(u,h,y,M){var E=u.child;return u=E.sibling,y=wo(E,{mode:"visible",children:y}),!(h.mode&1)&&(y.lanes=M),y.return=h,y.sibling=null,u!==null&&(M=h.deletions,M===null?(h.deletions=[u],h.flags|=16):M.push(u)),h.child=y}function xM(u,h,y,M,E){var R=h.mode;u=u.child;var H=u.sibling,$={mode:"hidden",children:y};return!(R&1)&&h.child!==u?(y=h.child,y.childLanes=0,y.pendingProps=$,h.deletions=null):(y=wo(u,$),y.subtreeFlags=u.subtreeFlags&14680064),H!==null?M=wo(H,M):(M=Ra(M,R,E,null),M.flags|=2),M.return=h,y.return=h,y.sibling=M,h.child=y,M}function $f(u,h,y,M){return M!==null&&av(M),Wl(h,u.child,null,y),u=wv(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function yM(u,h,y){u.lanes|=h;var M=u.alternate;M!==null&&(M.lanes|=h),Z0(u.return,h,y)}function Sv(u,h,y,M,E){var R=u.memoizedState;R===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:M,tail:y,tailMode:E}:(R.isBackwards=h,R.rendering=null,R.renderingStartTime=0,R.last=M,R.tail=y,R.tailMode=E)}function AM(u,h,y){var M=h.pendingProps,E=M.revealOrder,R=M.tail;if(Mi(u,h,M.children,y),M=cn.current,M&2)M=M&1|2,h.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&yM(u,y,h);else if(u.tag===19)yM(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}if(pt(cn,M),!(h.mode&1))h.memoizedState=null;else switch(E){case"forwards":for(y=h.child,E=null;y!==null;)u=y.alternate,u!==null&&jf(u)===null&&(E=y),y=y.sibling;y=E,y===null?(E=h.child,h.child=null):(E=y.sibling,y.sibling=null),Sv(h,!1,E,y,R);break;case"backwards":for(y=null,E=h.child,h.child=null;E!==null;){if(u=E.alternate,u!==null&&jf(u)===null){h.child=E;break}u=E.sibling,E.sibling=y,y=E,E=u}Sv(h,!0,y,null,R);break;case"together":Sv(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Bs(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),ql|=h.lanes,!(y&h.childLanes))return null;if(u!==null&&h.child!==u.child)throw Error(o(153));if(h.child!==null){for(u=h.child,y=wo(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=wo(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function p4(u,h,y){switch(h.tag){case 3:pM(h),Vl();break;case 5:kS(h);break;case 1:An(h.type)&&Ul(h);break;case 4:lv(h,h.stateNode.containerInfo);break;case 10:_S(h,h.type._context,h.memoizedProps.value);break;case 13:var M=h.memoizedState;if(M!==null)return M.dehydrated!==null?(pt(cn,cn.current&1),h.flags|=128,null):y&h.child.childLanes?gM(u,h,y):(pt(cn,cn.current&1),u=Bs(u,h,y),u!==null?u.sibling:null);pt(cn,cn.current&1);break;case 19:if(M=(y&h.childLanes)!==0,u.flags&128){if(M)return AM(u,h,y);h.flags|=128}var E=h.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),pt(cn,cn.current),M)break;return null;case 22:case 23:return h.lanes=0,dM(u,h,y)}return Bs(u,h,y)}function m4(u,h){switch(rv(h),h.tag){case 1:return An(h.type)&&mo(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Jl(),Gt(Nn),Gt(jn),dv(),u=h.flags,u&65536&&!(u&128)?(h.flags=u&-65537|128,h):null;case 5:return cv(h),null;case 13:if(Gt(cn),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Vl()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return Gt(cn),null;case 4:return Jl(),null;case 10:return $0(h.type._context),null;case 22:case 23:return zv(),null;case 24:return null;default:return null}}var Zf=!1,Ma=!1,g4=typeof WeakSet=="function"?WeakSet:Set,ze=null;function ep(u,h){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(M){Fi(u,h,M)}else y.current=null}function Mv(u,h,y){try{y()}catch(M){Fi(u,h,M)}}var _M=!1;function v4(u,h){for(J(u.containerInfo),ze=h;ze!==null;)if(u=ze,h=u.child,(u.subtreeFlags&1028)!==0&&h!==null)h.return=u,ze=h;else for(;ze!==null;){u=ze;try{var y=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var M=y.memoizedProps,E=y.memoizedState,R=u.stateNode,H=R.getSnapshotBeforeUpdate(u.elementType===u.type?M:Ur(u.type,M),E);R.__reactInternalSnapshotBeforeUpdate=H}break;case 3:Ae&&Le(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch($){Fi(u,u.return,$)}if(h=u.sibling,h!==null){h.return=u.return,ze=h;break}ze=u.return}return y=_M,_M=!1,y}function ba(u,h,y){var M=h.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var E=M=M.next;do{if((E.tag&u)===u){var R=E.destroy;E.destroy=void 0,R!==void 0&&Mv(h,y,R)}E=E.next}while(E!==M)}}function Zu(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&u)===u){var M=y.create;y.destroy=M()}y=y.next}while(y!==h)}}function bv(u){var h=u.ref;if(h!==null){var y=u.stateNode;switch(u.tag){case 5:u=se(y);break;default:u=y}typeof h=="function"?h(u):h.current=u}}function wM(u,h,y){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(Rf,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(u=h.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var M=u=u.next;do{var E=M,R=E.destroy;E=E.tag,R!==void 0&&(E&2||E&4)&&Mv(h,y,R),M=M.next}while(M!==u)}break;case 1:if(ep(h,y),u=h.stateNode,typeof u.componentWillUnmount=="function")try{u.props=h.memoizedProps,u.state=h.memoizedState,u.componentWillUnmount()}catch(H){Fi(h,y,H)}break;case 5:ep(h,y);break;case 4:Ae?TM(u,h,y):U&&U&&(h=h.stateNode.containerInfo,y=Tt(h),oi(h,y))}}function SM(u,h,y){for(var M=h;;)if(wM(u,M,y),M.child===null||Ae&&M.tag===4){if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function MM(u){var h=u.alternate;h!==null&&(u.alternate=null,MM(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&We(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function bM(u){return u.tag===5||u.tag===3||u.tag===4}function EM(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||bM(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function CM(u){if(Ae){e:{for(var h=u.return;h!==null;){if(bM(h))break e;h=h.return}throw Error(o(160))}var y=h;switch(y.tag){case 5:h=y.stateNode,y.flags&32&&(_e(h),y.flags&=-33),y=EM(u),Cv(u,y,h);break;case 3:case 4:h=y.stateNode.containerInfo,y=EM(u),Ev(u,y,h);break;default:throw Error(o(161))}}}function Ev(u,h,y){var M=u.tag;if(M===5||M===6)u=u.stateNode,h?it(y,u,h):Qe(y,u);else if(M!==4&&(u=u.child,u!==null))for(Ev(u,h,y),u=u.sibling;u!==null;)Ev(u,h,y),u=u.sibling}function Cv(u,h,y){var M=u.tag;if(M===5||M===6)u=u.stateNode,h?nt(y,u,h):De(y,u);else if(M!==4&&(u=u.child,u!==null))for(Cv(u,h,y),u=u.sibling;u!==null;)Cv(u,h,y),u=u.sibling}function TM(u,h,y){for(var M=h,E=!1,R,H;;){if(!E){E=M.return;e:for(;;){if(E===null)throw Error(o(160));switch(R=E.stateNode,E.tag){case 5:H=!1;break e;case 3:R=R.containerInfo,H=!0;break e;case 4:R=R.containerInfo,H=!0;break e}E=E.return}E=!0}if(M.tag===5||M.tag===6)SM(u,M,y),H?W(R,M.stateNode):Xe(R,M.stateNode);else if(M.tag===18)H?rt(R,M.stateNode):Ke(R,M.stateNode);else if(M.tag===4){if(M.child!==null){R=M.stateNode.containerInfo,H=!0,M.child.return=M,M=M.child;continue}}else if(wM(u,M,y),M.child!==null){M.child.return=M,M=M.child;continue}if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return,M.tag===4&&(E=!1)}M.sibling.return=M.return,M=M.sibling}}function Tv(u,h){if(Ae){switch(h.tag){case 0:case 11:case 14:case 15:ba(3,h,h.return),Zu(3,h),ba(5,h,h.return);return;case 1:return;case 5:var y=h.stateNode;if(y!=null){var M=h.memoizedProps;u=u!==null?u.memoizedProps:M;var E=h.type,R=h.updateQueue;h.updateQueue=null,R!==null&&tt(y,R,E,u,M,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));y=h.memoizedProps,Ie(h.stateNode,u!==null?u.memoizedProps:y,y);return;case 3:de&&u!==null&&u.memoizedState.isDehydrated&&re(h.stateNode.containerInfo);return;case 12:return;case 13:tp(h);return;case 19:tp(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:ba(3,h,h.return),Zu(3,h),ba(5,h,h.return);return;case 12:return;case 13:tp(h);return;case 19:tp(h);return;case 3:de&&u!==null&&u.memoizedState.isDehydrated&&re(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(U){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,oi(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function tp(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new g4),h.forEach(function(M){var E=C4.bind(null,u,M);y.has(M)||(y.add(M),M.then(E,E))})}}function x4(u,h){for(ze=h;ze!==null;){h=ze;var y=h.deletions;if(y!==null)for(var M=0;M<y.length;M++){var E=y[M];try{var R=u;Ae?TM(R,E,h):SM(R,E,h);var H=E.alternate;H!==null&&(H.return=null),E.return=null}catch($e){Fi(E,h,$e)}}if(y=h.child,h.subtreeFlags&12854&&y!==null)y.return=h,ze=y;else for(;ze!==null;){h=ze;try{var $=h.flags;if($&32&&Ae&&_e(h.stateNode),$&512){var fe=h.alternate;if(fe!==null){var Ne=fe.ref;Ne!==null&&(typeof Ne=="function"?Ne(null):Ne.current=null)}}if($&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var Ye=h.alternate;(Ye===null||Ye.memoizedState===null)&&(Iv=Xn())}break;case 22:var vt=h.memoizedState!==null,st=h.alternate,Yt=st!==null&&st.memoizedState!==null;if(y=h,Ae){e:if(M=y,E=vt,R=null,Ae)for(var Ze=M;;){if(Ze.tag===5){if(R===null){R=Ze;var hi=Ze.stateNode;E?Oe(hi):Te(Ze.stateNode,Ze.memoizedProps)}}else if(Ze.tag===6){if(R===null){var xr=Ze.stateNode;E?X(xr):le(xr,Ze.memoizedProps)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===M)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===M)break;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===M)break e;R===Ze&&(R=null),Ze=Ze.return}R===Ze&&(R=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}if(vt&&!Yt&&y.mode&1){ze=y;for(var oe=y.child;oe!==null;){for(y=ze=oe;ze!==null;){M=ze;var te=M.child;switch(M.tag){case 0:case 11:case 14:case 15:ba(4,M,M.return);break;case 1:ep(M,M.return);var ce=M.stateNode;if(typeof ce.componentWillUnmount=="function"){var Ve=M.return;try{ce.props=M.memoizedProps,ce.state=M.memoizedState,ce.componentWillUnmount()}catch($e){Fi(M,Ve,$e)}}break;case 5:ep(M,M.return);break;case 22:if(M.memoizedState!==null){LM(y);continue}}te!==null?(te.return=M,ze=te):LM(y)}oe=oe.sibling}}}switch($&4102){case 2:CM(h),h.flags&=-3;break;case 6:CM(h),h.flags&=-3,Tv(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,Tv(h.alternate,h);break;case 4:Tv(h.alternate,h)}}catch($e){Fi(h,h.return,$e)}if(y=h.sibling,y!==null){y.return=h.return,ze=y;break}ze=h.return}}}function y4(u,h,y){ze=u,RM(u)}function RM(u,h,y){for(var M=(u.mode&1)!==0;ze!==null;){var E=ze,R=E.child;if(E.tag===22&&M){var H=E.memoizedState!==null||Zf;if(!H){var $=E.alternate,fe=$!==null&&$.memoizedState!==null||Ma;$=Zf;var Ne=Ma;if(Zf=H,(Ma=fe)&&!Ne)for(ze=E;ze!==null;)H=ze,fe=H.child,H.tag===22&&H.memoizedState!==null?NM(E):fe!==null?(fe.return=H,ze=fe):NM(E);for(;R!==null;)ze=R,RM(R),R=R.sibling;ze=E,Zf=$,Ma=Ne}PM(u)}else E.subtreeFlags&8772&&R!==null?(R.return=E,ze=R):PM(u)}}function PM(u){for(;ze!==null;){var h=ze;if(h.flags&8772){var y=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Ma||Zu(5,h);break;case 1:var M=h.stateNode;if(h.flags&4&&!Ma)if(y===null)M.componentDidMount();else{var E=h.elementType===h.type?y.memoizedProps:Ur(h.type,y.memoizedProps);M.componentDidUpdate(E,y.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var R=h.updateQueue;R!==null&&MS(h,R,M);break;case 3:var H=h.updateQueue;if(H!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=se(h.child.stateNode);break;case 1:y=h.child.stateNode}MS(h,H,y)}break;case 5:var $=h.stateNode;y===null&&h.flags&4&&me($,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(de&&h.memoizedState===null){var fe=h.alternate;if(fe!==null){var Ne=fe.memoizedState;if(Ne!==null){var Ye=Ne.dehydrated;Ye!==null&&xe(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ma||h.flags&512&&bv(h)}catch(vt){Fi(h,h.return,vt)}}if(h===u){ze=null;break}if(y=h.sibling,y!==null){y.return=h.return,ze=y;break}ze=h.return}}function LM(u){for(;ze!==null;){var h=ze;if(h===u){ze=null;break}var y=h.sibling;if(y!==null){y.return=h.return,ze=y;break}ze=h.return}}function NM(u){for(;ze!==null;){var h=ze;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{Zu(4,h)}catch(fe){Fi(h,y,fe)}break;case 1:var M=h.stateNode;if(typeof M.componentDidMount=="function"){var E=h.return;try{M.componentDidMount()}catch(fe){Fi(h,E,fe)}}var R=h.return;try{bv(h)}catch(fe){Fi(h,R,fe)}break;case 5:var H=h.return;try{bv(h)}catch(fe){Fi(h,H,fe)}}}catch(fe){Fi(h,h.return,fe)}if(h===u){ze=null;break}var $=h.sibling;if($!==null){$.return=h.return,ze=$;break}ze=h.return}}var np=0,ip=1,rp=2,sp=3,op=4;if(typeof Symbol=="function"&&Symbol.for){var ed=Symbol.for;np=ed("selector.component"),ip=ed("selector.has_pseudo_class"),rp=ed("selector.role"),sp=ed("selector.test_id"),op=ed("selector.text")}function Rv(u){var h=pe(u);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(u=At(u),u===null)throw Error(o(362));return u.stateNode.current}function Pv(u,h){switch(h.$$typeof){case np:if(u.type===h.value)return!0;break;case ip:e:{h=h.value,u=[u,0];for(var y=0;y<u.length;){var M=u[y++],E=u[y++],R=h[E];if(M.tag!==5||!I(M)){for(;R!=null&&Pv(M,R);)E++,R=h[E];if(E===h.length){h=!0;break e}else for(M=M.child;M!==null;)u.push(M,E),M=M.sibling}}h=!1}return h;case rp:if(u.tag===5&&he(u.stateNode,h.value))return!0;break;case op:if((u.tag===5||u.tag===6)&&(u=G(u),u!==null&&0<=u.indexOf(h.value)))return!0;break;case sp:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Lv(u){switch(u.$$typeof){case np:return"<"+(N(u.value)||"Unknown")+">";case ip:return":has("+(Lv(u)||"")+")";case rp:return'[role="'+u.value+'"]';case op:return'"'+u.value+'"';case sp:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function BM(u,h){var y=[];u=[u,0];for(var M=0;M<u.length;){var E=u[M++],R=u[M++],H=h[R];if(E.tag!==5||!I(E)){for(;H!=null&&Pv(E,H);)R++,H=h[R];if(R===h.length)y.push(E);else for(E=E.child;E!==null;)u.push(E,R),E=E.sibling}}return y}function Nv(u,h){if(!et)throw Error(o(363));u=Rv(u),u=BM(u,h),h=[],u=Array.from(u);for(var y=0;y<u.length;){var M=u[y++];if(M.tag===5)I(M)||h.push(M.stateNode);else for(M=M.child;M!==null;)u.push(M),M=M.sibling}return h}var A4=Math.ceil,ap=a.ReactCurrentDispatcher,Bv=a.ReactCurrentOwner,Tn=a.ReactCurrentBatchConfig,Et=0,Bn=null,Dn=null,ei=0,$i=0,Yl=gt(0),zn=0,td=null,ql=0,lp=0,Dv=0,nd=null,Ii=null,Iv=0,kv=1/0;function Ql(){kv=Xn()+500}var cp=!1,Fv=null,xo=null,up=!1,yo=null,dp=0,id=0,Ov=null,hp=-1,fp=0;function bi(){return Et&6?Xn():hp!==-1?hp:hp=Xn()}function Ao(u){return u.mode&1?Et&2&&ei!==0?ei&-ei:n4.transition!==null?(fp===0&&(u=Ef,Ef<<=1,!(Ef&4194240)&&(Ef=64),fp=u),fp):(u=Ft,u!==0?u:Se()):1}function gr(u,h,y){if(50<id)throw id=0,Ov=null,Error(o(185));var M=pp(u,h);return M===null?null:(ju(M,h,y),(!(Et&2)||M!==Bn)&&(M===Bn&&(!(Et&2)&&(lp|=h),zn===4&&_o(M,ei)),ki(M,y),h===1&&Et===0&&!(u.mode&1)&&(Ql(),Pf&&cs())),M)}function pp(u,h){u.lanes|=h;var y=u.alternate;for(y!==null&&(y.lanes|=h),y=u,u=u.return;u!==null;)u.childLanes|=h,y=u.alternate,y!==null&&(y.childLanes|=h),y=u,u=u.return;return y.tag===3?y.stateNode:null}function ki(u,h){var y=u.callbackNode;JD(u,h);var M=Tf(u,u===Bn?ei:0);if(M===0)y!==null&&yS(y),u.callbackNode=null,u.callbackPriority=0;else if(h=M&-M,u.callbackPriority!==h){if(y!=null&&yS(y),h===1)u.tag===0?t4(IM.bind(null,u)):AS(IM.bind(null,u)),Ue?Ge(function(){Et===0&&cs()}):X0(J0,cs),y=null;else{switch(xS(M)){case 1:y=J0;break;case 4:y=QD;break;case 16:y=K0;break;case 536870912:y=$D;break;default:y=K0}y=VM(y,DM.bind(null,u))}u.callbackPriority=h,u.callbackNode=y}}function DM(u,h){if(hp=-1,fp=0,Et&6)throw Error(o(327));var y=u.callbackNode;if(Ta()&&u.callbackNode!==y)return null;var M=Tf(u,u===Bn?ei:0);if(M===0)return null;if(M&30||M&u.expiredLanes||h)h=mp(u,M);else{h=M;var E=Et;Et|=2;var R=OM();(Bn!==u||ei!==h)&&(Ql(),Ea(u,h));do try{S4();break}catch($){FM(u,$)}while(1);Q0(),ap.current=R,Et=E,Dn!==null?h=0:(Bn=null,ei=0,h=zn)}if(h!==0){if(h===2&&(E=G0(u),E!==0&&(M=E,h=Uv(u,E))),h===1)throw y=td,Ea(u,0),_o(u,M),ki(u,Xn()),y;if(h===6)_o(u,M);else{if(E=u.current.alternate,!(M&30)&&!_4(E)&&(h=mp(u,M),h===2&&(R=G0(u),R!==0&&(M=R,h=Uv(u,R))),h===1))throw y=td,Ea(u,0),_o(u,M),ki(u,Xn()),y;switch(u.finishedWork=E,u.finishedLanes=M,h){case 0:case 1:throw Error(o(345));case 2:Ca(u,Ii);break;case 3:if(_o(u,M),(M&130023424)===M&&(h=Iv+500-Xn(),10<h)){if(Tf(u,0)!==0)break;if(E=u.suspendedLanes,(E&M)!==M){bi(),u.pingedLanes|=u.suspendedLanes&E;break}u.timeoutHandle=we(Ca.bind(null,u,Ii),h);break}Ca(u,Ii);break;case 4:if(_o(u,M),(M&4194240)===M)break;for(h=u.eventTimes,E=-1;0<M;){var H=31-Or(M);R=1<<H,H=h[H],H>E&&(E=H),M&=~R}if(M=E,M=Xn()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*A4(M/1960))-M,10<M){u.timeoutHandle=we(Ca.bind(null,u,Ii),M);break}Ca(u,Ii);break;case 5:Ca(u,Ii);break;default:throw Error(o(329))}}}return ki(u,Xn()),u.callbackNode===y?DM.bind(null,u):null}function Uv(u,h){var y=nd;return u.current.memoizedState.isDehydrated&&(Ea(u,h).flags|=256),u=mp(u,h),u!==2&&(h=Ii,Ii=y,h!==null&&jv(h)),u}function jv(u){Ii===null?Ii=u:Ii.push.apply(Ii,u)}function _4(u){for(var h=u;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var M=0;M<y.length;M++){var E=y[M],R=E.getSnapshot;E=E.value;try{if(!ls(R(),E))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function _o(u,h){for(h&=~Dv,h&=~lp,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var y=31-Or(h),M=1<<y;u[y]=-1,h&=~M}}function IM(u){if(Et&6)throw Error(o(327));Ta();var h=Tf(u,0);if(!(h&1))return ki(u,Xn()),null;var y=mp(u,h);if(u.tag!==0&&y===2){var M=G0(u);M!==0&&(h=M,y=Uv(u,M))}if(y===1)throw y=td,Ea(u,0),_o(u,h),ki(u,Xn()),y;if(y===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,Ca(u,Ii),ki(u,Xn()),null}function kM(u){yo!==null&&yo.tag===0&&!(Et&6)&&Ta();var h=Et;Et|=1;var y=Tn.transition,M=Ft;try{if(Tn.transition=null,Ft=1,u)return u()}finally{Ft=M,Tn.transition=y,Et=h,!(Et&6)&&cs()}}function zv(){$i=Yl.current,Gt(Yl)}function Ea(u,h){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==Ee&&(u.timeoutHandle=Ee,Ce(y)),Dn!==null)for(y=Dn.return;y!==null;){var M=y;switch(rv(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&mo();break;case 3:Jl(),Gt(Nn),Gt(jn),dv();break;case 5:cv(M);break;case 4:Jl();break;case 13:Gt(cn);break;case 19:Gt(cn);break;case 10:$0(M.type._context);break;case 22:case 23:zv()}y=y.return}if(Bn=u,Dn=u=wo(u.current,null),ei=$i=h,zn=0,td=null,Dv=lp=ql=0,Ii=nd=null,us!==null){for(h=0;h<us.length;h++)if(y=us[h],M=y.interleaved,M!==null){y.interleaved=null;var E=M.next,R=y.pending;if(R!==null){var H=R.next;R.next=E,M.next=H}y.pending=M}us=null}return u}function FM(u,h){do{var y=Dn;try{if(Q0(),zf.current=Jf,Hf){for(var M=_n.memoizedState;M!==null;){var E=M.queue;E!==null&&(E.pending=null),M=M.next}Hf=!1}if(Kl=0,Jn=ci=_n=null,Xu=!1,Ju=0,Bv.current=null,y===null||y.return===null){zn=1,td=h,Dn=null;break}e:{var R=u,H=y.return,$=y,fe=h;if(h=ei,$.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ne=fe,Ye=$,vt=Ye.tag;if(!(Ye.mode&1)&&(vt===0||vt===11||vt===15)){var st=Ye.alternate;st?(Ye.updateQueue=st.updateQueue,Ye.memoizedState=st.memoizedState,Ye.lanes=st.lanes):(Ye.updateQueue=null,Ye.memoizedState=null)}var Yt=rM(H);if(Yt!==null){Yt.flags&=-257,sM(Yt,H,$,R,h),Yt.mode&1&&iM(R,Ne,h),h=Yt,fe=Ne;var Ze=h.updateQueue;if(Ze===null){var hi=new Set;hi.add(fe),h.updateQueue=hi}else Ze.add(fe);break e}else{if(!(h&1)){iM(R,Ne,h),Hv();break e}fe=Error(o(426))}}else if(rn&&$.mode&1){var xr=rM(H);if(xr!==null){!(xr.flags&65536)&&(xr.flags|=256),sM(xr,H,$,R,h),av(fe);break e}}R=fe,zn!==4&&(zn=2),nd===null?nd=[R]:nd.push(R),fe=xv(fe,$),$=H;do{switch($.tag){case 3:$.flags|=65536,h&=-h,$.lanes|=h;var oe=tM($,fe,h);SS($,oe);break e;case 1:R=fe;var te=$.type,ce=$.stateNode;if(!($.flags&128)&&(typeof te.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(xo===null||!xo.has(ce)))){$.flags|=65536,h&=-h,$.lanes|=h;var Ve=nM($,R,h);SS($,Ve);break e}}$=$.return}while($!==null)}jM(y)}catch($e){h=$e,Dn===y&&y!==null&&(Dn=y=y.return);continue}break}while(1)}function OM(){var u=ap.current;return ap.current=Jf,u===null?Jf:u}function Hv(){(zn===0||zn===3||zn===2)&&(zn=4),Bn===null||!(ql&268435455)&&!(lp&268435455)||_o(Bn,ei)}function mp(u,h){var y=Et;Et|=2;var M=OM();Bn===u&&ei===h||Ea(u,h);do try{w4();break}catch(E){FM(u,E)}while(1);if(Q0(),Et=y,ap.current=M,Dn!==null)throw Error(o(261));return Bn=null,ei=0,zn}function w4(){for(;Dn!==null;)UM(Dn)}function S4(){for(;Dn!==null&&!YD();)UM(Dn)}function UM(u){var h=GM(u.alternate,u,$i);u.memoizedProps=u.pendingProps,h===null?jM(u):Dn=h,Bv.current=null}function jM(u){var h=u;do{var y=h.alternate;if(u=h.return,h.flags&32768){if(y=m4(y,h),y!==null){y.flags&=32767,Dn=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{zn=6,Dn=null;return}}else if(y=h4(y,h,$i),y!==null){Dn=y;return}if(h=h.sibling,h!==null){Dn=h;return}Dn=h=u}while(h!==null);zn===0&&(zn=5)}function Ca(u,h){var y=Ft,M=Tn.transition;try{Tn.transition=null,Ft=1,M4(u,h,y)}finally{Tn.transition=M,Ft=y}return null}function M4(u,h,y){do Ta();while(yo!==null);if(Et&6)throw Error(o(327));var M=u.finishedWork,E=u.finishedLanes;if(M===null)return null;if(u.finishedWork=null,u.finishedLanes=0,M===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var R=M.lanes|M.childLanes;if(KD(u,R),u===Bn&&(Dn=Bn=null,ei=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||up||(up=!0,VM(K0,function(){return Ta(),null})),R=(M.flags&15990)!==0,M.subtreeFlags&15990||R){R=Tn.transition,Tn.transition=null;var H=Ft;Ft=1;var $=Et;Et|=4,Bv.current=null,v4(u,M),x4(u,M),V(u.containerInfo),u.current=M,y4(M),qD(),Et=$,Ft=H,Tn.transition=R}else u.current=M;if(up&&(up=!1,yo=u,dp=E),R=u.pendingLanes,R===0&&(xo=null),ZD(M.stateNode),ki(u,Xn()),h!==null)for(y=u.onRecoverableError,M=0;M<h.length;M++)y(h[M]);if(cp)throw cp=!1,u=Fv,Fv=null,u;return dp&1&&u.tag!==0&&Ta(),R=u.pendingLanes,R&1?u===Ov?id++:(id=0,Ov=u):id=0,cs(),null}function Ta(){if(yo!==null){var u=xS(dp),h=Tn.transition,y=Ft;try{if(Tn.transition=null,Ft=16>u?16:u,yo===null)var M=!1;else{if(u=yo,yo=null,dp=0,Et&6)throw Error(o(331));var E=Et;for(Et|=4,ze=u.current;ze!==null;){var R=ze,H=R.child;if(ze.flags&16){var $=R.deletions;if($!==null){for(var fe=0;fe<$.length;fe++){var Ne=$[fe];for(ze=Ne;ze!==null;){var Ye=ze;switch(Ye.tag){case 0:case 11:case 15:ba(8,Ye,R)}var vt=Ye.child;if(vt!==null)vt.return=Ye,ze=vt;else for(;ze!==null;){Ye=ze;var st=Ye.sibling,Yt=Ye.return;if(MM(Ye),Ye===Ne){ze=null;break}if(st!==null){st.return=Yt,ze=st;break}ze=Yt}}}var Ze=R.alternate;if(Ze!==null){var hi=Ze.child;if(hi!==null){Ze.child=null;do{var xr=hi.sibling;hi.sibling=null,hi=xr}while(hi!==null)}}ze=R}}if(R.subtreeFlags&2064&&H!==null)H.return=R,ze=H;else e:for(;ze!==null;){if(R=ze,R.flags&2048)switch(R.tag){case 0:case 11:case 15:ba(9,R,R.return)}var oe=R.sibling;if(oe!==null){oe.return=R.return,ze=oe;break e}ze=R.return}}var te=u.current;for(ze=te;ze!==null;){H=ze;var ce=H.child;if(H.subtreeFlags&2064&&ce!==null)ce.return=H,ze=ce;else e:for(H=te;ze!==null;){if($=ze,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:Zu(9,$)}}catch($e){Fi($,$.return,$e)}if($===H){ze=null;break e}var Ve=$.sibling;if(Ve!==null){Ve.return=$.return,ze=Ve;break e}ze=$.return}}if(Et=E,cs(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(Rf,u)}catch{}M=!0}return M}finally{Ft=y,Tn.transition=h}}return!1}function zM(u,h,y){h=xv(y,h),h=tM(u,h,1),vo(u,h),h=bi(),u=pp(u,1),u!==null&&(ju(u,1,h),ki(u,h))}function Fi(u,h,y){if(u.tag===3)zM(u,u,y);else for(;h!==null;){if(h.tag===3){zM(h,u,y);break}else if(h.tag===1){var M=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(xo===null||!xo.has(M))){u=xv(y,u),u=nM(h,u,1),vo(h,u),u=bi(),h=pp(h,1),h!==null&&(ju(h,1,u),ki(h,u));break}}h=h.return}}function b4(u,h,y){var M=u.pingCache;M!==null&&M.delete(h),h=bi(),u.pingedLanes|=u.suspendedLanes&y,Bn===u&&(ei&y)===y&&(zn===4||zn===3&&(ei&130023424)===ei&&500>Xn()-Iv?Ea(u,0):Dv|=y),ki(u,h)}function HM(u,h){h===0&&(u.mode&1?(h=Cf,Cf<<=1,!(Cf&130023424)&&(Cf=4194304)):h=1);var y=bi();u=pp(u,h),u!==null&&(ju(u,h,y),ki(u,y))}function E4(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),HM(u,y)}function C4(u,h){var y=0;switch(u.tag){case 13:var M=u.stateNode,E=u.memoizedState;E!==null&&(y=E.retryLane);break;case 19:M=u.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(h),HM(u,y)}var GM;GM=function(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps||Nn.current)Qi=!0;else{if(!(u.lanes&y)&&!(h.flags&128))return Qi=!1,p4(u,h,y);Qi=!!(u.flags&131072)}else Qi=!1,rn&&h.flags&1048576&&RS(h,Of,h.index);switch(h.lanes=0,h.tag){case 2:var M=h.type;u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2),u=h.pendingProps;var E=yn(h,jn.current);zl(h,y),E=fv(null,h,M,u,E,y);var R=pv();return h.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,An(M)?(R=!0,Ul(h)):R=!1,h.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,ev(h),E.updater=kf,h.stateNode=E,E._reactInternals=h,nv(h,M,u,y),h=_v(null,h,M,!0,R,y)):(h.tag=0,rn&&R&&iv(h),Mi(null,h,E,y),h=h.child),h;case 16:M=h.elementType;e:{switch(u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2),u=h.pendingProps,E=M._init,M=E(M._payload),h.type=M,E=h.tag=R4(M),u=Ur(M,u),E){case 0:h=Av(null,h,M,u,y);break e;case 1:h=fM(null,h,M,u,y);break e;case 11:h=lM(null,h,M,u,y);break e;case 14:h=cM(null,h,M,Ur(M.type,u),y);break e}throw Error(o(306,M,""))}return h;case 0:return M=h.type,E=h.pendingProps,E=h.elementType===M?E:Ur(M,E),Av(u,h,M,E,y);case 1:return M=h.type,E=h.pendingProps,E=h.elementType===M?E:Ur(M,E),fM(u,h,M,E,y);case 3:e:{if(pM(h),u===null)throw Error(o(387));M=h.pendingProps,R=h.memoizedState,E=R.element,wS(u,h),If(h,M,null,y);var H=h.memoizedState;if(M=H.element,de&&R.isDehydrated)if(R={element:M,isDehydrated:!1,cache:H.cache,transitions:H.transitions},h.updateQueue.baseState=R,h.memoizedState=R,h.flags&256){E=Error(o(423)),h=mM(u,h,M,y,E);break e}else if(M!==E){E=Error(o(424)),h=mM(u,h,M,y,E);break e}else for(de&&(qi=j0(h.stateNode.containerInfo),Yi=h,rn=!0,jr=null,zu=!1),y=IS(h,null,M,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Vl(),M===E){h=Bs(u,h,y);break e}Mi(u,h,M,y)}h=h.child}return h;case 5:return kS(h),u===null&&ov(h),M=h.type,E=h.pendingProps,R=u!==null?u.memoizedProps:null,H=E.children,ue(M,E)?H=null:R!==null&&ue(M,R)&&(h.flags|=32),hM(u,h),Mi(u,h,H,y),h.child;case 6:return u===null&&ov(h),null;case 13:return gM(u,h,y);case 4:return lv(h,h.stateNode.containerInfo),M=h.pendingProps,u===null?h.child=Wl(h,null,M,y):Mi(u,h,M,y),h.child;case 11:return M=h.type,E=h.pendingProps,E=h.elementType===M?E:Ur(M,E),lM(u,h,M,E,y);case 7:return Mi(u,h,h.pendingProps,y),h.child;case 8:return Mi(u,h,h.pendingProps.children,y),h.child;case 12:return Mi(u,h,h.pendingProps.children,y),h.child;case 10:e:{if(M=h.type._context,E=h.pendingProps,R=h.memoizedProps,H=E.value,_S(h,M,H),R!==null)if(ls(R.value,H)){if(R.children===E.children&&!Nn.current){h=Bs(u,h,y);break e}}else for(R=h.child,R!==null&&(R.return=h);R!==null;){var $=R.dependencies;if($!==null){H=R.child;for(var fe=$.firstContext;fe!==null;){if(fe.context===M){if(R.tag===1){fe=Rs(-1,y&-y),fe.tag=2;var Ne=R.updateQueue;if(Ne!==null){Ne=Ne.shared;var Ye=Ne.pending;Ye===null?fe.next=fe:(fe.next=Ye.next,Ye.next=fe),Ne.pending=fe}}R.lanes|=y,fe=R.alternate,fe!==null&&(fe.lanes|=y),Z0(R.return,y,h),$.lanes|=y;break}fe=fe.next}}else if(R.tag===10)H=R.type===h.type?null:R.child;else if(R.tag===18){if(H=R.return,H===null)throw Error(o(341));H.lanes|=y,$=H.alternate,$!==null&&($.lanes|=y),Z0(H,y,h),H=R.sibling}else H=R.child;if(H!==null)H.return=R;else for(H=R;H!==null;){if(H===h){H=null;break}if(R=H.sibling,R!==null){R.return=H.return,H=R;break}H=H.return}R=H}Mi(u,h,E.children,y),h=h.child}return h;case 9:return E=h.type,M=h.pendingProps.children,zl(h,y),E=dr(E),M=M(E),h.flags|=1,Mi(u,h,M,y),h.child;case 14:return M=h.type,E=Ur(M,h.pendingProps),E=Ur(M.type,E),cM(u,h,M,E,y);case 15:return uM(u,h,h.type,h.pendingProps,y);case 17:return M=h.type,E=h.pendingProps,E=h.elementType===M?E:Ur(M,E),u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,An(M)?(u=!0,Ul(h)):u=!1,zl(h,y),CS(h,M,E),nv(h,M,E,y),_v(null,h,M,!0,u,y);case 19:return AM(u,h,y);case 22:return dM(u,h,y)}throw Error(o(156,h.tag))};function VM(u,h){return X0(u,h)}function T4(u,h,y,M){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(u,h,y,M){return new T4(u,h,y,M)}function Gv(u){return u=u.prototype,!(!u||!u.isReactComponent)}function R4(u){if(typeof u=="function")return Gv(u)?1:0;if(u!=null){if(u=u.$$typeof,u===w)return 11;if(u===S)return 14}return 2}function wo(u,h){var y=u.alternate;return y===null?(y=vr(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function gp(u,h,y,M,E,R){var H=2;if(M=u,typeof u=="function")Gv(u)&&(H=1);else if(typeof u=="string")H=5;else e:switch(u){case d:return Ra(y.children,E,R,h);case f:H=8,E|=8;break;case p:return u=vr(12,y,h,E|2),u.elementType=p,u.lanes=R,u;case A:return u=vr(13,y,h,E),u.elementType=A,u.lanes=R,u;case v:return u=vr(19,y,h,E),u.elementType=v,u.lanes=R,u;case b:return vp(y,E,R,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case g:H=10;break e;case x:H=9;break e;case w:H=11;break e;case S:H=14;break e;case _:H=16,M=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return h=vr(H,y,h,E),h.elementType=u,h.type=M,h.lanes=R,h}function Ra(u,h,y,M){return u=vr(7,u,M,h),u.lanes=y,u}function vp(u,h,y,M){return u=vr(22,u,M,h),u.elementType=b,u.lanes=y,u.stateNode={},u}function Vv(u,h,y){return u=vr(6,u,null,h),u.lanes=y,u}function Wv(u,h,y){return h=vr(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function P4(u,h,y,M,E){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ee,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=V0(0),this.expirationTimes=V0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V0(0),this.identifierPrefix=M,this.onRecoverableError=E,de&&(this.mutableSourceEagerHydrationData=null)}function WM(u,h,y,M,E,R,H,$,fe){return u=new P4(u,h,y,$,fe),h===1?(h=1,R===!0&&(h|=8)):h=0,R=vr(3,null,null,h),u.current=R,R.stateNode=u,R.memoizedState={element:M,isDehydrated:y,cache:null,transitions:null},ev(R),u}function XM(u){if(!u)return ai;u=u._reactInternals;e:{if(P(u)!==u||u.tag!==1)throw Error(o(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(An(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(u.tag===1){var y=u.type;if(An(y))return Ol(u,y,h)}return h}function JM(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=ee(h),u===null?null:u.stateNode}function KM(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function Xv(u,h){KM(u,h),(u=u.alternate)&&KM(u,h)}function L4(u){return u=ee(u),u===null?null:u.stateNode}function N4(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var h=bi();gr(u,134217728,h),Xv(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var h=bi(),y=Ao(u);gr(u,y,h),Xv(u,y)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var y=Uu(h.pendingLanes);y!==0&&(W0(h,y|1),ki(h,Xn()),!(Et&6)&&(Ql(),cs()))}break;case 13:var M=bi();kM(function(){return gr(u,1,M)}),Xv(u,1)}},t.batchedUpdates=function(u,h){var y=Et;Et|=1;try{return u(h)}finally{Et=y,Et===0&&(Ql(),Pf&&cs())}},t.createComponentSelector=function(u){return{$$typeof:np,value:u}},t.createContainer=function(u,h,y,M,E,R,H){return WM(u,h,!1,null,y,M,E,R,H)},t.createHasPseudoClassSelector=function(u){return{$$typeof:ip,value:u}},t.createHydrationContainer=function(u,h,y,M,E,R,H,$,fe){return u=WM(y,M,!0,u,E,R,H,$,fe),u.context=XM(null),y=u.current,M=bi(),E=Ao(y),R=Rs(M,E),R.callback=h??null,vo(y,R),u.current.lanes=E,ju(u,E,M),ki(u,M),u},t.createPortal=function(u,h,y){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:u,containerInfo:h,implementation:y}},t.createRoleSelector=function(u){return{$$typeof:rp,value:u}},t.createTestNameSelector=function(u){return{$$typeof:sp,value:u}},t.createTextSelector=function(u){return{$$typeof:op,value:u}},t.deferredUpdates=function(u){var h=Ft,y=Tn.transition;try{return Tn.transition=null,Ft=16,u()}finally{Ft=h,Tn.transition=y}},t.discreteUpdates=function(u,h,y,M,E){var R=Ft,H=Tn.transition;try{return Tn.transition=null,Ft=1,u(h,y,M,E)}finally{Ft=R,Tn.transition=H,Et===0&&Ql()}},t.findAllNodes=Nv,t.findBoundingRects=function(u,h){if(!et)throw Error(o(363));h=Nv(u,h),u=[];for(var y=0;y<h.length;y++)u.push(zt(h[y]));for(h=u.length-1;0<h;h--){y=u[h];for(var M=y.x,E=M+y.width,R=y.y,H=R+y.height,$=h-1;0<=$;$--)if(h!==$){var fe=u[$],Ne=fe.x,Ye=Ne+fe.width,vt=fe.y,st=vt+fe.height;if(M>=Ne&&R>=vt&&E<=Ye&&H<=st){u.splice(h,1);break}else if(M!==Ne||y.width!==fe.width||st<R||vt>H){if(!(R!==vt||y.height!==fe.height||Ye<M||Ne>E)){Ne>M&&(fe.width+=Ne-M,fe.x=M),Ye<E&&(fe.width=E-Ne),u.splice(h,1);break}}else{vt>R&&(fe.height+=vt-R,fe.y=R),st<H&&(fe.height=H-vt),u.splice(h,1);break}}}return u},t.findHostInstance=JM,t.findHostInstanceWithNoPortals=function(u){return u=z(u),u=u!==null?Q(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return JM(u)},t.flushControlled=function(u){var h=Et;Et|=1;var y=Tn.transition,M=Ft;try{Tn.transition=null,Ft=1,u()}finally{Ft=M,Tn.transition=y,Et=h,Et===0&&(Ql(),cs())}},t.flushPassiveEffects=Ta,t.flushSync=kM,t.focusWithin=function(u,h){if(!et)throw Error(o(363));for(u=Rv(u),h=BM(u,h),h=Array.from(h),u=0;u<h.length;){var y=h[u++];if(!I(y)){if(y.tag===5&&Re(y.stateNode))return!0;for(y=y.child;y!==null;)h.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ft},t.getFindAllNodesFailureDescription=function(u,h){if(!et)throw Error(o(363));var y=0,M=[];u=[Rv(u),0];for(var E=0;E<u.length;){var R=u[E++],H=u[E++],$=h[H];if((R.tag!==5||!I(R))&&(Pv(R,$)&&(M.push(Lv($)),H++,H>y&&(y=H)),H<h.length))for(R=R.child;R!==null;)u.push(R,H),R=R.sibling}if(y<h.length){for(u=[];y<h.length;y++)u.push(Lv(h[y]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return se(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:L4,findFiberByHostInstance:u.findFiberByHostInstance||N4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)u=!0;else{try{Rf=h.inject(u),as=h}catch{}u=!!h.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,h,y,M){if(!et)throw Error(o(363));u=Nv(u,h);var E=be(u,y,M).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(u,h){var y=h._getVersion;y=y(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,y]:u.mutableSourceEagerHydrationData.push(h,y)},t.runWithPriority=function(u,h){var y=Ft;try{return Ft=u,h()}finally{Ft=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,h,y,M){var E=h.current,R=bi(),H=Ao(E);return y=XM(y),h.context===null?h.context=y:h.pendingContext=y,h=Rs(R,H),h.payload={element:u},M=M===void 0?null:M,M!==null&&(h.callback=M),vo(E,h),u=gr(E,H,R),u!==null&&Df(u,E,H),H},t};EN.exports=gH;var vH=EN.exports;const xH=WA(vH),zw={},yH=n=>void Object.assign(zw,n);function AH(n,e){function t(d,{args:f=[],attach:p,...g},x){let w=`${d[0].toUpperCase()}${d.slice(1)}`,A;if(d==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=g.object;A=Tc(v,{type:d,root:x,attach:p,primitive:!0})}else{const v=zw[w];if(!v)throw new Error(`R3F: ${w} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");A=Tc(new v(...f),{type:d,root:x,attach:p,memoizedProps:{args:f}})}return A.__r3f.attach===void 0&&(A instanceof yt?A.__r3f.attach="geometry":A instanceof On&&(A.__r3f.attach="material")),w!=="inject"&&ty(A,g),A}function i(d,f){let p=!1;if(f){var g,x;(g=f.__r3f)!=null&&g.attach?ey(d,f,f.__r3f.attach):f.isObject3D&&d.isObject3D&&(d.add(f),p=!0),p||(x=d.__r3f)==null||x.objects.push(f),f.__r3f||Tc(f,{}),f.__r3f.parent=d,_A(f),Rc(f)}}function r(d,f,p){let g=!1;if(f){var x,w;if((x=f.__r3f)!=null&&x.attach)ey(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){f.parent=d,f.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:f});const A=d.children.filter(S=>S!==f),v=A.indexOf(p);d.children=[...A.slice(0,v),f,...A.slice(v)],g=!0}g||(w=d.__r3f)==null||w.objects.push(f),f.__r3f||Tc(f,{}),f.__r3f.parent=d,_A(f),Rc(f)}}function s(d,f,p=!1){d&&[...d].forEach(g=>o(f,g,p))}function o(d,f,p){if(f){var g,x,w;if(f.__r3f&&(f.__r3f.parent=null),(g=d.__r3f)!=null&&g.objects&&(d.__r3f.objects=d.__r3f.objects.filter(b=>b!==f)),(x=f.__r3f)!=null&&x.attach)XE(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){var A;d.remove(f),(A=f.__r3f)!=null&&A.root&&RH(tg(f),f)}const S=(w=f.__r3f)==null?void 0:w.primitive,_=!S&&(p===void 0?f.dispose!==null:p);if(!S){var v;s((v=f.__r3f)==null?void 0:v.objects,f,_),s(f.children,f,_)}if(delete f.__r3f,_&&f.dispose&&f.type!=="Scene"){const b=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?yA.unstable_scheduleCallback(yA.unstable_IdlePriority,b):b()}Rc(d)}}function a(d,f,p,g){var x;const w=(x=d.__r3f)==null?void 0:x.parent;if(!w)return;const A=t(f,p,d.__r3f.root);if(d.children){for(const v of d.children)v.__r3f&&i(A,v);d.children=d.children.filter(v=>!v.__r3f)}d.__r3f.objects.forEach(v=>i(A,v)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(w,d),A.parent&&(A.__r3f.autoRemovedBeforeAppend=!0),i(w,A),A.raycast&&A.__r3f.eventCount&&tg(A).getState().internal.interaction.push(A),[g,g.alternate].forEach(v=>{v!==null&&(v.stateNode=A,v.ref&&(typeof v.ref=="function"?v.ref(A):v.ref.current=A))})}const l=()=>{};return{reconciler:xH({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,f)=>{if(!f)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,f))},removeChildFromContainer:(d,f)=>{f&&o(d.getState().scene,f)},insertInContainerBefore:(d,f,p)=>{if(!f||!p)return;const g=d.getState().scene;g.__r3f&&r(g,f,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var f;return!!((f=d==null?void 0:d.__r3f)!=null?f:{}).handlers},prepareUpdate(d,f,p,g){var x;if(((x=d==null?void 0:d.__r3f)!=null?x:{}).primitive&&g.object&&g.object!==d)return[!0];{const{args:A=[],children:v,...S}=g,{args:_=[],children:b,...C}=p;if(!Array.isArray(A))throw new Error("R3F: the args prop must be an array!");if(A.some((N,B)=>N!==_[B]))return[!0];const T=IN(d,S,C,!0);return T.changes.length?[!1,T]:null}},commitUpdate(d,[f,p],g,x,w,A){f?a(d,g,w,A):ty(d,p)},commitMount(d,f,p,g){var x;const w=(x=d.__r3f)!=null?x:{};d.raycast&&w.handlers&&w.eventCount&&tg(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Tc(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var f;const{attach:p,parent:g}=(f=d.__r3f)!=null?f:{};p&&g&&XE(g,d,p),d.isObject3D&&(d.visible=!1),Rc(d)},unhideInstance(d,f){var p;const{attach:g,parent:x}=(p=d.__r3f)!=null?p:{};g&&x&&ey(x,d,g),(d.isObject3D&&f.visible==null||f.visible)&&(d.visible=!0),Rc(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Xc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Qt.fun(performance.now)?performance.now:Qt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Qt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Qt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ty}}var HE,GE;const Zx=n=>"colorSpace"in n||"outputColorSpace"in n,RN=()=>{var n;return(n=zw.ColorManagement)!=null?n:null},PN=n=>n&&n.isOrthographicCamera,_H=n=>n&&n.hasOwnProperty("current"),hf=typeof window<"u"&&((HE=window.document)!=null&&HE.createElement||((GE=window.navigator)==null?void 0:GE.product)==="ReactNative")?D.useLayoutEffect:D.useEffect;function LN(n){const e=D.useRef(n);return hf(()=>void(e.current=n),[n]),e}function wH({set:n}){return hf(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}let NN=class extends D.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};NN.getDerivedStateFromError=()=>({error:!0});const BN="__default",VE=new Map,SH=n=>n&&!!n.memoized&&!!n.changes;function DN(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const wd=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function tg(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Qt={obj:n=>n===Object(n)&&!Qt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Qt.str(n)||Qt.num(n)||Qt.boo(n))return n===e;const s=Qt.obj(n);if(s&&i==="reference")return n===e;const o=Qt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Qt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Qt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function MH(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function bH(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Tc(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function AA(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const WE=/-\d+$/;function ey(n,e,t){if(Qt.str(t)){if(WE.test(t)){const s=t.replace(WE,""),{target:o,key:a}=AA(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=AA(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function XE(n,e,t){var i,r;if(Qt.str(t)){const{target:s,key:o}=AA(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function IN(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){const d=n.__r3f,f=Object.entries(r),p=[];if(c){const x=Object.keys(l);for(let w=0;w<x.length;w++)r.hasOwnProperty(x[w])||f.unshift([x[w],BN+"remove"])}f.forEach(([x,w])=>{var A;if((A=n.__r3f)!=null&&A.primitive&&x==="object"||Qt.equ(w,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return p.push([x,w,!0,[]]);let v=[];x.includes("-")&&(v=x.split("-")),p.push([x,w,!1,v]);for(const S in r){const _=r[S];S.startsWith(`${x}-`)&&p.push([S,_,!1,S.split("-")])}});const g={...r};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:p}}const EH=typeof process<"u"&&!1;function ty(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=SH(e)?e:IN(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let d=0;d<a.length;d++){let[f,p,g,x]=a[d];if(Zx(n)){const S="srgb",_="srgb-linear";f==="encoding"?(f="colorSpace",p=p===3001?S:_):f==="outputEncoding"&&(f="outputColorSpace",p=p===3001?S:_)}let w=n,A=w[f];if(x.length&&(A=x.reduce((v,S)=>v[S],n),!(A&&A.set))){const[v,...S]=x.reverse();w=S.reverse().reduce((_,b)=>_[b],n),f=v}if(p===BN+"remove")if(w.constructor){let v=VE.get(w.constructor);v||(v=new w.constructor,VE.set(w.constructor,v)),p=v[f]}else p=0;if(g&&i)p?i.handlers[f]=p:delete i.handlers[f],i.eventCount=Object.keys(i.handlers).length;else if(A&&A.set&&(A.copy||A instanceof pl)){if(Array.isArray(p))A.fromArray?A.fromArray(p):A.set(...p);else if(A.copy&&p&&p.constructor&&(EH?A.constructor.name===p.constructor.name:A.constructor===p.constructor))A.copy(p);else if(p!==void 0){const v=A instanceof Fe;!v&&A.setScalar?A.setScalar(p):A instanceof pl&&p instanceof pl?A.mask=p.mask:A.set(p),!RN()&&s&&!s.linear&&v&&A.convertSRGBToLinear()}}else if(w[f]=p,w[f]instanceof an&&w[f].format===zi&&w[f].type===ws&&s){const v=w[f];Zx(v)&&Zx(s.gl)?v.colorSpace=s.gl.outputColorSpace:v.encoding=s.gl.outputEncoding}Rc(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const d=tg(n).getState().internal,f=d.interaction.indexOf(n);f>-1&&d.interaction.splice(f,1),i.eventCount&&d.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&_A(n),n}function Rc(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function _A(n){n.onUpdate==null||n.onUpdate(n)}function CH(n,e){n.manual||(PN(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function wm(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function TH(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Xc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Xc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Xc.ContinuousEventPriority;default:return Xc.DefaultEventPriority}}function kN(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function RH(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{kN(t.capturedMap,e,i,r)})}function PH(n){function e(l){const{internal:c}=n.getState(),d=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+d]}))}function i(l,c){const d=n.getState(),f=new Set,p=[],g=c?c(d.internal.interaction):d.internal.interaction;for(let v=0;v<g.length;v++){const S=wd(g[v]);S&&(S.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function x(v){const S=wd(v);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var _;S.events.compute==null||S.events.compute(l,S,(_=S.previousRoot)==null?void 0:_.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(v,!0):[]}let w=g.flatMap(x).sort((v,S)=>{const _=wd(v.object),b=wd(S.object);return!_||!b?v.distance-S.distance:b.events.priority-_.events.priority||v.distance-S.distance}).filter(v=>{const S=wm(v);return f.has(S)?!1:(f.add(S),!0)});d.events.filter&&(w=d.events.filter(w,d));for(const v of w){let S=v.object;for(;S;){var A;(A=S.__r3f)!=null&&A.eventCount&&p.push({...v,eventObject:S}),S=S.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let v of d.internal.capturedMap.get(l.pointerId).values())f.has(wm(v.intersection))||p.push(v.intersection);return p}function r(l,c,d,f){const p=n.getState();if(l.length){const g={stopped:!1};for(const x of l){const w=wd(x.object)||p,{raycaster:A,pointer:v,camera:S,internal:_}=w,b=new k(v.x,v.y,0).unproject(S),C=L=>{var z,ee;return(z=(ee=_.capturedMap.get(L))==null?void 0:ee.has(x.eventObject))!=null?z:!1},T=L=>{const z={intersection:x,target:c.target};_.capturedMap.has(L)?_.capturedMap.get(L).set(x.eventObject,z):_.capturedMap.set(L,new Map([[x.eventObject,z]])),c.target.setPointerCapture(L)},N=L=>{const z=_.capturedMap.get(L);z&&kN(_.capturedMap,x.eventObject,z,L)};let B={};for(let L in c){let z=c[L];typeof z!="function"&&(B[L]=z)}let P={...x,...B,pointer:v,intersections:l,stopped:g.stopped,delta:d,unprojectedPoint:b,ray:A.ray,camera:S,stopPropagation(){const L="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!L||L.has(x.eventObject))&&(P.stopped=g.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(z=>z.eventObject===x.eventObject))){const z=l.slice(0,l.indexOf(x));s([...z,x])}},target:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:N},currentTarget:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:N},nativeEvent:c};if(f(P),g.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const d of c.hovered.values())if(!l.length||!l.find(f=>f.object===d.object&&f.index===d.index&&f.instanceId===d.instanceId)){const p=d.eventObject.__r3f,g=p==null?void 0:p.handlers;if(c.hovered.delete(wm(d)),p!=null&&p.eventCount){const x={...d,intersections:l};g.onPointerOut==null||g.onPointerOut(x),g.onPointerLeave==null||g.onPointerLeave(x)}}}function o(l,c){for(let d=0;d<c.length;d++){const f=c[d].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=n.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:f,internal:p}=n.getState();p.lastEvent.current=d;const g=l==="onPointerMove",x=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",A=i(d,g?t:void 0),v=x?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=A.map(_=>_.eventObject)),x&&!A.length&&v<=2&&(o(d,p.interaction),f&&f(d)),g&&s(A);function S(_){const b=_.eventObject,C=b.__r3f,T=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(g){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const N=wm(_),B=p.hovered.get(N);B?B.stopped&&_.stopPropagation():(p.hovered.set(N,_),T.onPointerOver==null||T.onPointerOver(_),T.onPointerEnter==null||T.onPointerEnter(_))}T.onPointerMove==null||T.onPointerMove(_)}else{const N=T[l];N?(!x||p.initialHits.includes(b))&&(o(d,p.interaction.filter(B=>!p.initialHits.includes(B))),N(_)):x&&p.initialHits.includes(b)&&o(d,p.interaction.filter(B=>!p.initialHits.includes(B)))}}r(A,d,v,S)}}return{handlePointer:a}}const FN=n=>!!(n!=null&&n.render),ON=D.createContext(null),LH=(n,e)=>{const t=dH((a,l)=>{const c=new k,d=new k,f=new k;function p(v=l().camera,S=d,_=l().size){const{width:b,height:C,top:T,left:N}=_,B=b/C;S instanceof k?f.copy(S):f.set(...S);const P=v.getWorldPosition(c).distanceTo(f);if(PN(v))return{width:b/v.zoom,height:C/v.zoom,top:T,left:N,factor:1,distance:P,aspect:B};{const L=v.fov*Math.PI/180,z=2*Math.tan(L/2)*P,ee=z*(b/C);return{width:ee,height:z,top:T,left:N,factor:b/ee,distance:P,aspect:B}}}let g;const x=v=>a(S=>({performance:{...S.performance,current:v}})),w=new ve;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>n(l(),v),advance:(v,S)=>e(v,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Fw,pointer:w,mouse:w,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();g&&clearTimeout(g),v.performance.current!==v.performance.min&&x(v.performance.min),g=setTimeout(()=>x(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:v=>a(S=>({...S,events:{...S.events,...v}})),setSize:(v,S,_,b,C)=>{const T=l().camera,N={width:v,height:S,top:b||0,left:C||0,updateStyle:_};a(B=>({size:N,viewport:{...B.viewport,...p(T,d,N)}}))},setDpr:v=>a(S=>{const _=DN(v);return{viewport:{...S.viewport,dpr:_,initialDpr:S.viewport.initialDpr||_}}}),setFrameloop:(v="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,v!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:D.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,S,_)=>{const b=l().internal;return b.priority=b.priority+(S>0?1:0),b.subscribers.push({ref:v,priority:S,store:_}),b.subscribers=b.subscribers.sort((C,T)=>C.priority-T.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(S>0?1:0),C.subscribers=C.subscribers.filter(T=>T.ref!==v))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:f}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,CH(a,l),d.setPixelRatio(c.dpr);const g=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,g)}a!==o&&(o=a,f(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Sm,NH=new Set,BH=new Set,DH=new Set;function ny(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Sd(n,e){switch(n){case"before":return ny(NH,e);case"after":return ny(BH,e);case"tail":return ny(DH,e)}}let iy,ry;function sy(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),iy=e.internal.subscribers,Sm=0;Sm<iy.length;Sm++)ry=iy[Sm],ry.ref.current(ry.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function IH(n){let e=!1,t=!1,i,r,s;function o(c){r=requestAnimationFrame(o),e=!0,i=0,Sd("before",c),t=!0;for(const f of n.values()){var d;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(i+=sy(c,s))}if(t=!1,Sd("after",c),i===0)return Sd("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,d=1){var f;if(!c)return n.forEach(p=>a(p.store.getState(),d));(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(d>1?c.internal.frames=Math.min(60,c.internal.frames+d):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,d=!0,f,p){if(d&&Sd("before",c),f)sy(c,f,p);else for(const g of n.values())sy(c,g.store.getState());d&&Sd("after",c)}return{loop:o,invalidate:a,advance:l}}function UN(){const n=D.useContext(ON);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Er(n=t=>t,e){return UN()(n,e)}function ff(n,e=0){const t=UN(),i=t.getState().internal.subscribe,r=LN(n);return hf(()=>i(r,e,t),[e,i,t]),null}const JE=new WeakMap;function jN(n,e){return function(t,...i){let r=JE.get(t);return r||(r=new t,JE.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,MH(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function pf(n,e,t,i){const r=Array.isArray(e)?e:[e],s=fH(jN(t,i),[n,...r],{equal:Qt.equ});return Array.isArray(e)?s:s[0]}pf.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return pH(jN(t),[n,...i])};pf.clear=function(n,e){const t=Array.isArray(e)?e:[e];return mH([n,...t])};const _u=new Map,{invalidate:KE,advance:YE}=IH(_u),{reconciler:Ig,applyProps:wc}=AH(_u,TH),Sc={objects:"shallow",strict:!1},kH=(n,e)=>{const t=typeof n=="function"?n(e):n;return FN(t)?t:new pw({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function FH(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function OH(n){const e=_u.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||LH(KE,YE),o=t||Ig.createContainer(s,Xc.ConcurrentRoot,null,!1,null,"",r,null);e||_u.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(d={}){let{gl:f,size:p,scene:g,events:x,onCreated:w,shadows:A=!1,linear:v=!1,flat:S=!1,legacy:_=!1,orthographic:b=!1,frameloop:C="always",dpr:T=[1,2],performance:N,raycaster:B,camera:P,onPointerMissed:L}=d,z=s.getState(),ee=z.gl;z.gl||z.set({gl:ee=kH(f,n)});let K=z.raycaster;K||z.set({raycaster:K=new _N});const{params:Q,...Z}=B||{};if(Qt.equ(Z,K,Sc)||wc(K,{...Z}),Qt.equ(Q,K.params,Sc)||wc(K,{params:{...K.params,...Q}}),!z.camera||z.camera===c&&!Qt.equ(c,P,Sc)){c=P;const V=P instanceof Jh,ne=V?P:b?new Zr(0,0,0,0,.1,1e3):new on(75,0,.1,1e3);V||(ne.position.z=5,P&&(wc(ne,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(ne.manual=!0,ne.updateProjectionMatrix())),!z.camera&&!(P!=null&&P.rotation)&&ne.lookAt(0,0,0)),z.set({camera:ne}),K.camera=ne}if(!z.scene){let V;g instanceof Dg?V=g:(V=new Dg,g&&wc(V,g)),z.set({scene:Tc(V)})}if(!z.xr){var se;const V=(q,Y)=>{const ue=s.getState();ue.frameloop!=="never"&&YE(q,!0,ue,Y)},ne=()=>{const q=s.getState();q.gl.xr.enabled=q.gl.xr.isPresenting,q.gl.xr.setAnimationLoop(q.gl.xr.isPresenting?V:null),q.gl.xr.isPresenting||KE(q)},j={connect(){const q=s.getState().gl;q.xr.addEventListener("sessionstart",ne),q.xr.addEventListener("sessionend",ne)},disconnect(){const q=s.getState().gl;q.xr.removeEventListener("sessionstart",ne),q.xr.removeEventListener("sessionend",ne)}};typeof((se=ee.xr)==null?void 0:se.addEventListener)=="function"&&j.connect(),z.set({xr:j})}if(ee.shadowMap){const V=ee.shadowMap.enabled,ne=ee.shadowMap.type;if(ee.shadowMap.enabled=!!A,Qt.boo(A))ee.shadowMap.type=Kd;else if(Qt.str(A)){var ie;const j={basic:CP,percentage:h0,soft:Kd,variance:Xr};ee.shadowMap.type=(ie=j[A])!=null?ie:Kd}else Qt.obj(A)&&Object.assign(ee.shadowMap,A);(V!==ee.shadowMap.enabled||ne!==ee.shadowMap.type)&&(ee.shadowMap.needsUpdate=!0)}const O=RN();O&&("enabled"in O?O.enabled=!_:"legacyMode"in O&&(O.legacyMode=_)),l||wc(ee,{outputEncoding:v?3e3:3001,toneMapping:S?$r:J_}),z.legacy!==_&&z.set(()=>({legacy:_})),z.linear!==v&&z.set(()=>({linear:v})),z.flat!==S&&z.set(()=>({flat:S})),f&&!Qt.fun(f)&&!FN(f)&&!Qt.equ(f,ee,Sc)&&wc(ee,f),x&&!z.events.handlers&&z.set({events:x(s)});const J=FH(n,p);return Qt.equ(J,z.size,Sc)||z.setSize(J.width,J.height,J.updateStyle,J.top,J.left),T&&z.viewport.dpr!==DN(T)&&z.setDpr(T),z.frameloop!==C&&z.setFrameloop(C),z.onPointerMissed||z.set({onPointerMissed:L}),N&&!Qt.equ(N,z.performance,Sc)&&z.set(V=>({performance:{...V.performance,...N}})),a=w,l=!0,this},render(d){return l||this.configure(),Ig.updateContainer(m.jsx(UH,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){zN(n)}}}function UH({store:n,children:e,onCreated:t,rootElement:i}){return hf(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),m.jsx(ON.Provider,{value:n,children:e})}function zN(n,e){const t=_u.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),Ig.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),bH(r),_u.delete(n),e&&e(n)}catch{}},500)})}}Ig.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:D.version});const oy={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function jH(n){const{handlePointer:e}=PH(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(oy).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=oy[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=oy[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function wA(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?i=setTimeout(l,e-d):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var d=t&&!i;return i||(i=setTimeout(l,e)),d&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}wA.debounce=wA;var zH=wA;const qE=WA(zH);var HH=Object.defineProperty,GH=Object.defineProperties,VH=Object.getOwnPropertyDescriptors,QE=Object.getOwnPropertySymbols,WH=Object.prototype.hasOwnProperty,XH=Object.prototype.propertyIsEnumerable,$E=(n,e,t)=>e in n?HH(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ZE=(n,e)=>{for(var t in e||(e={}))WH.call(e,t)&&$E(n,t,e[t]);if(QE)for(var t of QE(e))XH.call(e,t)&&$E(n,t,e[t]);return n},JH=(n,e)=>GH(n,VH(e)),eC,tC;typeof window<"u"&&((eC=window.document)!=null&&eC.createElement||((tC=window.navigator)==null?void 0:tC.product)==="ReactNative")?D.useLayoutEffect:D.useEffect;function HN(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=HN(i,e,t);if(r)return r;i=e?null:i.sibling}}function GN(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const nC=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=nC;return}return nC.apply(this,arguments)};const Hw=GN(D.createContext(null));class VN extends D.Component{render(){return D.createElement(Hw.Provider,{value:this._reactInternals},this.props.children)}}function KH(){const n=D.useContext(Hw);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=D.useId();return D.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=HN(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function YH(){const n=KH(),[e]=D.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==Hw&&!e.has(r)&&e.set(r,D.useContext(GN(r)))}t=t.return}return e}function qH(){const n=YH();return D.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>D.createElement(e,null,D.createElement(t.Provider,JH(ZE({},i),{value:n.get(t)}))),e=>D.createElement(VN,ZE({},e))),[n])}function QH({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||typeof window<"u"&&window.ResizeObserver,[s,o]=D.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!r)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const a=D.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,d=D.useRef(!1);D.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,p,g]=D.useMemo(()=>{const v=()=>{if(!a.current.element)return;const{left:S,top:_,width:b,height:C,bottom:T,right:N,x:B,y:P}=a.current.element.getBoundingClientRect(),L={left:S,top:_,width:b,height:C,bottom:T,right:N,x:B,y:P};a.current.element instanceof HTMLElement&&i&&(L.height=a.current.element.offsetHeight,L.width=a.current.element.offsetWidth),Object.freeze(L),d.current&&!tG(a.current.lastBounds,L)&&o(a.current.lastBounds=L)};return[v,c?qE(v,c):v,l?qE(v,l):v]},[o,i,l,c]);function x(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",g,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function w(){var v;a.current.element&&(a.current.resizeObserver=new r(p),(v=a.current.resizeObserver)==null||v.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(S=>S.addEventListener("scroll",g,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const A=v=>{!v||v===a.current.element||(x(),a.current.element=v,a.current.scrollContainers=WN(v),w())};return ZH(g,!!e),$H(p),D.useEffect(()=>{x(),w()},[e,g,p]),D.useEffect(()=>x,[]),[A,s,f]}function $H(n){D.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function ZH(n,e){D.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function WN(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...WN(n.parentElement)]}const eG=["x","y","top","bottom","left","right","width","height"],tG=(n,e)=>eG.every(t=>n[t]===e[t]),nG=D.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=jH,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:f,legacy:p,orthographic:g,frameloop:x,dpr:w,performance:A,raycaster:v,camera:S,scene:_,onPointerMissed:b,onCreated:C,...T},N){D.useMemo(()=>yH(lH),[]);const B=qH(),[P,L]=QH({scroll:!0,debounce:{scroll:50,resize:0},...i}),z=D.useRef(null),ee=D.useRef(null);D.useImperativeHandle(N,()=>z.current);const K=LN(b),[Q,Z]=D.useState(!1),[se,ie]=D.useState(!1);if(Q)throw Q;if(se)throw se;const O=D.useRef(null);hf(()=>{const V=z.current;L.width>0&&L.height>0&&V&&(O.current||(O.current=OH(V)),O.current.configure({gl:s,events:o,shadows:c,linear:d,flat:f,legacy:p,orthographic:g,frameloop:x,dpr:w,performance:A,raycaster:v,camera:S,scene:_,size:L,onPointerMissed:(...ne)=>K.current==null?void 0:K.current(...ne),onCreated:ne=>{ne.events.connect==null||ne.events.connect(a?_H(a)?a.current:a:ee.current),l&&ne.setEvents({compute:(j,q)=>{const Y=j[l+"X"],ue=j[l+"Y"];q.pointer.set(Y/q.size.width*2-1,-(ue/q.size.height)*2+1),q.raycaster.setFromCamera(q.pointer,q.camera)}}),C==null||C(ne)}}),O.current.render(m.jsx(B,{children:m.jsx(NN,{set:ie,children:m.jsx(D.Suspense,{fallback:m.jsx(wH,{set:Z}),children:e})})})))}),D.useEffect(()=>{const V=z.current;if(V)return()=>zN(V)},[]);const J=a?"none":"auto";return m.jsx("div",{ref:ee,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:J,...r},...T,children:m.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:m.jsx("canvas",{ref:z,style:{display:"block"},children:t})})})}),T0=D.forwardRef(function(e,t){return m.jsx(VN,{children:m.jsx(nG,{...e,ref:t})})});function ao(){return ao=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ao.apply(null,arguments)}const mf=new k,Gw=new k,iG=new k,iC=new ve;function rG(n,e,t){const i=mf.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function sG(n,e){const t=mf.setFromMatrixPosition(n.matrixWorld),i=Gw.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(iG);return r.angleTo(s)>Math.PI/2}function oG(n,e,t,i){const r=mf.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),iC.set(s.x,s.y),t.setFromCamera(iC,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function aG(n,e){if(e instanceof Zr)return e.zoom;if(e instanceof on){const t=mf.setFromMatrixPosition(n.matrixWorld),i=Gw.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function lG(n,e,t){if(e instanceof on||e instanceof Zr){const i=mf.setFromMatrixPosition(n.matrixWorld),r=Gw.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const SA=n=>Math.abs(n)<1e-10?0:n;function XN(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=SA(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const cG=(n=>e=>XN(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),uG=(n=>(e,t)=>XN(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function dG(n){return n&&typeof n=="object"&&"current"in n}const hG=D.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:d=!1,occlude:f,onOcclude:p,castShadow:g,receiveShadow:x,material:w,geometry:A,zIndexRange:v=[16777271,0],calculatePosition:S=rG,as:_="div",wrapperClass:b,pointerEvents:C="auto",...T},N)=>{const{gl:B,camera:P,scene:L,size:z,raycaster:ee,events:K,viewport:Q}=Er(),[Z]=D.useState(()=>document.createElement(_)),se=D.useRef(),ie=D.useRef(null),O=D.useRef(0),J=D.useRef([0,0]),V=D.useRef(null),ne=D.useRef(null),j=(a==null?void 0:a.current)||K.connected||B.domElement.parentNode,q=D.useRef(null),Y=D.useRef(!1),ue=D.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&dG(f[0]),[f]);D.useLayoutEffect(()=>{const Be=B.domElement;f&&f==="blending"?(Be.style.zIndex=`${Math.floor(v[0]/2)}`,Be.style.position="absolute",Be.style.pointerEvents="none"):(Be.style.zIndex=null,Be.style.position=null,Be.style.pointerEvents=null)},[f]),D.useLayoutEffect(()=>{if(ie.current){const Be=se.current=j_(Z);if(L.updateMatrixWorld(),d)Z.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Ae=S(ie.current,P,z);Z.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Ae[0]}px,${Ae[1]}px,0);transform-origin:0 0;`}return j&&(r?j.prepend(Z):j.appendChild(Z)),()=>{j&&j.removeChild(Z),Be.unmount()}}},[j,d]),D.useLayoutEffect(()=>{b&&(Z.className=b)},[b]);const ye=D.useMemo(()=>d?{position:"absolute",top:0,left:0,width:z.width,height:z.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-z.height/2,left:-z.width/2,width:z.width,height:z.height},...t},[t,s,o,z,d]),we=D.useMemo(()=>({position:"absolute",pointerEvents:C}),[C]);D.useLayoutEffect(()=>{if(Y.current=!1,d){var Be;(Be=se.current)==null||Be.render(D.createElement("div",{ref:V,style:ye},D.createElement("div",{ref:ne,style:we},D.createElement("div",{ref:N,className:i,style:t,children:n}))))}else{var Ae;(Ae=se.current)==null||Ae.render(D.createElement("div",{ref:N,style:ye,className:i,children:n}))}});const Ce=D.useRef(!0);ff(Be=>{if(ie.current){P.updateMatrixWorld(),ie.current.updateWorldMatrix(!0,!1);const Ae=d?J.current:S(ie.current,P,z);if(d||Math.abs(O.current-P.zoom)>e||Math.abs(J.current[0]-Ae[0])>e||Math.abs(J.current[1]-Ae[1])>e){const U=sG(ie.current,P);let de=!1;ue&&(Array.isArray(f)?de=f.map(We=>We.current):f!=="blending"&&(de=[L]));const pe=Ce.current;if(de){const We=oG(ie.current,P,ee,de);Ce.current=We&&!U}else Ce.current=!U;pe!==Ce.current&&(p?p(!Ce.current):Z.style.display=Ce.current?"block":"none");const Me=Math.floor(v[0]/2),Se=f?ue?[v[0],Me]:[Me-1,0]:v;if(Z.style.zIndex=`${lG(ie.current,P,Se)}`,d){const[We,Ue]=[z.width/2,z.height/2],Ge=P.projectionMatrix.elements[5]*Ue,{isOrthographicCamera:et,top:At,left:zt,bottom:G,right:I}=P,he=cG(P.matrixWorldInverse),Re=et?`scale(${Ge})translate(${SA(-(I+zt)/2)}px,${SA((At+G)/2)}px)`:`translateZ(${Ge}px)`;let be=ie.current.matrixWorld;c&&(be=P.matrixWorldInverse.clone().transpose().copyPosition(be).scale(ie.current.scale),be.elements[3]=be.elements[7]=be.elements[11]=0,be.elements[15]=1),Z.style.width=z.width+"px",Z.style.height=z.height+"px",Z.style.perspective=et?"":`${Ge}px`,V.current&&ne.current&&(V.current.style.transform=`${Re}${he}translate(${We}px,${Ue}px)`,ne.current.style.transform=uG(be,1/((l||10)/400)))}else{const We=l===void 0?1:aG(ie.current,P)*l;Z.style.transform=`translate3d(${Ae[0]}px,${Ae[1]}px,0) scale(${We})`}J.current=Ae,O.current=P.zoom}}if(!ue&&q.current&&!Y.current)if(d){if(V.current){const Ae=V.current.children[0];if(Ae!=null&&Ae.clientWidth&&Ae!=null&&Ae.clientHeight){const{isOrthographicCamera:U}=P;if(U||A)T.scale&&(Array.isArray(T.scale)?T.scale instanceof k?q.current.scale.copy(T.scale.clone().divideScalar(1)):q.current.scale.set(1/T.scale[0],1/T.scale[1],1/T.scale[2]):q.current.scale.setScalar(1/T.scale));else{const de=(l||10)/400,pe=Ae.clientWidth*de,Me=Ae.clientHeight*de;q.current.scale.set(pe,Me,1)}Y.current=!0}}}else{const Ae=Z.children[0];if(Ae!=null&&Ae.clientWidth&&Ae!=null&&Ae.clientHeight){const U=1/Q.factor,de=Ae.clientWidth*U,pe=Ae.clientHeight*U;q.current.scale.set(de,pe,1),Y.current=!0}q.current.lookAt(Be.camera.position)}});const Ee=D.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return D.createElement("group",ao({},T,{ref:ie}),f&&!ue&&D.createElement("mesh",{castShadow:g,receiveShadow:x,ref:q},A||D.createElement("planeGeometry",null),w||D.createElement("shaderMaterial",{side:Rr,vertexShader:Ee.vertexShader,fragmentShader:Ee.fragmentShader})))}),rC=n=>{let e;const t=new Set,i=(c,d)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(g=>g(e,p))}},r=()=>e,a={setState:i,getState:r,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(i,r,a);return a},fG=n=>n?rC(n):rC,pG=n=>n;function mG(n,e=pG){const t=pn.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return pn.useDebugValue(t),t}const sC=n=>{const e=fG(n),t=i=>mG(e,i);return Object.assign(t,e),t},gG=n=>n?sC(n):sC;let Md=0;const vG=gG(n=>(Wc.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-Md)/(i-Md)*100})},Wc.onLoad=()=>{n({active:!1})},Wc.onError=e=>n(t=>({errors:[...t.errors,e]})),Wc.onProgress=(e,t,i)=>{t===i&&(Md=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-Md)/(i-Md)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function ou(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function aC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(t),!0).forEach(function(i){ou(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}new ve;new ve;function JN(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Ar=function n(e,t,i){var r=this;JN(this,n),ou(this,"dot2",function(s,o){return r.x*s+r.y*o}),ou(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},xG=[new Ar(1,1,0),new Ar(-1,1,0),new Ar(1,-1,0),new Ar(-1,-1,0),new Ar(1,0,1),new Ar(-1,0,1),new Ar(1,0,-1),new Ar(-1,0,-1),new Ar(0,1,1),new Ar(0,-1,1),new Ar(0,1,-1),new Ar(0,-1,-1)],lC=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],cC=new Array(512),uC=new Array(512),yG=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=lC[t]^e&255:i=lC[t]^e>>8&255,cC[t]=cC[t+256]=i,uC[t]=uC[t+256]=xG[i%12]}};yG(0);function AG(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function dC(n){var e=AG(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var _G=function n(e){var t=this;JN(this,n),ou(this,"seed",0),ou(this,"init",function(i){t.seed=i,t.value=dC(i)}),ou(this,"value",dC(this.seed)),this.init(e)},wG=new _G(Math.random()),SG={radius:1,center:[0,0,0]};function MG(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wG,i=aC(aC({},SG),e),r=i.radius,s=i.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,c=t.value()*2-1,d=t.value()*2-1,f=Math.sqrt(l*l+c*c+d*d);l=a*l/f,c=a*c/f,d=a*d/f,n[o]=l*r+s[0],n[o+1]=c*r+s[1],n[o+2]=d*r+s[2]}return n}const bG=parseInt(Pu.replace(/\D+/g,""));function hC(n,e){if(e===dL)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Lg||e===tw){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===Lg)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var EG=Object.defineProperty,CG=(n,e,t)=>e in n?EG(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,TG=(n,e,t)=>(CG(n,typeof e!="symbol"?e+"":e,t),t);class RG{constructor(){TG(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}var PG=Object.defineProperty,LG=(n,e,t)=>e in n?PG(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ot=(n,e,t)=>(LG(n,typeof e!="symbol"?e+"":e,t),t);const Mm=new Ll,fC=new Vs,NG=Math.cos(70*(Math.PI/180)),pC=(n,e)=>(n%e+e)%e;let BG=class extends RG{constructor(e,t){super(),ot(this,"object"),ot(this,"domElement"),ot(this,"enabled",!0),ot(this,"target",new k),ot(this,"minDistance",0),ot(this,"maxDistance",1/0),ot(this,"minZoom",0),ot(this,"maxZoom",1/0),ot(this,"minPolarAngle",0),ot(this,"maxPolarAngle",Math.PI),ot(this,"minAzimuthAngle",-1/0),ot(this,"maxAzimuthAngle",1/0),ot(this,"enableDamping",!1),ot(this,"dampingFactor",.05),ot(this,"enableZoom",!0),ot(this,"zoomSpeed",1),ot(this,"enableRotate",!0),ot(this,"rotateSpeed",1),ot(this,"enablePan",!0),ot(this,"panSpeed",1),ot(this,"screenSpacePanning",!0),ot(this,"keyPanSpeed",7),ot(this,"zoomToCursor",!1),ot(this,"autoRotate",!1),ot(this,"autoRotateSpeed",2),ot(this,"reverseOrbit",!1),ot(this,"reverseHorizontalOrbit",!1),ot(this,"reverseVerticalOrbit",!1),ot(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ot(this,"mouseButtons",{LEFT:Wa.ROTATE,MIDDLE:Wa.DOLLY,RIGHT:Wa.PAN}),ot(this,"touches",{ONE:Xa.ROTATE,TWO:Xa.DOLLY_PAN}),ot(this,"target0"),ot(this,"position0"),ot(this,"zoom0"),ot(this,"_domElementKeyEvents",null),ot(this,"getPolarAngle"),ot(this,"getAzimuthalAngle"),ot(this,"setPolarAngle"),ot(this,"setAzimuthalAngle"),ot(this,"getDistance"),ot(this,"getZoomScale"),ot(this,"listenToKeyEvents"),ot(this,"stopListenToKeyEvents"),ot(this,"saveState"),ot(this,"reset"),ot(this,"update"),ot(this,"connect"),ot(this,"dispose"),ot(this,"dollyIn"),ot(this,"dollyOut"),ot(this,"getScale"),ot(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=W=>{let _e=pC(W,2*Math.PI),Oe=d.phi;Oe<0&&(Oe+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let X=Math.abs(_e-Oe);2*Math.PI-X<X&&(_e<Oe?_e+=2*Math.PI:Oe+=2*Math.PI),f.phi=_e-Oe,i.update()},this.setAzimuthalAngle=W=>{let _e=pC(W,2*Math.PI),Oe=d.theta;Oe<0&&(Oe+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let X=Math.abs(_e-Oe);2*Math.PI-X<X&&(_e<Oe?_e+=2*Math.PI:Oe+=2*Math.PI),f.theta=_e-Oe,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=W=>{W.addEventListener("keydown",De),this._domElementKeyEvents=W},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",De),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const W=new k,_e=new k(0,1,0),Oe=new Zn().setFromUnitVectors(e.up,_e),X=Oe.clone().invert(),Te=new k,le=new Zn,Le=2*Math.PI;return function(){const Tt=i.object.position;Oe.setFromUnitVectors(e.up,_e),X.copy(Oe).invert(),W.copy(Tt).sub(i.target),W.applyQuaternion(Oe),d.setFromVector3(W),i.autoRotate&&l===a.NONE&&Q(ee()),i.enableDamping?(d.theta+=f.theta*i.dampingFactor,d.phi+=f.phi*i.dampingFactor):(d.theta+=f.theta,d.phi+=f.phi);let Lt=i.minAzimuthAngle,kt=i.maxAzimuthAngle;isFinite(Lt)&&isFinite(kt)&&(Lt<-Math.PI?Lt+=Le:Lt>Math.PI&&(Lt-=Le),kt<-Math.PI?kt+=Le:kt>Math.PI&&(kt-=Le),Lt<=kt?d.theta=Math.max(Lt,Math.min(kt,d.theta)):d.theta=d.theta>(Lt+kt)/2?Math.max(Lt,d.theta):Math.min(kt,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(g,i.dampingFactor):i.target.add(g),i.zoomToCursor&&P||i.object.isOrthographicCamera?d.radius=q(d.radius):d.radius=q(d.radius*p),W.setFromSpherical(d),W.applyQuaternion(X),Tt.copy(i.target).add(W),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(f.theta*=1-i.dampingFactor,f.phi*=1-i.dampingFactor,g.multiplyScalar(1-i.dampingFactor)):(f.set(0,0,0),g.set(0,0,0));let oi=!1;if(i.zoomToCursor&&P){let jt=null;if(i.object instanceof on&&i.object.isPerspectiveCamera){const Un=W.length();jt=q(Un*p);const xn=Un-jt;i.object.position.addScaledVector(N,xn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Un=new k(B.x,B.y,0);Un.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),oi=!0;const xn=new k(B.x,B.y,0);xn.unproject(i.object),i.object.position.sub(xn).add(Un),i.object.updateMatrixWorld(),jt=W.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;jt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(jt).add(i.object.position):(Mm.origin.copy(i.object.position),Mm.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Mm.direction))<NG?e.lookAt(i.target):(fC.setFromNormalAndCoplanarPoint(i.object.up,i.target),Mm.intersectPlane(fC,i.target))))}else i.object instanceof Zr&&i.object.isOrthographicCamera&&(oi=p!==1,oi&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,P=!1,oi||Te.distanceToSquared(i.object.position)>c||8*(1-le.dot(i.object.quaternion))>c?(i.dispatchEvent(r),Te.copy(i.object.position),le.copy(i.object.quaternion),oi=!1,!0):!1}})(),this.connect=W=>{i.domElement=W,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",me),i.domElement.addEventListener("pointerdown",zt),i.domElement.addEventListener("pointercancel",I),i.domElement.addEventListener("wheel",be)},this.dispose=()=>{var W,_e,Oe,X,Te,le;i.domElement&&(i.domElement.style.touchAction="auto"),(W=i.domElement)==null||W.removeEventListener("contextmenu",me),(_e=i.domElement)==null||_e.removeEventListener("pointerdown",zt),(Oe=i.domElement)==null||Oe.removeEventListener("pointercancel",I),(X=i.domElement)==null||X.removeEventListener("wheel",be),(Te=i.domElement)==null||Te.ownerDocument.removeEventListener("pointermove",G),(le=i.domElement)==null||le.ownerDocument.removeEventListener("pointerup",I),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",De)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,d=new xA,f=new xA;let p=1;const g=new k,x=new ve,w=new ve,A=new ve,v=new ve,S=new ve,_=new ve,b=new ve,C=new ve,T=new ve,N=new k,B=new ve;let P=!1;const L=[],z={};function ee(){return 2*Math.PI/60/60*i.autoRotateSpeed}function K(){return Math.pow(.95,i.zoomSpeed)}function Q(W){i.reverseOrbit||i.reverseHorizontalOrbit?f.theta+=W:f.theta-=W}function Z(W){i.reverseOrbit||i.reverseVerticalOrbit?f.phi+=W:f.phi-=W}const se=(()=>{const W=new k;return function(Oe,X){W.setFromMatrixColumn(X,0),W.multiplyScalar(-Oe),g.add(W)}})(),ie=(()=>{const W=new k;return function(Oe,X){i.screenSpacePanning===!0?W.setFromMatrixColumn(X,1):(W.setFromMatrixColumn(X,0),W.crossVectors(i.object.up,W)),W.multiplyScalar(Oe),g.add(W)}})(),O=(()=>{const W=new k;return function(Oe,X){const Te=i.domElement;if(Te&&i.object instanceof on&&i.object.isPerspectiveCamera){const le=i.object.position;W.copy(le).sub(i.target);let Le=W.length();Le*=Math.tan(i.object.fov/2*Math.PI/180),se(2*Oe*Le/Te.clientHeight,i.object.matrix),ie(2*X*Le/Te.clientHeight,i.object.matrix)}else Te&&i.object instanceof Zr&&i.object.isOrthographicCamera?(se(Oe*(i.object.right-i.object.left)/i.object.zoom/Te.clientWidth,i.object.matrix),ie(X*(i.object.top-i.object.bottom)/i.object.zoom/Te.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function J(W){i.object instanceof on&&i.object.isPerspectiveCamera||i.object instanceof Zr&&i.object.isOrthographicCamera?p=W:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function V(W){J(p/W)}function ne(W){J(p*W)}function j(W){if(!i.zoomToCursor||!i.domElement)return;P=!0;const _e=i.domElement.getBoundingClientRect(),Oe=W.clientX-_e.left,X=W.clientY-_e.top,Te=_e.width,le=_e.height;B.x=Oe/Te*2-1,B.y=-(X/le)*2+1,N.set(B.x,B.y,1).unproject(i.object).sub(i.object.position).normalize()}function q(W){return Math.max(i.minDistance,Math.min(i.maxDistance,W))}function Y(W){x.set(W.clientX,W.clientY)}function ue(W){j(W),b.set(W.clientX,W.clientY)}function ye(W){v.set(W.clientX,W.clientY)}function we(W){w.set(W.clientX,W.clientY),A.subVectors(w,x).multiplyScalar(i.rotateSpeed);const _e=i.domElement;_e&&(Q(2*Math.PI*A.x/_e.clientHeight),Z(2*Math.PI*A.y/_e.clientHeight)),x.copy(w),i.update()}function Ce(W){C.set(W.clientX,W.clientY),T.subVectors(C,b),T.y>0?V(K()):T.y<0&&ne(K()),b.copy(C),i.update()}function Ee(W){S.set(W.clientX,W.clientY),_.subVectors(S,v).multiplyScalar(i.panSpeed),O(_.x,_.y),v.copy(S),i.update()}function Be(W){j(W),W.deltaY<0?ne(K()):W.deltaY>0&&V(K()),i.update()}function Ae(W){let _e=!1;switch(W.code){case i.keys.UP:O(0,i.keyPanSpeed),_e=!0;break;case i.keys.BOTTOM:O(0,-i.keyPanSpeed),_e=!0;break;case i.keys.LEFT:O(i.keyPanSpeed,0),_e=!0;break;case i.keys.RIGHT:O(-i.keyPanSpeed,0),_e=!0;break}_e&&(W.preventDefault(),i.update())}function U(){if(L.length==1)x.set(L[0].pageX,L[0].pageY);else{const W=.5*(L[0].pageX+L[1].pageX),_e=.5*(L[0].pageY+L[1].pageY);x.set(W,_e)}}function de(){if(L.length==1)v.set(L[0].pageX,L[0].pageY);else{const W=.5*(L[0].pageX+L[1].pageX),_e=.5*(L[0].pageY+L[1].pageY);v.set(W,_e)}}function pe(){const W=L[0].pageX-L[1].pageX,_e=L[0].pageY-L[1].pageY,Oe=Math.sqrt(W*W+_e*_e);b.set(0,Oe)}function Me(){i.enableZoom&&pe(),i.enablePan&&de()}function Se(){i.enableZoom&&pe(),i.enableRotate&&U()}function We(W){if(L.length==1)w.set(W.pageX,W.pageY);else{const Oe=Xe(W),X=.5*(W.pageX+Oe.x),Te=.5*(W.pageY+Oe.y);w.set(X,Te)}A.subVectors(w,x).multiplyScalar(i.rotateSpeed);const _e=i.domElement;_e&&(Q(2*Math.PI*A.x/_e.clientHeight),Z(2*Math.PI*A.y/_e.clientHeight)),x.copy(w)}function Ue(W){if(L.length==1)S.set(W.pageX,W.pageY);else{const _e=Xe(W),Oe=.5*(W.pageX+_e.x),X=.5*(W.pageY+_e.y);S.set(Oe,X)}_.subVectors(S,v).multiplyScalar(i.panSpeed),O(_.x,_.y),v.copy(S)}function Ge(W){const _e=Xe(W),Oe=W.pageX-_e.x,X=W.pageY-_e.y,Te=Math.sqrt(Oe*Oe+X*X);C.set(0,Te),T.set(0,Math.pow(C.y/b.y,i.zoomSpeed)),V(T.y),b.copy(C)}function et(W){i.enableZoom&&Ge(W),i.enablePan&&Ue(W)}function At(W){i.enableZoom&&Ge(W),i.enableRotate&&We(W)}function zt(W){var _e,Oe;i.enabled!==!1&&(L.length===0&&((_e=i.domElement)==null||_e.ownerDocument.addEventListener("pointermove",G),(Oe=i.domElement)==null||Oe.ownerDocument.addEventListener("pointerup",I)),tt(W),W.pointerType==="touch"?Qe(W):he(W))}function G(W){i.enabled!==!1&&(W.pointerType==="touch"?Ie(W):Re(W))}function I(W){var _e,Oe,X;nt(W),L.length===0&&((_e=i.domElement)==null||_e.releasePointerCapture(W.pointerId),(Oe=i.domElement)==null||Oe.ownerDocument.removeEventListener("pointermove",G),(X=i.domElement)==null||X.ownerDocument.removeEventListener("pointerup",I)),i.dispatchEvent(o),l=a.NONE}function he(W){let _e;switch(W.button){case 0:_e=i.mouseButtons.LEFT;break;case 1:_e=i.mouseButtons.MIDDLE;break;case 2:_e=i.mouseButtons.RIGHT;break;default:_e=-1}switch(_e){case Wa.DOLLY:if(i.enableZoom===!1)return;ue(W),l=a.DOLLY;break;case Wa.ROTATE:if(W.ctrlKey||W.metaKey||W.shiftKey){if(i.enablePan===!1)return;ye(W),l=a.PAN}else{if(i.enableRotate===!1)return;Y(W),l=a.ROTATE}break;case Wa.PAN:if(W.ctrlKey||W.metaKey||W.shiftKey){if(i.enableRotate===!1)return;Y(W),l=a.ROTATE}else{if(i.enablePan===!1)return;ye(W),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Re(W){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;we(W);break;case a.DOLLY:if(i.enableZoom===!1)return;Ce(W);break;case a.PAN:if(i.enablePan===!1)return;Ee(W);break}}function be(W){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(W.preventDefault(),i.dispatchEvent(s),Be(W),i.dispatchEvent(o))}function De(W){i.enabled===!1||i.enablePan===!1||Ae(W)}function Qe(W){switch(it(W),L.length){case 1:switch(i.touches.ONE){case Xa.ROTATE:if(i.enableRotate===!1)return;U(),l=a.TOUCH_ROTATE;break;case Xa.PAN:if(i.enablePan===!1)return;de(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Xa.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Me(),l=a.TOUCH_DOLLY_PAN;break;case Xa.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Se(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ie(W){switch(it(W),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;We(W),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;Ue(W),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;et(W),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;At(W),i.update();break;default:l=a.NONE}}function me(W){i.enabled!==!1&&W.preventDefault()}function tt(W){L.push(W)}function nt(W){delete z[W.pointerId];for(let _e=0;_e<L.length;_e++)if(L[_e].pointerId==W.pointerId){L.splice(_e,1);return}}function it(W){let _e=z[W.pointerId];_e===void 0&&(_e=new ve,z[W.pointerId]=_e),_e.set(W.pageX,W.pageY)}function Xe(W){const _e=W.pointerId===L[0].pointerId?L[1]:L[0];return z[_e.pointerId]}this.dollyIn=(W=K())=>{ne(W),i.update()},this.dollyOut=(W=K())=>{V(W),i.update()},this.getScale=()=>p,this.setScale=W=>{J(W),i.update()},this.getZoomScale=()=>K(),t!==void 0&&this.connect(t),this.update()}};function kg(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const al="srgb",Zs="srgb-linear",mC=3001,DG=3e3;class Vw extends _i{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new UG(t)}),this.register(function(t){return new jG(t)}),this.register(function(t){return new YG(t)}),this.register(function(t){return new qG(t)}),this.register(function(t){return new QG(t)}),this.register(function(t){return new HG(t)}),this.register(function(t){return new GG(t)}),this.register(function(t){return new VG(t)}),this.register(function(t){return new WG(t)}),this.register(function(t){return new OG(t)}),this.register(function(t){return new XG(t)}),this.register(function(t){return new zG(t)}),this.register(function(t){return new KG(t)}),this.register(function(t){return new JG(t)}),this.register(function(t){return new kG(t)}),this.register(function(t){return new $G(t)}),this.register(function(t){return new ZG(t)})}load(e,t,i,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=ea.extractUrlBase(e);o=ea.resolveURL(c,this.path)}else o=ea.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ni(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(kg(new Uint8Array(e.slice(0,4)))===KN){try{o[Rt.KHR_BINARY_GLTF]=new e7(e)}catch(d){r&&r(d);return}s=JSON.parse(o[Rt.KHR_BINARY_GLTF].content)}else s=JSON.parse(kg(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new f7(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const d=this.pluginCallbacks[c](l);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const d=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(d){case Rt.KHR_MATERIALS_UNLIT:o[d]=new FG;break;case Rt.KHR_DRACO_MESH_COMPRESSION:o[d]=new t7(s,this.dracoLoader);break;case Rt.KHR_TEXTURE_TRANSFORM:o[d]=new n7;break;case Rt.KHR_MESH_QUANTIZATION:o[d]=new i7;break;default:f.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function IG(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Rt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class kG{constructor(e){this.parser=e,this.name=Rt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const d=new Fe(16777215);l.color!==void 0&&d.setRGB(l.color[0],l.color[1],l.color[2],Zs);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new Iw(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Dw(d),c.distance=f;break;case"spot":c=new Bw(d),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Hs(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class FG{constructor(){this.name=Rt.KHR_MATERIALS_UNLIT}getMaterialType(){return rr}extendParams(e,t,i){const r=[];e.color=new Fe(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Zs),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,al))}return Promise.all(r)}}class OG{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class UG{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:kr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ve(a,a)}return Promise.all(s)}}class jG{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:kr}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class zG{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:kr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class HG{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:kr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Fe(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Zs)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,al)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class GG{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:kr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class VG{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:kr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Fe().setRGB(a[0],a[1],a[2],Zs),Promise.all(s)}}class WG{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:kr}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class XG{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:kr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Fe().setRGB(a[0],a[1],a[2],Zs),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,al)),Promise.all(s)}}class JG{constructor(e){this.parser=e,this.name=Rt.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:kr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class KG{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:kr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class YG{constructor(e){this.parser=e,this.name=Rt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class qG{constructor(e){this.parser=e,this.name=Rt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class QG{constructor(e){this.parser=e,this.name=Rt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class $G{constructor(e){this.name=Rt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,d=r.count,f=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,f,p,r.mode,r.filter).then(function(g){return g.buffer}):o.ready.then(function(){const g=new ArrayBuffer(d*f);return o.decodeGltfBuffer(new Uint8Array(g),d,f,p,r.mode,r.filter),g})})}else return null}}class ZG{constructor(e){this.name=Rt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==Mr.TRIANGLES&&c.mode!==Mr.TRIANGLE_STRIP&&c.mode!==Mr.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(d=>(l[c]=d,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const d=c.pop(),f=d.isGroup?d.children:[d],p=c[0].count,g=[];for(const x of f){const w=new lt,A=new k,v=new Zn,S=new k(1,1,1),_=new vw(x.geometry,x.material,p);for(let b=0;b<p;b++)l.TRANSLATION&&A.fromBufferAttribute(l.TRANSLATION,b),l.ROTATION&&v.fromBufferAttribute(l.ROTATION,b),l.SCALE&&S.fromBufferAttribute(l.SCALE,b),_.setMatrixAt(b,w.compose(A,v,S));for(const b in l)if(b==="_COLOR_0"){const C=l[b];_.instanceColor=new Ml(C.array,C.itemSize,C.normalized)}else b!=="TRANSLATION"&&b!=="ROTATION"&&b!=="SCALE"&&x.geometry.setAttribute(b,l[b]);Bt.prototype.copy.call(_,x),this.parser.assignFinalMaterial(_),g.push(_)}return d.isGroup?(d.clear(),d.add(...g),d):g[0]}))}}const KN="glTF",bd=12,gC={JSON:1313821514,BIN:5130562};class e7{constructor(e){this.name=Rt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,bd);if(this.header={magic:kg(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==KN)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-bd,r=new DataView(e,bd);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===gC.JSON){const l=new Uint8Array(e,bd+s,o);this.content=kg(l)}else if(a===gC.BIN){const l=bd+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class t7{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Rt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const d in o){const f=MA[d]||d.toLowerCase();a[f]=o[d]}for(const d in e.attributes){const f=MA[d]||d.toLowerCase();if(o[d]!==void 0){const p=i.accessors[e.attributes[d]],g=au[p.componentType];c[f]=g.name,l[f]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(f,p){r.decodeDracoFile(d,function(g){for(const x in g.attributes){const w=g.attributes[x],A=l[x];A!==void 0&&(w.normalized=A)}f(g)},a,c,Zs,p)})})}}class n7{constructor(){this.name=Rt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class i7{constructor(){this.name=Rt.KHR_MESH_QUANTIZATION}}class YN extends Fu{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,d=r-t,f=(i-t)/d,p=f*f,g=p*f,x=e*c,w=x-c,A=-2*g+3*p,v=g-p,S=1-A,_=v-p+f;for(let b=0;b!==a;b++){const C=o[w+b+a],T=o[w+b+l]*d,N=o[x+b+a],B=o[x+b]*d;s[b]=S*C+_*T+A*N+v*B}return s}}const r7=new Zn;class s7 extends YN{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return r7.fromArray(s).normalize().toArray(s),s}}const Mr={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},au={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},vC={9728:Mn,9729:Vt,9984:Eh,9985:p0,9986:iu,9987:Es},xC={33071:ii,33648:mu,10497:la},ay={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},MA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...bG>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Po={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},o7={CUBICSPLINE:void 0,LINEAR:Sl,STEP:vu},ly={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function a7(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new df({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:bs})),n.DefaultMaterial}function Ua(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Hs(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function l7(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,d=e.length;c<d;c++){const f=e[c];if(f.POSITION!==void 0&&(i=!0),f.NORMAL!==void 0&&(r=!0),f.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,d=e.length;c<d;c++){const f=e[c];if(i){const p=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(p)}if(r){const p=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],f=c[1],p=c[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function c7(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function u7(n){let e;const t=n.extensions&&n.extensions[Rt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+cy(t.attributes):e=n.indices+":"+cy(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+cy(n.targets[i]);return e}function cy(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function bA(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function d7(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const h7=new lt;class f7{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new IG,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new uN(this.options.manager):this.textureLoader=new vN(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ni(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return Ua(s,a,r),Hs(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,d]of o.children.entries())s(d,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Rt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(ea.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=ay[r.type],a=au[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Dt(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=ay[r.type],c=au[r.componentType],d=c.BYTES_PER_ELEMENT,f=d*l,p=r.byteOffset||0,g=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,x=r.normalized===!0;let w,A;if(g&&g!==f){const v=Math.floor(p/g),S="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+v+":"+r.count;let _=t.cache.get(S);_||(w=new c(a,v*g,r.count*g/d),_=new Yh(w,g/d),t.cache.add(S,_)),A=new ca(_,l,p%g/d,x)}else a===null?w=new c(r.count*l):w=new c(a,p,r.count*l),A=new Dt(w,l,x);if(r.sparse!==void 0){const v=ay.SCALAR,S=au[r.sparse.indices.componentType],_=r.sparse.indices.byteOffset||0,b=r.sparse.values.byteOffset||0,C=new S(o[1],_,r.sparse.count*v),T=new c(o[2],b,r.sparse.count*l);a!==null&&(A=new Dt(A.array.slice(),A.itemSize,A.normalized));for(let N=0,B=C.length;N<B;N++){const P=C[N];if(A.setX(P,T[N*l]),l>=2&&A.setY(P,T[N*l+1]),l>=3&&A.setZ(P,T[N*l+2]),l>=4&&A.setW(P,T[N*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return d.magFilter=vC[p.magFilter]||Vt,d.minFilter=vC[p.minFilter]||Es,d.wrapS=xC[p.wrapS]||la,d.wrapT=xC[p.wrapT]||la,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const p=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(f){return new Promise(function(p,g){let x=p;t.isImageBitmapLoader===!0&&(x=function(w){const A=new an(w);A.needsUpdate=!0,p(A)}),t.load(ea.resolveURL(f,s.path),x,void 0,g)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),Hs(f,o),f.userData.mimeType=o.mimeType||d7(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Rt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Rt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Rt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===mC?al:Zs),"colorSpace"in o?o.colorSpace=r:o.encoding=r===al?mC:DG),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Qh,On.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Ai,On.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return df}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Rt.KHR_MATERIALS_UNLIT]){const f=r[Rt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new Fe(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],Zs),a.opacity=p[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,al)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Rr);const d=s.alphaMode||ly.OPAQUE;if(d===ly.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===ly.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==rr&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ve(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}if(s.occlusionTexture!==void 0&&o!==rr&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==rr){const f=s.emissiveFactor;a.emissive=new Fe().setRGB(f[0],f[1],f[2],Zs)}return s.emissiveTexture!==void 0&&o!==rr&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,al)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Hs(f,s),t.associations.set(f,{materials:e}),s.extensions&&Ua(r,f,s),f})}createUniqueName(e){const t=Nt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Rt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return yC(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],d=u7(c),f=r[d];if(f)o.push(f.promise);else{let p;c.extensions&&c.extensions[Rt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=yC(new yt,c,t),r[d]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const d=o[l].material===void 0?a7(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],f=[];for(let g=0,x=d.length;g<x;g++){const w=d[g],A=o[g];let v;const S=c[g];if(A.mode===Mr.TRIANGLES||A.mode===Mr.TRIANGLE_STRIP||A.mode===Mr.TRIANGLE_FAN||A.mode===void 0)v=s.isSkinnedMesh===!0?new gw(w,S):new Qn(w,S),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),A.mode===Mr.TRIANGLE_STRIP?v.geometry=hC(v.geometry,tw):A.mode===Mr.TRIANGLE_FAN&&(v.geometry=hC(v.geometry,Lg));else if(A.mode===Mr.LINES)v=new is(w,S);else if(A.mode===Mr.LINE_STRIP)v=new oo(w,S);else if(A.mode===Mr.LINE_LOOP)v=new xw(w,S);else if(A.mode===Mr.POINTS)v=new yw(w,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(v.geometry.morphAttributes).length>0&&c7(v,s),v.name=t.createUniqueName(s.name||"mesh_"+e),Hs(v,s),A.extensions&&Ua(r,v,A),t.assignFinalMaterial(v),f.push(v)}for(let g=0,x=f.length;g<x;g++)t.associations.set(f[g],{meshes:e,primitives:g});if(f.length===1)return s.extensions&&Ua(r,f[0],s),f[0];const p=new Ys;s.extensions&&Ua(r,p,s),t.associations.set(p,{meshes:e});for(let g=0,x=f.length;g<x;g++)p.add(f[g]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new on(bL.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Zr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Hs(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,d=o.length;c<d;c++){const f=o[c];if(f){a.push(f);const p=new lt;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new qh(a,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],c=[],d=[];for(let f=0,p=r.channels.length;f<p;f++){const g=r.channels[f],x=r.samplers[g.sampler],w=g.target,A=w.node,v=r.parameters!==void 0?r.parameters[x.input]:x.input,S=r.parameters!==void 0?r.parameters[x.output]:x.output;w.node!==void 0&&(o.push(this.getDependency("node",A)),a.push(this.getDependency("accessor",v)),l.push(this.getDependency("accessor",S)),c.push(x),d.push(w))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(d)]).then(function(f){const p=f[0],g=f[1],x=f[2],w=f[3],A=f[4],v=[];for(let S=0,_=p.length;S<_;S++){const b=p[S],C=g[S],T=x[S],N=w[S],B=A[S];if(b===void 0)continue;b.updateMatrix&&b.updateMatrix();const P=i._createAnimationTracks(b,C,T,N,B);if(P)for(let L=0;L<P.length;L++)v.push(P[L])}return new Au(s,void 0,v)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,d=a.length;c<d;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const d=c[0],f=c[1],p=c[2];p!==null&&d.traverse(function(g){g.isSkinnedMesh&&g.bind(p,h7)});for(let g=0,x=f.length;g<x;g++)d.add(f[g]);return d})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let d;if(s.isBone===!0?d=new w0:c.length>1?d=new Ys:c.length===1?d=c[0]:d=new Bt,d!==c[0])for(let f=0,p=c.length;f<p;f++)d.add(c[f]);if(s.name&&(d.userData.name=s.name,d.name=o),Hs(d,s),s.extensions&&Ua(i,d,s),s.matrix!==void 0){const f=new lt;f.fromArray(s.matrix),d.applyMatrix4(f)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return r.associations.has(d)||r.associations.set(d,{}),r.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Ys;i.name&&(s.name=r.createUniqueName(i.name)),Hs(s,i),i.extensions&&Ua(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,f=l.length;d<f;d++)s.add(l[d]);const c=d=>{const f=new Map;for(const[p,g]of r.associations)(p instanceof On||p instanceof an)&&f.set(p,g);return d.traverse(p=>{const g=r.associations.get(p);g!=null&&f.set(p,g)}),f};return r.associations=c(s),s})}_createAnimationTracks(e,t,i,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];Po[s.path]===Po.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let c;switch(Po[s.path]){case Po.weights:c=El;break;case Po.rotation:c=ua;break;case Po.position:case Po.scale:c=Cl;break;default:switch(i.itemSize){case 1:c=El;break;case 2:case 3:default:c=Cl;break}break}const d=r.interpolation!==void 0?o7[r.interpolation]:Sl,f=this._getArrayFromAccessor(i);for(let p=0,g=l.length;p<g;p++){const x=new c(l[p]+"."+Po[s.path],t.array,f,d);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(x),o.push(x)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=bA(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof ua?s7:YN;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function p7(n,e,t){const i=e.attributes,r=new ns;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new k(l[0],l[1],l[2]),new k(c[0],c[1],c[2])),a.normalized){const d=bA(au[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new k,l=new k;for(let c=0,d=s.length;c<d;c++){const f=s[c];if(f.POSITION!==void 0){const p=t.json.accessors[f.POSITION],g=p.min,x=p.max;if(g!==void 0&&x!==void 0){if(l.setX(Math.max(Math.abs(g[0]),Math.abs(x[0]))),l.setY(Math.max(Math.abs(g[1]),Math.abs(x[1]))),l.setZ(Math.max(Math.abs(g[2]),Math.abs(x[2]))),p.normalized){const w=bA(au[p.componentType]);l.multiplyScalar(w)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new Ir;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function yC(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=MA[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Hs(n,e),p7(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?l7(n,e.targets,t):n})}const uy=new WeakMap;let m7=class extends _i{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Ni(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(uy.has(e)){const l=uy.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,d)=>{r._callbacks[s]={resolve:c,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),uy.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new yt;e.index&&t.setIndex(new Dt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Dt(o,a))}return t}_loadLibrary(e,t){const i=new Ni(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=g7.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}};function g7(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(f){d({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(d=>{const f=d.draco,p=new f.Decoder,g=new f.DecoderBuffer;g.Init(new Int8Array(l),l.byteLength);try{const x=t(f,p,g,c),w=x.attributes.map(A=>A.array.buffer);x.index&&w.push(x.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:x},w)}catch(x){console.error(x),self.postMessage({type:"error",id:a.id,error:x.message})}finally{f.destroy(g),f.destroy(p)}});break}};function t(o,a,l,c){const d=c.attributeIDs,f=c.attributeTypes;let p,g;const x=a.GetEncodedGeometryType(l);if(x===o.TRIANGULAR_MESH)p=new o.Mesh,g=a.DecodeBufferToMesh(l,p);else if(x===o.POINT_CLOUD)p=new o.PointCloud,g=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!g.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+g.error_msg());const w={index:null,attributes:[]};for(const A in d){const v=self[f[A]];let S,_;if(c.useUniqueIDs)_=d[A],S=a.GetAttributeByUniqueId(p,_);else{if(_=a.GetAttributeId(p,o[d[A]]),_===-1)continue;S=a.GetAttribute(p,_)}w.attributes.push(r(o,a,p,A,v,S))}return x===o.TRIANGULAR_MESH&&(w.index=i(o,a,p)),o.destroy(p),w}function i(o,a,l){const d=l.num_faces()*3,f=d*4,p=o._malloc(f);a.GetTrianglesUInt32Array(l,f,p);const g=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:g,itemSize:1}}function r(o,a,l,c,d,f){const p=f.num_components(),x=l.num_points()*p,w=x*d.BYTES_PER_ELEMENT,A=s(o,d),v=o._malloc(w);a.GetAttributeDataArrayForAllPoints(l,f,A,w,v);const S=new d(o.HEAPF32.buffer,v,x).slice();return o._free(v),{name:c,array:S,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let bm;const dy=()=>{if(bm)return bm;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const p=new Uint8Array(f.length);for(let x=0;x<f.length;++x){const w=f.charCodeAt(x);p[x]=w>96?w-71:w>64?w-65:w>47?w+4:w>46?63:62}let g=0;for(let x=0;x<f.length;++x)p[g++]=p[x]<60?i[p[x]]:(p[x]-60)*64+p[++x];return p.buffer.slice(0,g)}function l(f,p,g,x,w,A){const v=s.exports.sbrk,S=g+3&-4,_=v(S*x),b=v(w.length),C=new Uint8Array(s.exports.memory.buffer);C.set(w,b);const T=f(_,g,x,b,w.length);if(T===0&&A&&A(_,S,x),p.set(C.subarray(_,_+g*x)),v(_-v(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return bm={ready:o,supported:!0,decodeVertexBuffer(f,p,g,x,w){l(s.exports.meshopt_decodeVertexBuffer,f,p,g,x,s.exports[c[w]])},decodeIndexBuffer(f,p,g,x){l(s.exports.meshopt_decodeIndexBuffer,f,p,g,x)},decodeIndexSequence(f,p,g,x){l(s.exports.meshopt_decodeIndexSequence,f,p,g,x)},decodeGltfBuffer(f,p,g,x,w,A){l(s.exports[d[w]],f,p,g,x,s.exports[c[A]])}},bm},v7=()=>parseInt(Pu.replace(/\D+/g,"")),qN=v7();let Em=null,QN="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function $N(n=!0,e=!0,t){return i=>{t&&t(i),n&&(Em||(Em=new m7),Em.setDecoderPath(typeof n=="string"?n:QN),i.setDRACOLoader(Em)),e&&i.setMeshoptDecoder(typeof dy=="function"?dy():dy)}}const ni=(n,e,t,i)=>pf(Vw,n,$N(e,t,i));ni.preload=(n,e,t,i)=>pf.preload(Vw,n,$N(e,t,i));ni.clear=n=>pf.clear(Vw,n);ni.setDecoderPath=n=>{QN=n};const Ww=D.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},d)=>{const f=Er(T=>T.invalidate),p=Er(T=>T.camera),g=Er(T=>T.gl),x=Er(T=>T.events),w=Er(T=>T.setEvents),A=Er(T=>T.set),v=Er(T=>T.get),S=Er(T=>T.performance),_=e||p,b=i||x.connected||g.domElement,C=D.useMemo(()=>new BG(_),[_]);return ff(()=>{C.enabled&&C.update()},-1),D.useEffect(()=>(s&&C.connect(s===!0?b:s),C.connect(b),()=>void C.dispose()),[s,b,t,C,f]),D.useEffect(()=>{const T=P=>{f(),t&&S.regress(),o&&o(P)},N=P=>{a&&a(P)},B=P=>{l&&l(P)};return C.addEventListener("change",T),C.addEventListener("start",N),C.addEventListener("end",B),()=>{C.removeEventListener("start",N),C.removeEventListener("end",B),C.removeEventListener("change",T)}},[o,a,l,C,f,w]),D.useEffect(()=>{if(n){const T=v().controls;return A({controls:C}),()=>A({controls:T})}},[n,C]),D.createElement("primitive",ao({ref:d,object:C,enableDamping:r},c))}),hy=qN>=154?"opaque_fragment":"output_fragment";class x7 extends Qh{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:r}=i.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${hy}>`,`
        ${r?`#include <${hy}>`:`#extension GL_OES_standard_derivatives : enable
#include <${hy}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${qN>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const y7=D.forwardRef((n,e)=>{const[t]=D.useState(()=>new x7(null));return D.createElement("primitive",ao({},n,{object:t,ref:e,attach:"material"}))});let ja,Ed;const A7=D.createContext(null),AC=new lt,_C=new k,_7=D.forwardRef(({children:n,range:e,limit:t=1e3,...i},r)=>{const s=D.useRef(null);D.useImperativeHandle(r,()=>s.current,[]);const[o,a]=D.useState([]),[[l,c,d]]=D.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);D.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),ff(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),AC.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),ja=0;ja<o.length;ja++)Ed=o[ja].current,Ed.getWorldPosition(_C).applyMatrix4(AC),_C.toArray(l,ja*3),s.current.geometry.attributes.position.needsUpdate=!0,Ed.matrixWorldNeedsUpdate=!0,Ed.color.toArray(c,ja*3),s.current.geometry.attributes.color.needsUpdate=!0,d.set([Ed.size],ja),s.current.geometry.attributes.size.needsUpdate=!0});const f=D.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(g=>[...g,p]),()=>a(g=>g.filter(x=>x.current!==p.current)))}),[]);return D.createElement("points",ao({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},i),D.createElement("bufferGeometry",null,D.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:hl}),D.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:hl}),D.createElement("bufferAttribute",{attach:"attributes-size",count:d.length,array:d,itemSize:1,usage:hl})),D.createElement(A7.Provider,{value:f},n))}),w7=D.forwardRef(({children:n,positions:e,colors:t,sizes:i,stride:r=3,...s},o)=>{const a=D.useRef(null);return D.useImperativeHandle(o,()=>a.current,[]),ff(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),D.createElement("points",ao({ref:a},s),D.createElement("bufferGeometry",null,D.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:hl}),t&&D.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:hl}),i&&D.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:hl})),n)}),S7=D.forwardRef((n,e)=>n.positions instanceof Float32Array?D.createElement(w7,ao({},n,{ref:e})):D.createElement(_7,ao({},n,{ref:e})));function R0({all:n,scene:e,camera:t}){const i=Er(({gl:o})=>o),r=Er(({camera:o})=>o),s=Er(({scene:o})=>o);return D.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),i.compile(e||s,t||r);const a=new uw(128);new cw(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const fy=new WeakMap;class Lo extends _i{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Ni(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{this.parse(o,t,r)},i,r)}parse(e,t,i){this.decodeDracoFile(e,t,null,null,mt).catch(i)}decodeDracoFile(e,t,i,r,s=Dr){const o={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i,vertexColorSpace:s};return this.decodeGeometry(e,o).then(t)}decodeGeometry(e,t){const i=JSON.stringify(t);if(fy.has(e)){const l=fy.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,d)=>{r._callbacks[s]={resolve:c,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),fy.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new yt;e.index&&t.setIndex(new Dt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize,l=new Dt(o,a);s==="color"&&(this._assignVertexColorSpace(l,r.vertexColorSpace),l.normalized=!(o instanceof Float32Array)),t.setAttribute(s,l)}return t}_assignVertexColorSpace(e,t){if(t!==mt)return;const i=new Fe;for(let r=0,s=e.count;r<s;r++)i.fromBufferAttribute(e,r).convertSRGBToLinear(),e.setXYZ(r,i.r,i.g,i.b)}_loadLibrary(e,t){const i=new Ni(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=M7.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function M7(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(f){d({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(d=>{const f=d.draco,p=new f.Decoder;try{const g=t(f,p,new Int8Array(l),c),x=g.attributes.map(w=>w.array.buffer);g.index&&x.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},x)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(p)}});break}};function t(o,a,l,c){const d=c.attributeIDs,f=c.attributeTypes;let p,g;const x=a.GetEncodedGeometryType(l);if(x===o.TRIANGULAR_MESH)p=new o.Mesh,g=a.DecodeArrayToMesh(l,l.byteLength,p);else if(x===o.POINT_CLOUD)p=new o.PointCloud,g=a.DecodeArrayToPointCloud(l,l.byteLength,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!g.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+g.error_msg());const w={index:null,attributes:[]};for(const A in d){const v=self[f[A]];let S,_;if(c.useUniqueIDs)_=d[A],S=a.GetAttributeByUniqueId(p,_);else{if(_=a.GetAttributeId(p,o[d[A]]),_===-1)continue;S=a.GetAttribute(p,_)}const b=r(o,a,p,A,v,S);A==="color"&&(b.vertexColorSpace=c.vertexColorSpace),w.attributes.push(b)}return x===o.TRIANGULAR_MESH&&(w.index=i(o,a,p)),o.destroy(p),w}function i(o,a,l){const d=l.num_faces()*3,f=d*4,p=o._malloc(f);a.GetTrianglesUInt32Array(l,f,p);const g=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:g,itemSize:1}}function r(o,a,l,c,d,f){const p=f.num_components(),x=l.num_points()*p,w=x*d.BYTES_PER_ELEMENT,A=s(o,d),v=o._malloc(w);a.GetAttributeDataArrayForAllPoints(l,f,A,w,v);const S=new d(o.HEAPF32.buffer,v,x).slice();return o._free(v),{name:c,array:S,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}const Xw=()=>{const{progress:n}=vG(),e={display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},t={fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40};return m.jsxs(hG,{as:"div",center:!0,style:e,children:[m.jsx("span",{className:"canvas-loader"}),m.jsxs("p",{style:t,children:[n.toFixed(2),"%"]})]})},b7=({isMobile:n})=>{const e=()=>m.jsxs("mesh",{children:[m.jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),m.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),m.jsx("pointLight",{intensity:1}),m.jsxs("group",{position:[0,-1.5,0],rotation:[0,Math.PI/4,0],children:[m.jsxs("mesh",{position:[0,0,0],children:[m.jsx("boxGeometry",{args:[4,1,2]}),m.jsx("meshStandardMaterial",{color:"#333333",metalness:.8,roughness:.2})]}),m.jsxs("mesh",{position:[0,.75,0],children:[m.jsx("boxGeometry",{args:[2.5,.5,1.8]}),m.jsx("meshStandardMaterial",{color:"#222222",metalness:.8,roughness:.2})]}),m.jsxs("mesh",{position:[1.5,-.1,0],children:[m.jsx("boxGeometry",{args:[1,.4,1.8]}),m.jsx("meshStandardMaterial",{color:"#333333",metalness:.8,roughness:.2})]}),m.jsxs("mesh",{position:[-1.5,-.1,0],children:[m.jsx("boxGeometry",{args:[1,.4,1.8]}),m.jsx("meshStandardMaterial",{color:"#333333",metalness:.8,roughness:.2})]}),m.jsxs("mesh",{position:[1.2,-.6,1],rotation:[Math.PI/2,0,0],children:[m.jsx("cylinderGeometry",{args:[.4,.4,.2,32]}),m.jsx("meshStandardMaterial",{color:"#111111"})]}),m.jsxs("mesh",{position:[1.2,-.6,-1],rotation:[Math.PI/2,0,0],children:[m.jsx("cylinderGeometry",{args:[.4,.4,.2,32]}),m.jsx("meshStandardMaterial",{color:"#111111"})]}),m.jsxs("mesh",{position:[-1.2,-.6,1],rotation:[Math.PI/2,0,0],children:[m.jsx("cylinderGeometry",{args:[.4,.4,.2,32]}),m.jsx("meshStandardMaterial",{color:"#111111"})]}),m.jsxs("mesh",{position:[-1.2,-.6,-1],rotation:[Math.PI/2,0,0],children:[m.jsx("cylinderGeometry",{args:[.4,.4,.2,32]}),m.jsx("meshStandardMaterial",{color:"#111111"})]}),m.jsxs("mesh",{position:[.5,.75,0],rotation:[0,0,Math.PI/8],children:[m.jsx("boxGeometry",{args:[.1,.5,1.7]}),m.jsx("meshStandardMaterial",{color:"#aaddff",metalness:.9,roughness:.1})]}),m.jsxs("mesh",{position:[2,0,.6],children:[m.jsx("boxGeometry",{args:[.1,.3,.3]}),m.jsx("meshStandardMaterial",{color:"#ffffff",emissive:"#ffffff",emissiveIntensity:.5})]}),m.jsxs("mesh",{position:[2,0,-.6],children:[m.jsx("boxGeometry",{args:[.1,.3,.3]}),m.jsx("meshStandardMaterial",{color:"#ffffff",emissive:"#ffffff",emissiveIntensity:.5})]}),m.jsxs("mesh",{position:[-2,0,.6],children:[m.jsx("boxGeometry",{args:[.1,.3,.3]}),m.jsx("meshStandardMaterial",{color:"#ff0000",emissive:"#ff0000",emissiveIntensity:.5})]}),m.jsxs("mesh",{position:[-2,0,-.6],children:[m.jsx("boxGeometry",{args:[.1,.3,.3]}),m.jsx("meshStandardMaterial",{color:"#ff0000",emissive:"#ff0000",emissiveIntensity:.5})]})]})]});try{let i="./Mercedes_S_class/scene.gltf";console.log("Attempting to load 3D model from:",i);try{var{scene:t}=ni(i,void 0,r=>{const s=new Lo;r.setDRACOLoader(s)})}catch{try{i="./Mercedes_S_class/scene.glb",console.log("Attempting to load 3D model from:",i);var{scene:t}=ni(i,void 0,o=>{const a=new Lo;o.setDRACOLoader(a)})}catch{try{i="./Mercedes_S_class/car.gltf",console.log("Attempting to load 3D model from:",i);var{scene:t}=ni(i,void 0,a=>{const l=new Lo;a.setDRACOLoader(l)})}catch{try{i="./Mercedes_S_class/car.glb",console.log("Attempting to load 3D model from:",i);var{scene:t}=ni(i,void 0,l=>{const c=new Lo;l.setDRACOLoader(c)})}catch{try{i="./Mercedes_S_class/model.gltf",console.log("Attempting to load 3D model from:",i);var{scene:t}=ni(i,void 0,c=>{const d=new Lo;c.setDRACOLoader(d)})}catch{try{i="./Mercedes_S_class/index.gltf",console.log("Attempting to load 3D model from:",i);var{scene:t}=ni(i,void 0,d=>{const f=new Lo;d.setDRACOLoader(f)})}catch{try{i="./Mercedes_S_class/scene.obj",console.log("Attempting to load 3D model from:",i);var{scene:t}=ni(i,void 0,f=>{const p=new Lo;f.setDRACOLoader(p)})}catch{i="./desktop_pc/scene.gltf",console.log("Falling back to original model:",i);var{scene:t}=ni(i,void 0,p=>{const g=new Lo;p.setDRACOLoader(g)})}}}}}}}return console.log("Successfully loaded 3D model from:",i),m.jsxs("mesh",{children:[m.jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),m.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),m.jsx("pointLight",{intensity:1}),m.jsx("primitive",{object:t,scale:n?.4:.5,position:n?[0,-2,-2.2]:[0,-2.25,-1.5],rotation:[0,Math.PI/4,0]})]})}catch(i){return console.error("Error loading 3D model:",i),console.log("Using custom car model instead of 3D model"),e()}};pn.memo(b7);class qq extends pn.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.warn("Three.js error caught:",e,t)}render(){return this.state.hasError?this.props.fallback:this.props.children}}const E7=3500,C7=()=>{const n=D.useRef({rotation:{x:0,y:0,z:Math.PI/4}}),e=MG(new Float32Array(E7*3),{radius:1.5});return ff((t,i)=>{n.current.rotation.x-=i/10,n.current.rotation.y-=i/15}),m.jsx("group",{rotation:[0,0,Math.PI/4],children:m.jsx(S7,{ref:n,positions:e,stride:3,frustumCulled:!0,children:m.jsx(y7,{transparent:!0,color:"#d4af37",size:.0015,sizeAttenuation:!0,depthWrite:!1})})})},wC=()=>m.jsxs("div",{className:"stars-fallback",children:[m.jsx("div",{className:"stars-fallback-layer stars-small"}),m.jsx("div",{className:"stars-fallback-layer stars-medium"}),m.jsx("div",{className:"stars-fallback-layer stars-large"})]}),gf=()=>{const[n,e]=D.useState(!0),[t,i]=D.useState(0);return D.useEffect(()=>{try{const r=document.createElement("canvas"),s=r.getContext("webgl")||r.getContext("experimental-webgl");e(!!s)}catch(r){console.warn("WebGL not available:",r),e(!1)}},[]),n?m.jsx("div",{className:"stars-canvas-container",children:m.jsx(T7,{fallback:m.jsx(wC,{}),children:m.jsxs(T0,{camera:{position:[0,0,1]},onError:r=>{console.warn("Canvas error:",r),i(s=>s+1),t>2&&e(!1)},children:[m.jsx(D.Suspense,{fallback:null,children:m.jsx(C7,{})}),m.jsx(R0,{all:!0})]})})}):m.jsx(wC,{})};let T7=class extends pn.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.warn("Three.js error caught:",e,t)}render(){return this.state.hasError?this.props.fallback:this.props.children}};const ZN=D.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),P0=D.createContext({}),L0=D.createContext(null),N0=typeof document<"u",Jw=N0?D.useLayoutEffect:D.useEffect,eB=D.createContext({strict:!1}),Kw=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),R7="framerAppearId",tB="data-"+Kw(R7);function P7(n,e,t,i){const{visualElement:r}=D.useContext(P0),s=D.useContext(eB),o=D.useContext(L0),a=D.useContext(ZN).reducedMotion,l=D.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;D.useInsertionEffect(()=>{c&&c.update(t,o)});const d=D.useRef(!!(t[tB]&&!window.HandoffComplete));return Jw(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),D.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function Jc(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function L7(n,e,t){return D.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Jc(t)&&(t.current=i))},[e])}function kh(n){return typeof n=="string"||Array.isArray(n)}function B0(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Yw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qw=["initial",...Yw];function D0(n){return B0(n.animate)||qw.some(e=>kh(n[e]))}function nB(n){return!!(D0(n)||n.variants)}function N7(n,e){if(D0(n)){const{initial:t,animate:i}=n;return{initial:t===!1||kh(t)?t:void 0,animate:kh(i)?i:void 0}}return n.inherit!==!1?e:{}}function B7(n){const{initial:e,animate:t}=N7(n,D.useContext(P0));return D.useMemo(()=>({initial:e,animate:t}),[SC(e),SC(t)])}function SC(n){return Array.isArray(n)?n.join(" "):n}const MC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fh={};for(const n in MC)Fh[n]={isEnabled:e=>MC[n].some(t=>!!e[t])};function D7(n){for(const e in n)Fh[e]={...Fh[e],...n[e]}}const Qw=D.createContext({}),iB=D.createContext({}),I7=Symbol.for("motionComponentSymbol");function k7({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&D7(n);function s(a,l){let c;const d={...D.useContext(ZN),...a,layoutId:F7(a)},{isStatic:f}=d,p=B7(a),g=i(a,f);if(!f&&N0){p.visualElement=P7(r,g,d,e);const x=D.useContext(iB),w=D.useContext(eB).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,w,n,x))}return D.createElement(P0.Provider,{value:p},c&&p.visualElement?D.createElement(c,{visualElement:p.visualElement,...d}):null,t(r,a,L7(g,p.visualElement,l),g,f,p.visualElement))}const o=D.forwardRef(s);return o[I7]=r,o}function F7({layoutId:n}){const e=D.useContext(Qw).id;return e&&n!==void 0?e+"-"+n:n}function O7(n){function e(i,r={}){return k7(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const U7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $w(n){return typeof n!="string"||n.includes("-")?!1:!!(U7.indexOf(n)>-1||/[A-Z]/.test(n))}const Fg={};function j7(n){Object.assign(Fg,n)}const vf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kl=new Set(vf);function rB(n,{layout:e,layoutId:t}){return kl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Fg[n]||n==="opacity")}const Xi=n=>!!(n&&n.getVelocity),z7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H7=vf.length;function G7(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<H7;o++){const a=vf[o];if(n[a]!==void 0){const l=z7[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const sB=n=>e=>typeof e=="string"&&e.startsWith(n),oB=sB("--"),EA=sB("var(--"),V7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,W7=(n,e)=>e&&typeof n=="number"?e.transform(n):n,da=(n,e,t)=>Math.min(Math.max(t,n),e),Fl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Zd={...Fl,transform:n=>da(0,1,n)},Cm={...Fl,default:1},eh=n=>Math.round(n*1e5)/1e5,I0=/(-)?([\d]*\.?[\d])+/g,aB=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,X7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function xf(n){return typeof n=="string"}const yf=n=>({test:e=>xf(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),No=yf("deg"),Ms=yf("%"),at=yf("px"),J7=yf("vh"),K7=yf("vw"),bC={...Ms,parse:n=>Ms.parse(n)/100,transform:n=>Ms.transform(n*100)},EC={...Fl,transform:Math.round},lB={borderWidth:at,borderTopWidth:at,borderRightWidth:at,borderBottomWidth:at,borderLeftWidth:at,borderRadius:at,radius:at,borderTopLeftRadius:at,borderTopRightRadius:at,borderBottomRightRadius:at,borderBottomLeftRadius:at,width:at,maxWidth:at,height:at,maxHeight:at,size:at,top:at,right:at,bottom:at,left:at,padding:at,paddingTop:at,paddingRight:at,paddingBottom:at,paddingLeft:at,margin:at,marginTop:at,marginRight:at,marginBottom:at,marginLeft:at,rotate:No,rotateX:No,rotateY:No,rotateZ:No,scale:Cm,scaleX:Cm,scaleY:Cm,scaleZ:Cm,skew:No,skewX:No,skewY:No,distance:at,translateX:at,translateY:at,translateZ:at,x:at,y:at,z:at,perspective:at,transformPerspective:at,opacity:Zd,originX:bC,originY:bC,originZ:at,zIndex:EC,fillOpacity:Zd,strokeOpacity:Zd,numOctaves:EC};function Zw(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,d=!0;for(const f in e){const p=e[f];if(oB(f)){s[f]=p;continue}const g=lB[f],x=W7(p,g);if(kl.has(f)){if(l=!0,o[f]=x,!d)continue;p!==(g.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,a[f]=x):r[f]=x}if(e.transform||(l||i?r.transform=G7(n.transform,t,d,i):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const eS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cB(n,e,t){for(const i in e)!Xi(e[i])&&!rB(i,t)&&(n[i]=e[i])}function Y7({transformTemplate:n},e,t){return D.useMemo(()=>{const i=eS();return Zw(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function q7(n,e,t){const i=n.style||{},r={};return cB(r,i,n),Object.assign(r,Y7(n,e,t)),n.transformValues?n.transformValues(r):r}function Q7(n,e,t){const i={},r=q7(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const $7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Og(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||$7.has(n)}let uB=n=>!Og(n);function Z7(n){n&&(uB=e=>e.startsWith("on")?!Og(e):n(e))}try{Z7(require("@emotion/is-prop-valid").default)}catch{}function eV(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(uB(r)||t===!0&&Og(r)||!e&&!Og(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function CC(n,e,t){return typeof n=="string"?n:at.transform(e+t*n)}function tV(n,e,t){const i=CC(e,n.x,n.width),r=CC(t,n.y,n.height);return`${i} ${r}`}const nV={offset:"stroke-dashoffset",array:"stroke-dasharray"},iV={offset:"strokeDashoffset",array:"strokeDasharray"};function rV(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?nV:iV;n[s.offset]=at.transform(-i);const o=at.transform(e),a=at.transform(t);n[s.array]=`${o} ${a}`}function tS(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f,p){if(Zw(n,c,d,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:x,dimensions:w}=n;g.transform&&(w&&(x.transform=g.transform),delete g.transform),w&&(r!==void 0||s!==void 0||x.transform)&&(x.transformOrigin=tV(w,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),i!==void 0&&(g.scale=i),o!==void 0&&rV(g,o,a,l,!1)}const dB=()=>({...eS(),attrs:{}}),nS=n=>typeof n=="string"&&n.toLowerCase()==="svg";function sV(n,e,t,i){const r=D.useMemo(()=>{const s=dB();return tS(s,e,{enableHardwareAcceleration:!1},nS(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};cB(s,n.style,n),r.style={...s,...r.style}}return r}function oV(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=($w(t)?sV:Q7)(i,s,o,t),d={...eV(i,typeof t=="string",n),...l,ref:r},{children:f}=i,p=D.useMemo(()=>Xi(f)?f.get():f,[f]);return D.createElement(t,{...d,children:p})}}function hB(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const fB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pB(n,e,t,i){hB(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(fB.has(r)?r:Kw(r),e.attrs[r])}function iS(n,e){const{style:t}=n,i={};for(const r in t)(Xi(t[r])||e.style&&Xi(e.style[r])||rB(r,n))&&(i[r]=t[r]);return i}function mB(n,e){const t=iS(n,e);for(const i in n)if(Xi(n[i])||Xi(e[i])){const r=vf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[r]=n[i]}return t}function rS(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}function gB(n){const e=D.useRef(null);return e.current===null&&(e.current=n()),e.current}const Ug=n=>Array.isArray(n),aV=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),lV=n=>Ug(n)?n[n.length-1]||0:n;function ng(n){const e=Xi(n)?n.get():n;return aV(e)?e.toValue():e}function cV({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:uV(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const vB=n=>(e,t)=>{const i=D.useContext(P0),r=D.useContext(L0),s=()=>cV(n,e,i,r);return t?s():gB(s)};function uV(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=ng(s[p]);let{initial:o,animate:a}=n;const l=D0(n),c=nB(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const f=d?a:o;return f&&typeof f!="boolean"&&!B0(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const x=rS(n,g);if(!x)return;const{transitionEnd:w,transition:A,...v}=x;for(const S in v){let _=v[S];if(Array.isArray(_)){const b=d?_.length-1:0;_=_[b]}_!==null&&(r[S]=_)}for(const S in w)r[S]=w[S]}),r}const En=n=>n;class TC{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function dV(n){let e=new TC,t=new TC,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const f=d&&r,p=f?e:t;return c&&o.add(l),p.add(l)&&f&&r&&(i=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let c=0;c<i;c++){const d=e.order[c];d(l),o.has(d)&&(a.schedule(d),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const Tm=["prepare","read","update","preRender","render","postRender"],hV=40;function fV(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=Tm.reduce((f,p)=>(f[p]=dV(()=>t=!0),f),{}),o=f=>s[f].process(r),a=()=>{const f=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(f-r.timestamp,hV),1),r.timestamp=f,r.isProcessing=!0,Tm.forEach(o),r.isProcessing=!1,t&&e&&(i=!1,n(a))},l=()=>{t=!0,i=!0,r.isProcessing||n(a)};return{schedule:Tm.reduce((f,p)=>{const g=s[p];return f[p]=(x,w=!1,A=!1)=>(t||l(),g.schedule(x,w,A)),f},{}),cancel:f=>Tm.forEach(p=>s[p].cancel(f)),state:r,steps:s}}const{schedule:Zt,cancel:lo,state:vi,steps:py}=fV(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0),pV={useVisualState:vB({scrapeMotionValuesFromProps:mB,createRenderState:dB,onMount:(n,e,{renderState:t,latestValues:i})=>{Zt.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Zt.render(()=>{tS(t,i,{enableHardwareAcceleration:!1},nS(e.tagName),n.transformTemplate),pB(e,t)})}})},mV={useVisualState:vB({scrapeMotionValuesFromProps:iS,createRenderState:eS})};function gV(n,{forwardMotionProps:e=!1},t,i){return{...$w(n)?pV:mV,preloadedFeatures:t,useRender:oV(e),createVisualElement:i,Component:n}}function qs(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const xB=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function k0(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const vV=n=>e=>xB(e)&&n(e,k0(e));function eo(n,e,t,i){return qs(n,e,vV(t),i)}const xV=(n,e)=>t=>e(n(t)),ta=(...n)=>n.reduce(xV);function yB(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const RC=yB("dragHorizontal"),PC=yB("dragVertical");function AB(n){let e=!1;if(n==="y")e=PC();else if(n==="x")e=RC();else{const t=RC(),i=PC();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function _B(){const n=AB(!0);return n?(n(),!1):!0}class Aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function LC(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.pointerType==="touch"||_B())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&Zt.update(()=>a[i](s,o))};return eo(n.current,t,r,{passive:!n.getProps()[i]})}class yV extends Aa{mount(){this.unmount=ta(LC(this.node,!0),LC(this.node,!1))}unmount(){}}class AV extends Aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ta(qs(this.node.current,"focus",()=>this.onFocus()),qs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wB=(n,e)=>e?n===e?!0:wB(n,e.parentElement):!1;function my(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,k0(t))}class _V extends Aa{constructor(){super(...arguments),this.removeStartListeners=En,this.removeEndListeners=En,this.removeAccessibleListeners=En,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=eo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Zt.update(()=>{!f&&!wB(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=eo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=ta(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||my("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Zt.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=qs(this.node.current,"keyup",o),my("down",(a,l)=>{this.startPress(a,l)})},t=qs(this.node.current,"keydown",e),i=()=>{this.isPressing&&my("cancel",(s,o)=>this.cancelPress(s,o))},r=qs(this.node.current,"blur",i);this.removeAccessibleListeners=ta(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Zt.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_B()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Zt.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=eo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=qs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ta(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const CA=new WeakMap,gy=new WeakMap,wV=n=>{const e=CA.get(n.target);e&&e(n)},SV=n=>{n.forEach(wV)};function MV({root:n,...e}){const t=n||document;gy.has(t)||gy.set(t,{});const i=gy.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(SV,{root:n,...e})),i[r]}function bV(n,e,t){const i=MV(e);return CA.set(n,t),i.observe(n),()=>{CA.delete(n),i.unobserve(n)}}const EV={some:0,all:1};class CV extends Aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:EV[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return bV(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(TV(e,t))&&this.startObserver()}unmount(){}}function TV({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const RV={inView:{Feature:CV},tap:{Feature:_V},focus:{Feature:AV},hover:{Feature:yV}};function SB(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function PV(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function LV(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function F0(n,e,t){const i=n.getProps();return rS(i,e,t!==void 0?t:i.custom,PV(n),LV(n))}let NV=En,sS=En;const na=n=>n*1e3,to=n=>n/1e3,BV={current:!1},MB=n=>Array.isArray(n)&&typeof n[0]=="number";function bB(n){return!!(!n||typeof n=="string"&&EB[n]||MB(n)||Array.isArray(n)&&n.every(bB))}const Od=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,EB={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Od([0,.65,.55,1]),circOut:Od([.55,0,1,.45]),backIn:Od([.31,.01,.66,-.59]),backOut:Od([.33,1.53,.69,.99])};function CB(n){if(n)return MB(n)?Od(n):Array.isArray(n)?n.map(CB):EB[n]}function DV(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const d=CB(a);return Array.isArray(d)&&(c.easing=d),n.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function IV(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const TB=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,kV=1e-7,FV=12;function OV(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=TB(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>kV&&++a<FV);return o}function Af(n,e,t,i){if(n===e&&t===i)return En;const r=s=>OV(s,0,1,n,t);return s=>s===0||s===1?s:TB(r(s),e,i)}const UV=Af(.42,0,1,1),jV=Af(0,0,.58,1),RB=Af(.42,0,.58,1),zV=n=>Array.isArray(n)&&typeof n[0]!="number",PB=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,LB=n=>e=>1-n(1-e),oS=n=>1-Math.sin(Math.acos(n)),NB=LB(oS),HV=PB(oS),BB=Af(.33,1.53,.69,.99),aS=LB(BB),GV=PB(aS),VV=n=>(n*=2)<1?.5*aS(n):.5*(2-Math.pow(2,-10*(n-1))),WV={linear:En,easeIn:UV,easeInOut:RB,easeOut:jV,circIn:oS,circInOut:HV,circOut:NB,backIn:aS,backInOut:GV,backOut:BB,anticipate:VV},NC=n=>{if(Array.isArray(n)){sS(n.length===4);const[e,t,i,r]=n;return Af(e,t,i,r)}else if(typeof n=="string")return WV[n];return n},lS=(n,e)=>t=>!!(xf(t)&&X7.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),DB=(n,e,t)=>i=>{if(!xf(i))return i;const[r,s,o,a]=i.match(I0);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},XV=n=>da(0,255,n),vy={...Fl,transform:n=>Math.round(XV(n))},ll={test:lS("rgb","red"),parse:DB("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+vy.transform(n)+", "+vy.transform(e)+", "+vy.transform(t)+", "+eh(Zd.transform(i))+")"};function JV(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const TA={test:lS("#"),parse:JV,transform:ll.transform},Kc={test:lS("hsl","hue"),parse:DB("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Ms.transform(eh(e))+", "+Ms.transform(eh(t))+", "+eh(Zd.transform(i))+")"},Ti={test:n=>ll.test(n)||TA.test(n)||Kc.test(n),parse:n=>ll.test(n)?ll.parse(n):Kc.test(n)?Kc.parse(n):TA.parse(n),transform:n=>xf(n)?n:n.hasOwnProperty("red")?ll.transform(n):Kc.transform(n)},fn=(n,e,t)=>-t*n+t*e+n;function xy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function KV({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=xy(l,a,n+1/3),s=xy(l,a,n),o=xy(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const yy=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},YV=[TA,ll,Kc],qV=n=>YV.find(e=>e.test(n));function BC(n){const e=qV(n);let t=e.parse(n);return e===Kc&&(t=KV(t)),t}const IB=(n,e)=>{const t=BC(n),i=BC(e),r={...t};return s=>(r.red=yy(t.red,i.red,s),r.green=yy(t.green,i.green,s),r.blue=yy(t.blue,i.blue,s),r.alpha=fn(t.alpha,i.alpha,s),ll.transform(r))};function QV(n){var e,t;return isNaN(n)&&xf(n)&&(((e=n.match(I0))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(aB))===null||t===void 0?void 0:t.length)||0)>0}const kB={regex:V7,countKey:"Vars",token:"${v}",parse:En},FB={regex:aB,countKey:"Colors",token:"${c}",parse:Ti.parse},OB={regex:I0,countKey:"Numbers",token:"${n}",parse:Fl.parse};function Ay(n,{regex:e,countKey:t,token:i,parse:r}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...s.map(r)))}function jg(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Ay(t,kB),Ay(t,FB),Ay(t,OB),t}function UB(n){return jg(n).values}function jB(n){const{values:e,numColors:t,numVars:i,tokenised:r}=jg(n),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(kB.token,o[l]):l<i+t?a=a.replace(FB.token,Ti.transform(o[l])):a=a.replace(OB.token,eh(o[l]));return a}}const $V=n=>typeof n=="number"?0:n;function ZV(n){const e=UB(n);return jB(n)(e.map($V))}const ha={test:QV,parse:UB,createTransformer:jB,getAnimatableNone:ZV},zB=(n,e)=>t=>`${t>0?e:n}`;function HB(n,e){return typeof n=="number"?t=>fn(n,e,t):Ti.test(n)?IB(n,e):n.startsWith("var(")?zB(n,e):VB(n,e)}const GB=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>HB(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},eW=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=HB(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},VB=(n,e)=>{const t=ha.createTransformer(e),i=jg(n),r=jg(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?ta(GB(i.values,r.values),t):zB(n,e)},Oh=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},DC=(n,e)=>t=>fn(n,e,t);function tW(n){return typeof n=="number"?DC:typeof n=="string"?Ti.test(n)?IB:VB:Array.isArray(n)?GB:typeof n=="object"?eW:DC}function nW(n,e,t){const i=[],r=t||tW(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||En:e;a=ta(l,a)}i.push(a)}return i}function WB(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(sS(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=nW(e,i,r),a=o.length,l=c=>{let d=0;if(a>1)for(;d<n.length-2&&!(c<n[d+1]);d++);const f=Oh(n[d],n[d+1],c);return o[d](f)};return t?c=>l(da(n[0],n[s-1],c)):l}function iW(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Oh(0,e,i);n.push(fn(t,1,r))}}function rW(n){const e=[0];return iW(e,n.length-1),e}function sW(n,e){return n.map(t=>t*e)}function oW(n,e){return n.map(()=>e||RB).splice(0,n.length-1)}function zg({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=zV(i)?i.map(NC):NC(i),s={done:!1,value:e[0]},o=sW(t&&t.length===e.length?t:rW(e),n),a=WB(o,e,{ease:Array.isArray(r)?r:oW(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function XB(n,e){return e?n*(1e3/e):0}const aW=5;function JB(n,e,t){const i=Math.max(e-aW,0);return XB(t-n(i),e-i)}const _y=.001,lW=.01,IC=10,cW=.05,uW=1;function dW({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;NV(n<=na(IC));let o=1-e;o=da(cW,uW,o),n=da(lW,IC,to(n)),o<1?(r=c=>{const d=c*o,f=d*n,p=d-t,g=RA(c,o),x=Math.exp(-f);return _y-p/g*x},s=c=>{const f=c*o*n,p=f*t+t,g=Math.pow(o,2)*Math.pow(c,2)*n,x=Math.exp(-f),w=RA(Math.pow(c,2),o);return(-r(c)+_y>0?-1:1)*((p-g)*x)/w}):(r=c=>{const d=Math.exp(-c*n),f=(c-t)*n+1;return-_y+d*f},s=c=>{const d=Math.exp(-c*n),f=(t-c)*(n*n);return d*f});const a=5/n,l=fW(r,s,a);if(n=na(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const hW=12;function fW(n,e,t){let i=t;for(let r=1;r<hW;r++)i=i-n(i)/e(i);return i}function RA(n,e){return n*Math.sqrt(1-e*e)}const pW=["duration","bounce"],mW=["stiffness","damping","mass"];function kC(n,e){return e.some(t=>n[t]!==void 0)}function gW(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!kC(n,mW)&&kC(n,pW)){const t=dW(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function KB({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=gW({...i,velocity:-to(i.velocity||0)}),g=f||0,x=l/(2*Math.sqrt(a*c)),w=s-r,A=to(Math.sqrt(a/c)),v=Math.abs(w)<5;t||(t=v?.01:2),e||(e=v?.005:.5);let S;if(x<1){const _=RA(A,x);S=b=>{const C=Math.exp(-x*A*b);return s-C*((g+x*A*w)/_*Math.sin(_*b)+w*Math.cos(_*b))}}else if(x===1)S=_=>s-Math.exp(-A*_)*(w+(g+A*w)*_);else{const _=A*Math.sqrt(x*x-1);S=b=>{const C=Math.exp(-x*A*b),T=Math.min(_*b,300);return s-C*((g+x*A*w)*Math.sinh(T)+_*w*Math.cosh(T))/_}}return{calculatedDuration:p&&d||null,next:_=>{const b=S(_);if(p)o.done=_>=d;else{let C=g;_!==0&&(x<1?C=JB(S,_,b):C=0);const T=Math.abs(C)<=t,N=Math.abs(s-b)<=e;o.done=T&&N}return o.value=o.done?s:b,o}}}function FC({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=n[0],p={done:!1,value:f},g=B=>a!==void 0&&B<a||l!==void 0&&B>l,x=B=>a===void 0?l:l===void 0||Math.abs(a-B)<Math.abs(l-B)?a:l;let w=t*e;const A=f+w,v=o===void 0?A:o(A);v!==A&&(w=v-f);const S=B=>-w*Math.exp(-B/i),_=B=>v+S(B),b=B=>{const P=S(B),L=_(B);p.done=Math.abs(P)<=c,p.value=p.done?v:L};let C,T;const N=B=>{g(p.value)&&(C=B,T=KB({keyframes:[p.value,x(p.value)],velocity:JB(_,B,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return N(0),{calculatedDuration:null,next:B=>{let P=!1;return!T&&C===void 0&&(P=!0,b(B),N(B)),C!==void 0&&B>C?T.next(B-C):(!P&&b(B),p)}}}const vW=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Zt.update(e,!0),stop:()=>lo(e),now:()=>vi.isProcessing?vi.timestamp:performance.now()}},OC=2e4;function UC(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<OC;)e+=t,i=n.next(e);return e>=OC?1/0:e}const xW={decay:FC,inertia:FC,tween:zg,keyframes:zg,spring:KB};function Hg({autoplay:n=!0,delay:e=0,driver:t=vW,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...p}){let g=1,x=!1,w,A;const v=()=>{A=new Promise(ne=>{w=ne})};v();let S;const _=xW[r]||zg;let b;_!==zg&&typeof i[0]!="number"&&(b=WB([0,100],i,{clamp:!1}),i=[0,100]);const C=_({...p,keyframes:i});let T;a==="mirror"&&(T=_({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let N="idle",B=null,P=null,L=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=UC(C));const{calculatedDuration:z}=C;let ee=1/0,K=1/0;z!==null&&(ee=z+o,K=ee*(s+1)-o);let Q=0;const Z=ne=>{if(P===null)return;g>0&&(P=Math.min(P,ne)),g<0&&(P=Math.min(ne-K/g,P)),B!==null?Q=B:Q=Math.round(ne-P)*g;const j=Q-e*(g>=0?1:-1),q=g>=0?j<0:j>K;Q=Math.max(j,0),N==="finished"&&B===null&&(Q=K);let Y=Q,ue=C;if(s){const Ee=Math.min(Q,K)/ee;let Be=Math.floor(Ee),Ae=Ee%1;!Ae&&Ee>=1&&(Ae=1),Ae===1&&Be--,Be=Math.min(Be,s+1),!!(Be%2)&&(a==="reverse"?(Ae=1-Ae,o&&(Ae-=o/ee)):a==="mirror"&&(ue=T)),Y=da(0,1,Ae)*ee}const ye=q?{done:!1,value:i[0]}:ue.next(Y);b&&(ye.value=b(ye.value));let{done:we}=ye;!q&&z!==null&&(we=g>=0?Q>=K:Q<=0);const Ce=B===null&&(N==="finished"||N==="running"&&we);return f&&f(ye.value),Ce&&O(),ye},se=()=>{S&&S.stop(),S=void 0},ie=()=>{N="idle",se(),w(),v(),P=L=null},O=()=>{N="finished",d&&d(),se(),w()},J=()=>{if(x)return;S||(S=t(Z));const ne=S.now();l&&l(),B!==null?P=ne-B:(!P||N==="finished")&&(P=ne),N==="finished"&&v(),L=P,B=null,N="running",S.start()};n&&J();const V={then(ne,j){return A.then(ne,j)},get time(){return to(Q)},set time(ne){ne=na(ne),Q=ne,B!==null||!S||g===0?B=ne:P=S.now()-ne/g},get duration(){const ne=C.calculatedDuration===null?UC(C):C.calculatedDuration;return to(ne)},get speed(){return g},set speed(ne){ne===g||!S||(g=ne,V.time=to(Q))},get state(){return N},play:J,pause:()=>{N="paused",B=Q},stop:()=>{x=!0,N!=="idle"&&(N="idle",c&&c(),ie())},cancel:()=>{L!==null&&Z(L),ie()},complete:()=>{N="finished"},sample:ne=>(P=0,Z(ne))};return V}function yW(n){let e;return()=>(e===void 0&&(e=n()),e)}const AW=yW(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_W=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Rm=10,wW=2e4,SW=(n,e)=>e.type==="spring"||n==="backgroundColor"||!bB(e.ease);function MW(n,e,{onUpdate:t,onComplete:i,...r}){if(!(AW()&&_W.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(_=>{a=_})};d();let{keyframes:f,duration:p=300,ease:g,times:x}=r;if(SW(e,r)){const _=Hg({...r,repeat:0,delay:0});let b={done:!1,value:f[0]};const C=[];let T=0;for(;!b.done&&T<wW;)b=_.sample(T),C.push(b.value),T+=Rm;x=void 0,f=C,p=T-Rm,g="linear"}const w=DV(n.owner.current,e,f,{...r,duration:p,ease:g,times:x}),A=()=>{c=!1,w.cancel()},v=()=>{c=!0,Zt.update(A),a(),d()};return w.onfinish=()=>{c||(n.set(IV(f,r)),i&&i(),v())},{then(_,b){return l.then(_,b)},attachTimeline(_){return w.timeline=_,w.onfinish=null,En},get time(){return to(w.currentTime||0)},set time(_){w.currentTime=na(_)},get speed(){return w.playbackRate},set speed(_){w.playbackRate=_},get duration(){return to(p)},play:()=>{o||(w.play(),lo(A))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:_}=w;if(_){const b=Hg({...r,autoplay:!1});n.setWithVelocity(b.sample(_-Rm).value,b.sample(_).value,Rm)}v()},complete:()=>{c||w.finish()},cancel:v}}function bW({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:En,pause:En,stop:En,then:s=>(s(),Promise.resolve()),cancel:En,complete:En});return e?Hg({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const EW={type:"spring",stiffness:500,damping:25,restSpeed:10},CW=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),TW={type:"keyframes",duration:.8},RW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PW=(n,{keyframes:e})=>e.length>2?TW:kl.has(n)?n.startsWith("scale")?CW(e[1]):EW:RW,PA=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ha.test(e)||e==="0")&&!e.startsWith("url(")),LW=new Set(["brightness","contrast","saturate","opacity"]);function NW(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(I0)||[];if(!i)return n;const r=t.replace(i,"");let s=LW.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const BW=/([a-z-]*)\(.*?\)/g,LA={...ha,getAnimatableNone:n=>{const e=n.match(BW);return e?e.map(NW).join(" "):n}},DW={...lB,color:Ti,backgroundColor:Ti,outlineColor:Ti,fill:Ti,stroke:Ti,borderColor:Ti,borderTopColor:Ti,borderRightColor:Ti,borderBottomColor:Ti,borderLeftColor:Ti,filter:LA,WebkitFilter:LA},cS=n=>DW[n];function YB(n,e){let t=cS(n);return t!==LA&&(t=ha),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const qB=n=>/^0[^.\s]+$/.test(n);function IW(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||qB(n)}function kW(n,e,t,i){const r=PA(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=i.from!==void 0?i.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),IW(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(r&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];s[d]=YB(e,a)}return s}function FW({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function uS(n,e){return n[e]||n.default||n}const OW={skipAnimations:!1},dS=(n,e,t,i={})=>r=>{const s=uS(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-na(o);const l=kW(e,n,t,s),c=l[0],d=l[l.length-1],f=PA(n,c),p=PA(n,d);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:x=>{e.set(x),s.onUpdate&&s.onUpdate(x)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(FW(s)||(g={...g,...PW(n,g)}),g.duration&&(g.duration=na(g.duration)),g.repeatDelay&&(g.repeatDelay=na(g.repeatDelay)),!f||!p||BV.current||s.type===!1||OW.skipAnimations)return bW(g);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const x=MW(e,n,g);if(x)return x}return Hg(g)};function Gg(n){return!!(Xi(n)&&n.add)}const QB=n=>/^\-?\d*\.?\d+$/.test(n);function hS(n,e){n.indexOf(e)===-1&&n.push(e)}function fS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class pS{constructor(){this.subscriptions=[]}add(e){return hS(this.subscriptions,e),()=>fS(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const UW=n=>!isNaN(parseFloat(n));class jW{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=vi;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Zt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Zt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=UW(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new pS);const i=this.events[e].add(t);return e==="change"?()=>{i(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?XB(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wu(n,e){return new jW(n,e)}const $B=n=>e=>e.test(n),zW={test:n=>n==="auto",parse:n=>n},ZB=[Fl,at,Ms,No,K7,J7,zW],Cd=n=>ZB.find($B(n)),HW=[...ZB,Ti,ha],GW=n=>HW.find($B(n));function VW(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,wu(t))}function WW(n,e){const t=F0(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=lV(s[o]);VW(n,o,a)}}function XW(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),d!=null&&(typeof d=="string"&&(QB(d)||qB(d))?d=parseFloat(d):!GW(d)&&ha.test(c)&&(d=YB(l,c)),n.addValue(l,wu(d,{owner:n})),t[l]===void 0&&(t[l]=d),d!==null&&n.setBaseTarget(l,d))}}function JW(n,e){return e?(e[n]||e.default||e).from:void 0}function KW(n,e,t){const i={};for(const r in n){const s=JW(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function YW({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function qW(n,e){const t=n.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}else return t!==e}function eD(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const c=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const f in a){const p=n.getValue(f),g=a[f];if(!p||g===void 0||d&&YW(d,f))continue;const x={delay:t,elapsed:0,...uS(s||{},f)};if(window.HandoffAppearAnimations){const v=n.getProps()[tB];if(v){const S=window.HandoffAppearAnimations(v,f,p,Zt);S!==null&&(x.elapsed=S,x.isHandoff=!0)}}let w=!x.isHandoff&&!qW(p,g);if(x.type==="spring"&&(p.getVelocity()||x.velocity)&&(w=!1),p.animation&&(w=!1),w)continue;p.start(dS(f,p,g,n.shouldReduceMotion&&kl.has(f)?{type:!1}:x));const A=p.animation;Gg(l)&&(l.add(f),A.then(()=>l.remove(f))),c.push(A)}return o&&Promise.all(c).then(()=>{o&&WW(n,o)}),c}function NA(n,e,t={}){const i=F0(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(eD(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=r;return QW(n,e,c+l,d,f,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function QW(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort($W).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(NA(c,e,{...s,delay:t+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function $W(n,e){return n.sortNodePosition(e)}function ZW(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>NA(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=NA(n,e,t);else{const r=typeof e=="function"?F0(n,e,t.custom):e;i=Promise.all(eD(n,r,t))}return i.then(()=>n.notify("AnimationComplete",e))}const eX=[...Yw].reverse(),tX=Yw.length;function nX(n){return e=>Promise.all(e.map(({animation:t,options:i})=>ZW(n,t,i)))}function iX(n){let e=nX(n);const t=sX();let i=!0;const r=(l,c)=>{const d=F0(n,c);if(d){const{transition:f,transitionEnd:p,...g}=d;l={...l,...g,...p}}return l};function s(l){e=l(n)}function o(l,c){const d=n.getProps(),f=n.getVariantContext(!0)||{},p=[],g=new Set;let x={},w=1/0;for(let v=0;v<tX;v++){const S=eX[v],_=t[S],b=d[S]!==void 0?d[S]:f[S],C=kh(b),T=S===c?_.isActive:null;T===!1&&(w=v);let N=b===f[S]&&b!==d[S]&&C;if(N&&i&&n.manuallyAnimateOnMount&&(N=!1),_.protectedKeys={...x},!_.isActive&&T===null||!b&&!_.prevProp||B0(b)||typeof b=="boolean")continue;let P=rX(_.prevProp,b)||S===c&&_.isActive&&!N&&C||v>w&&C,L=!1;const z=Array.isArray(b)?b:[b];let ee=z.reduce(r,{});T===!1&&(ee={});const{prevResolvedValues:K={}}=_,Q={...K,...ee},Z=se=>{P=!0,g.has(se)&&(L=!0,g.delete(se)),_.needsAnimating[se]=!0};for(const se in Q){const ie=ee[se],O=K[se];if(x.hasOwnProperty(se))continue;let J=!1;Ug(ie)&&Ug(O)?J=!SB(ie,O):J=ie!==O,J?ie!==void 0?Z(se):g.add(se):ie!==void 0&&g.has(se)?Z(se):_.protectedKeys[se]=!0}_.prevProp=b,_.prevResolvedValues=ee,_.isActive&&(x={...x,...ee}),i&&n.blockInitialAnimation&&(P=!1),P&&(!N||L)&&p.push(...z.map(se=>({animation:se,options:{type:S,...l}})))}if(g.size){const v={};g.forEach(S=>{const _=n.getBaseTarget(S);_!==void 0&&(v[S]=_)}),p.push({animation:v})}let A=!!p.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(p):Promise.resolve()}function a(l,c,d){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(g=>{var x;return(x=g.animationState)===null||x===void 0?void 0:x.setActive(l,c)}),t[l].isActive=c;const p=o(d,l);for(const g in t)t[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function rX(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!SB(e,n):!1}function za(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sX(){return{animate:za(!0),whileInView:za(),whileHover:za(),whileTap:za(),whileDrag:za(),whileFocus:za(),exit:za()}}class oX extends Aa{constructor(e){super(e),e.animationState||(e.animationState=iX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),B0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let aX=0;class lX extends Aa{constructor(){super(...arguments),this.id=aX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const cX={animation:{Feature:oX},exit:{Feature:lX}},jC=(n,e)=>Math.abs(n-e);function uX(n,e){const t=jC(n.x,e.x),i=jC(n.y,e.y);return Math.sqrt(t**2+i**2)}class tD{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Sy(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=uX(f.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:x}=f,{timestamp:w}=vi;this.history.push({...x,timestamp:w});const{onStart:A,onMove:v}=this.handlers;p||(A&&A(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=wy(p,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Sy(f.type==="pointercancel"?this.lastMoveEventInfo:wy(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,A),x&&x(f,A)},!xB(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=k0(e),a=wy(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=vi;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=t;d&&d(e,Sy(a,this.history)),this.removeListeners=ta(eo(this.contextWindow,"pointermove",this.handlePointerMove),eo(this.contextWindow,"pointerup",this.handlePointerUp),eo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),lo(this.updatePoint)}}function wy(n,e){return e?{point:e(n.point)}:n}function zC(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Sy({point:n},e){return{point:n,delta:zC(n,nD(e)),offset:zC(n,dX(e)),velocity:hX(e,.1)}}function dX(n){return n[0]}function nD(n){return n[n.length-1]}function hX(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=nD(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>na(e)));)t--;if(!i)return{x:0,y:0};const s=to(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function lr(n){return n.max-n.min}function BA(n,e=0,t=.01){return Math.abs(n-e)<=t}function HC(n,e,t,i=.5){n.origin=i,n.originPoint=fn(e.min,e.max,n.origin),n.scale=lr(t)/lr(e),(BA(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=fn(t.min,t.max,n.origin)-n.originPoint,(BA(n.translate)||isNaN(n.translate))&&(n.translate=0)}function th(n,e,t,i){HC(n.x,e.x,t.x,i?i.originX:void 0),HC(n.y,e.y,t.y,i?i.originY:void 0)}function GC(n,e,t){n.min=t.min+e.min,n.max=n.min+lr(e)}function fX(n,e,t){GC(n.x,e.x,t.x),GC(n.y,e.y,t.y)}function VC(n,e,t){n.min=e.min-t.min,n.max=n.min+lr(e)}function nh(n,e,t){VC(n.x,e.x,t.x),VC(n.y,e.y,t.y)}function pX(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?fn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?fn(t,n,i.max):Math.min(n,t)),n}function WC(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function mX(n,{top:e,left:t,bottom:i,right:r}){return{x:WC(n.x,t,r),y:WC(n.y,e,i)}}function XC(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function gX(n,e){return{x:XC(n.x,e.x),y:XC(n.y,e.y)}}function vX(n,e){let t=.5;const i=lr(n),r=lr(e);return r>i?t=Oh(e.min,e.max-i,n.min):i>r&&(t=Oh(n.min,n.max-r,e.min)),da(0,1,t)}function xX(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const DA=.35;function yX(n=DA){return n===!1?n=0:n===!0&&(n=DA),{x:JC(n,"left","right"),y:JC(n,"top","bottom")}}function JC(n,e,t){return{min:KC(n,e),max:KC(n,t)}}function KC(n,e){return typeof n=="number"?n:n[e]||0}const YC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yc=()=>({x:YC(),y:YC()}),qC=()=>({min:0,max:0}),kn=()=>({x:qC(),y:qC()});function Sr(n){return[n("x"),n("y")]}function iD({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function AX({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function _X(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function My(n){return n===void 0||n===1}function IA({scale:n,scaleX:e,scaleY:t}){return!My(n)||!My(e)||!My(t)}function Ka(n){return IA(n)||rD(n)||n.z||n.rotate||n.rotateX||n.rotateY}function rD(n){return QC(n.x)||QC(n.y)}function QC(n){return n&&n!=="0%"}function Vg(n,e,t){const i=n-t,r=e*i;return t+r}function $C(n,e,t,i,r){return r!==void 0&&(n=Vg(n,r,i)),Vg(n,t,i)+e}function kA(n,e=0,t=1,i,r){n.min=$C(n.min,e,t,i,r),n.max=$C(n.max,e,t,i,r)}function sD(n,{x:e,y:t}){kA(n.x,e.translate,e.scale,e.originPoint),kA(n.y,t.translate,t.scale,t.originPoint)}function wX(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&qc(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,sD(n,o)),i&&Ka(s.latestValues)&&qc(n,s.latestValues))}e.x=ZC(e.x),e.y=ZC(e.y)}function ZC(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Io(n,e){n.min=n.min+e,n.max=n.max+e}function eT(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=fn(n.min,n.max,s);kA(n,e[t],e[i],o,e.scale)}const SX=["x","scaleX","originX"],MX=["y","scaleY","originY"];function qc(n,e){eT(n.x,e,SX),eT(n.y,e,MX)}function oD(n,e){return iD(_X(n.getBoundingClientRect(),e))}function bX(n,e,t){const i=oD(n,t),{scroll:r}=e;return r&&(Io(i.x,r.offset.x),Io(i.y,r.offset.y)),i}const aD=({current:n})=>n?n.ownerDocument.defaultView:null,EX=new WeakMap;class CX{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(k0(d,"page").point)},s=(d,f)=>{const{drag:p,dragPropagation:g,onDragStart:x}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=AB(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sr(A=>{let v=this.getAxisMotionValue(A).get()||0;if(Ms.test(v)){const{projection:S}=this.visualElement;if(S&&S.layout){const _=S.layout.layoutBox[A];_&&(v=lr(_)*(parseFloat(v)/100))}}this.originPoint[A]=v}),x&&Zt.update(()=>x(d,f),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:x,onDrag:w}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:A}=f;if(g&&this.currentDirection===null){this.currentDirection=TX(A),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,A),this.updateAxis("y",f.point,A),this.visualElement.render(),w&&w(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Sr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new tD(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:aD(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Zt.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Pm(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=pX(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Jc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=mX(r.layoutBox,t):this.constraints=!1,this.elastic=yX(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Sr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=xX(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Jc(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=bX(i,r.root,this.visualElement.getTransformPagePoint());let o=gX(r.layout.layoutBox,s);if(t){const a=t(AX(o));this.hasMutatedConstraints=!!a,a&&(o=iD(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Sr(d=>{if(!Pm(d,t,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=r?200:1e6,g=r?40:1e7,x={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(dS(e,i,0,t))}stopAnimation(){Sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Sr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Sr(t=>{const{drag:i}=this.getProps();if(!Pm(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-fn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Jc(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Sr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=vX({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Sr(o=>{if(!Pm(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(fn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;EX.set(this.visualElement,this);const e=this.visualElement.current,t=eo(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Jc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=qs(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Sr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=DA,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Pm(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function TX(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class RX extends Aa{constructor(e){super(e),this.removeGroupControls=En,this.removeListeners=En,this.controls=new CX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}unmount(){this.removeGroupControls(),this.removeListeners()}}const tT=n=>(e,t)=>{n&&Zt.update(()=>n(e,t))};class PX extends Aa{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(e){this.session=new tD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:tT(e),onStart:tT(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Zt.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=eo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function LX(){const n=D.useContext(L0);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=D.useId();return D.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const ig={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nT(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Td={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(at.test(n))n=parseFloat(n);else return n;const t=nT(n,e.target.x),i=nT(n,e.target.y);return`${t}% ${i}%`}},NX={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=ha.parse(n);if(r.length>5)return i;const s=ha.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=fn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class BX extends pn.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;j7(DX),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ig.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Zt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lD(n){const[e,t]=LX(),i=D.useContext(Qw);return pn.createElement(BX,{...n,layoutGroup:i,switchLayoutGroup:D.useContext(iB),isPresent:e,safeToRemove:t})}const DX={borderRadius:{...Td,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Td,borderTopRightRadius:Td,borderBottomLeftRadius:Td,borderBottomRightRadius:Td,boxShadow:NX},cD=["TopLeft","TopRight","BottomLeft","BottomRight"],IX=cD.length,iT=n=>typeof n=="string"?parseFloat(n):n,rT=n=>typeof n=="number"||at.test(n);function kX(n,e,t,i,r,s){r?(n.opacity=fn(0,t.opacity!==void 0?t.opacity:1,FX(i)),n.opacityExit=fn(e.opacity!==void 0?e.opacity:1,0,OX(i))):s&&(n.opacity=fn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<IX;o++){const a=`border${cD[o]}Radius`;let l=sT(e,a),c=sT(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||rT(l)===rT(c)?(n[a]=Math.max(fn(iT(l),iT(c),i),0),(Ms.test(c)||Ms.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=fn(e.rotate||0,t.rotate||0,i))}function sT(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const FX=uD(0,.5,NB),OX=uD(.5,.95,En);function uD(n,e,t){return i=>i<n?0:i>e?1:t(Oh(n,e,i))}function oT(n,e){n.min=e.min,n.max=e.max}function _r(n,e){oT(n.x,e.x),oT(n.y,e.y)}function aT(n,e,t,i,r){return n-=e,n=Vg(n,1/t,i),r!==void 0&&(n=Vg(n,1/r,i)),n}function UX(n,e=0,t=1,i=.5,r,s=n,o=n){if(Ms.test(e)&&(e=parseFloat(e),e=fn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=fn(s.min,s.max,i);n===s&&(a-=e),n.min=aT(n.min,e,t,a,r),n.max=aT(n.max,e,t,a,r)}function lT(n,e,[t,i,r],s,o){UX(n,e[t],e[i],e[r],e.scale,s,o)}const jX=["x","scaleX","originX"],zX=["y","scaleY","originY"];function cT(n,e,t,i){lT(n.x,e,jX,t?t.x:void 0,i?i.x:void 0),lT(n.y,e,zX,t?t.y:void 0,i?i.y:void 0)}function uT(n){return n.translate===0&&n.scale===1}function dD(n){return uT(n.x)&&uT(n.y)}function HX(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function hD(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function dT(n){return lr(n.x)/lr(n.y)}class GX{constructor(){this.members=[]}add(e){hS(this.members,e),e.scheduleRender()}remove(e){if(fS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hT(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:d}=t;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),d&&(i+=`rotateY(${d}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const VX=(n,e)=>n.depth-e.depth;class WX{constructor(){this.children=[],this.isDirty=!1}add(e){hS(this.children,e),this.isDirty=!0}remove(e){fS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(VX),this.isDirty=!1,this.children.forEach(e)}}function XX(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(lo(i),n(s-e))};return Zt.read(i,!0),()=>lo(i)}function JX(n){window.MotionDebug&&window.MotionDebug.record(n)}function KX(n){return n instanceof SVGElement&&n.tagName!=="svg"}function YX(n,e,t){const i=Xi(n)?n:wu(n);return i.start(dS("",i,e,t)),i.animation}const fT=["","X","Y","Z"],qX={visibility:"hidden"},pT=1e3;let QX=0;const Ya={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function fD({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=QX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ya.totalNodes=Ya.resolvedTargetDeltas=Ya.recalculatedProjection=0,this.nodes.forEach(eJ),this.nodes.forEach(sJ),this.nodes.forEach(oJ),this.nodes.forEach(tJ),JX(Ya)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new WX)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pS),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KX(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let f;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=XX(p,250),ig.hasAnimatedSinceResize&&(ig.hasAnimatedSinceResize=!1,this.nodes.forEach(gT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||dJ,{onLayoutAnimationStart:A,onLayoutAnimationComplete:v}=d.getProps(),S=!this.targetLayout||!hD(this.targetLayout,x)||g,_=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const b={...uS(w,"layout"),onPlay:A,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||gT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,lo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aJ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mT);return}this.isUpdating||this.nodes.forEach(iJ),this.isUpdating=!1,this.nodes.forEach(rJ),this.nodes.forEach($X),this.nodes.forEach(ZX),this.clearAllSnapshots();const a=performance.now();vi.delta=da(0,1e3/60,a-vi.timestamp),vi.timestamp=a,vi.isProcessing=!0,py.update.process(vi),py.preRender.process(vi),py.render.process(vi),vi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(nJ),this.sharedNodes.forEach(lJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!dD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Ka(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),hJ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return kn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Io(a.x,l.offset.x),Io(a.y,l.offset.y)),a}removeElementScroll(o){const a=kn();_r(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){_r(a,o);const{scroll:p}=this.root;p&&(Io(a.x,-p.offset.x),Io(a.y,-p.offset.y))}Io(a.x,d.offset.x),Io(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=kn();_r(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&qc(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ka(d.latestValues)&&qc(l,d.latestValues)}return Ka(this.latestValues)&&qc(l,this.latestValues),l}removeTransform(o){const a=kn();_r(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ka(c.latestValues))continue;IA(c.latestValues)&&c.updateSnapshot();const d=kn(),f=c.measurePageBox();_r(d,f),cT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ka(this.latestValues)&&cT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=vi.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),nh(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),_r(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=kn(),this.targetWithTransforms=kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_r(this.target,this.layout.layoutBox),sD(this.target,this.targetDelta)):_r(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),nh(this.relativeTargetOrigin,this.target,g.target),_r(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ya.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||IA(this.parent.latestValues)||rD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===vi.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;_r(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;wX(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:x}=a;if(!x){this.projectionTransform&&(this.projectionDelta=Yc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Yc(),this.projectionDeltaWithTransform=Yc());const w=this.projectionTransform;th(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=hT(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==p||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Ya.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Yc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=kn(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,w=g!==x,A=this.getStack(),v=!A||A.members.length<=1,S=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(uJ));this.animationProgress=0;let _;this.mixTargetDelta=b=>{const C=b/1e3;vT(f.x,o.x,C),vT(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cJ(this.relativeTarget,this.relativeTargetOrigin,p,C),_&&HX(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=kn()),_r(_,this.relativeTarget)),w&&(this.animationValues=d,kX(d,c,this.latestValues,C,S,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(lo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{ig.hasAnimatedSinceResize=!0,this.currentAnimation=YX(0,pT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&pD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||kn();const f=lr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=lr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}_r(a,l),qc(a,d),th(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new GX),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<fT.length;d++){const f="rotate"+fT[d];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qX;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ng(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=ng(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ka(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=hT(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:g,y:x}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Fg){if(p[w]===void 0)continue;const{correct:A,applyTo:v}=Fg[w],S=c.transform==="none"?p[w]:A(p[w],f);if(v){const _=v.length;for(let b=0;b<_;b++)c[v[b]]=S}else c[w]=S}return this.options.layoutId&&(c.pointerEvents=f===this?ng(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(mT),this.root.sharedNodes.clear()}}}function $X(n){n.updateLayout()}function ZX(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Sr(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],g=lr(p);p.min=i[f].min,p.max=p.min+g}):pD(s,t.layoutBox,i)&&Sr(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],g=lr(i[f]);p.max=p.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+g)});const a=Yc();th(a,i,t.layoutBox);const l=Yc();o?th(l,n.applyTransform(r,!0),t.measuredBox):th(l,i,t.layoutBox);const c=!dD(a);let d=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const x=kn();nh(x,t.layoutBox,p.layoutBox);const w=kn();nh(w,i,g.layoutBox),hD(x,w)||(d=!0),f.options.layoutRoot&&(n.relativeTarget=w,n.relativeTargetOrigin=x,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function eJ(n){Ya.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function tJ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function nJ(n){n.clearSnapshot()}function mT(n){n.clearMeasurements()}function iJ(n){n.isLayoutDirty=!1}function rJ(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function gT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function sJ(n){n.resolveTargetDelta()}function oJ(n){n.calcProjection()}function aJ(n){n.resetRotation()}function lJ(n){n.removeLeadSnapshot()}function vT(n,e,t){n.translate=fn(e.translate,0,t),n.scale=fn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function xT(n,e,t,i){n.min=fn(e.min,t.min,i),n.max=fn(e.max,t.max,i)}function cJ(n,e,t,i){xT(n.x,e.x,t.x,i),xT(n.y,e.y,t.y,i)}function uJ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const dJ={duration:.45,ease:[.4,0,.1,1]},yT=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),AT=yT("applewebkit/")&&!yT("chrome/")?Math.round:En;function _T(n){n.min=AT(n.min),n.max=AT(n.max)}function hJ(n){_T(n.x),_T(n.y)}function pD(n,e,t){return n==="position"||n==="preserve-aspect"&&!BA(dT(e),dT(t),.2)}const fJ=fD({attachResizeListener:(n,e)=>qs(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),by={current:void 0},mD=fD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!by.current){const n=new fJ({});n.mount(window),n.setOptions({layoutScroll:!0}),by.current=n}return by.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),pJ={pan:{Feature:PX},drag:{Feature:RX,ProjectionNode:mD,MeasureLayout:lD}},mJ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function gJ(n){const e=mJ.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function FA(n,e,t=1){const[i,r]=gJ(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return QB(o)?parseFloat(o):o}else return EA(r)?FA(r,e,t+1):r}function vJ(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!EA(s))return;const o=FA(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!EA(s))continue;const o=FA(s,i);o&&(e[r]=o,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const xJ=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),gD=n=>xJ.has(n),yJ=n=>Object.keys(n).some(gD),wT=n=>n===Fl||n===at,ST=(n,e)=>parseFloat(n.split(", ")[e]),MT=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return ST(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?ST(s[1],n):0}},AJ=new Set(["x","y","z"]),_J=vf.filter(n=>!AJ.has(n));function wJ(n){const e=[];return _J.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const Su={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:MT(4,13),y:MT(5,14)};Su.translateX=Su.x;Su.translateY=Su.y;const SJ=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=Su[c](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),n[c]=Su[c](l,s)}),n},MJ=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(gD);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let d=t[l],f=Cd(d);const p=e[l];let g;if(Ug(p)){const x=p.length,w=p[0]===null?1:0;d=p[w],f=Cd(d);for(let A=w;A<x&&p[A]!==null;A++)g?sS(Cd(p[A])===g):g=Cd(p[A])}else g=Cd(p);if(f!==g)if(wT(f)&&wT(g)){const x=c.get();typeof x=="string"&&c.set(parseFloat(x)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&g===at&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(d===0||p===0)?d===0?c.set(g.transform(d)):e[l]=f.transform(p):(o||(s=wJ(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=SJ(e,n,a);return s.length&&s.forEach(([d,f])=>{n.getValue(d).set(f)}),n.render(),N0&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function bJ(n,e,t,i){return yJ(e)?MJ(n,e,t,i):{target:e,transitionEnd:i}}const EJ=(n,e,t,i)=>{const r=vJ(n,e,i);return e=r.target,i=r.transitionEnd,bJ(n,e,t,i)},OA={current:null},vD={current:!1};function CJ(){if(vD.current=!0,!!N0)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>OA.current=n.matches;n.addListener(e),e()}else OA.current=!1}function TJ(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(Xi(s))n.addValue(r,s),Gg(i)&&i.add(r);else if(Xi(o))n.addValue(r,wu(s,{owner:n})),Gg(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,wu(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const bT=new WeakMap,xD=Object.keys(Fh),RJ=xD.length,ET=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],PJ=qw.length;class LJ{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Zt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=D0(t),this.isVariantNode=nB(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{});for(const f in d){const p=d[f];a[f]!==void 0&&Xi(p)&&(p.set(a[f],!1),Gg(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,bT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),vD.current||CJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:OA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){bT.delete(this.current),this.projection&&this.projection.unmount(),lo(this.notifyUpdate),lo(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=kl.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Zt.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<RJ;l++){const c=xD[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:g}=Fh[c];p&&(o=p),d(t)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:g}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&Jc(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<ET.length;i++){const r=ET[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=TJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<PJ;i++){const r=qw[i],s=this.props[r];(kh(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=wu(t,{owner:this}),this.addValue(e,i)),i}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=rS(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Xi(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new pS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class yD extends LJ{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=KW(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){XW(this,i,o);const a=EJ(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function NJ(n){return window.getComputedStyle(n)}class BJ extends yD{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(kl.has(t)){const i=cS(t);return i&&i.default||0}else{const i=NJ(e),r=(oB(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return oD(e,t)}build(e,t,i,r){Zw(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return iS(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){hB(e,t,i,r)}}class DJ extends yD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(kl.has(t)){const i=cS(t);return i&&i.default||0}return t=fB.has(t)?t:Kw(t),e.getAttribute(t)}measureInstanceViewportBox(){return kn()}scrapeMotionValuesFromProps(e,t){return mB(e,t)}build(e,t,i,r){tS(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){pB(e,t,i,r)}mount(e){this.isSVGTag=nS(e.tagName),super.mount(e)}}const IJ=(n,e)=>$w(n)?new DJ(e,{enableHardwareAcceleration:!1}):new BJ(e,{enableHardwareAcceleration:!0}),kJ={layout:{ProjectionNode:mD,MeasureLayout:lD}},FJ={...cX,...RV,...pJ,...kJ},He=O7((n,e)=>gV(n,e,FJ,IJ));function AD(){const n=D.useRef(!1);return Jw(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function OJ(){const n=AD(),[e,t]=D.useState(0),i=D.useCallback(()=>{n.current&&t(e+1)},[e]);return[D.useCallback(()=>Zt.postRender(i),[i]),e]}class UJ extends D.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jJ({children:n,isPresent:e}){const t=D.useId(),i=D.useRef(null),r=D.useRef({width:0,height:0,top:0,left:0});return D.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=r.current;if(e||!i.current||!s||!o)return;i.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),D.createElement(UJ,{isPresent:e,childRef:i,sizeRef:r},D.cloneElement(n,{ref:i}))}const Ey=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=gB(zJ),l=D.useId(),c=D.useMemo(()=>({id:l,initial:e,isPresent:t,custom:r,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;i&&i()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?void 0:[t]);return D.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[t]),D.useEffect(()=>{!t&&!a.size&&i&&i()},[t]),o==="popLayout"&&(n=D.createElement(jJ,{isPresent:t},n)),D.createElement(L0.Provider,{value:c},n)};function zJ(){return new Map}function HJ(n){return D.useEffect(()=>()=>n(),[])}const qa=n=>n.key||"";function GJ(n,e){n.forEach(t=>{const i=qa(t);e.set(i,t)})}function VJ(n){const e=[];return D.Children.forEach(n,t=>{D.isValidElement(t)&&e.push(t)}),e}const UA=({children:n,custom:e,initial:t=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=D.useContext(Qw).forceRender||OJ()[0],l=AD(),c=VJ(n);let d=c;const f=D.useRef(new Map).current,p=D.useRef(d),g=D.useRef(new Map).current,x=D.useRef(!0);if(Jw(()=>{x.current=!1,GJ(c,g),p.current=d}),HJ(()=>{x.current=!0,g.clear(),f.clear()}),x.current)return D.createElement(D.Fragment,null,d.map(S=>D.createElement(Ey,{key:qa(S),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},S)));d=[...d];const w=p.current.map(qa),A=c.map(qa),v=w.length;for(let S=0;S<v;S++){const _=w[S];A.indexOf(_)===-1&&!f.has(_)&&f.set(_,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((S,_)=>{if(A.indexOf(_)!==-1)return;const b=g.get(_);if(!b)return;const C=w.indexOf(_);let T=S;if(!T){const N=()=>{f.delete(_);const B=Array.from(g.keys()).filter(P=>!A.includes(P));if(B.forEach(P=>g.delete(P)),p.current=c.filter(P=>{const L=qa(P);return L===_||B.includes(L)}),!f.size){if(l.current===!1)return;a(),i&&i()}};T=D.createElement(Ey,{key:qa(b),isPresent:!1,onExitComplete:N,custom:e,presenceAffectsLayout:s,mode:o},b),f.set(_,T)}d.splice(C,0,T)}),d=d.map(S=>{const _=S.key;return f.has(_)?S:D.createElement(Ey,{key:qa(S),isPresent:!0,presenceAffectsLayout:s,mode:o},S)}),D.createElement(D.Fragment,null,f.size?d:d.map(S=>D.cloneElement(S)))},Ct={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},WJ=(n,e,t,i)=>{var s,o,a,l;const r=[t,{code:e,...i||{}}];if((o=(s=n==null?void 0:n.services)==null?void 0:s.logger)!=null&&o.forward)return n.services.logger.forward(r,"warn","react-i18next::",!0);gl(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(l=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&l.warn?n.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},CT={},jA=(n,e,t,i)=>{gl(t)&&CT[t]||(gl(t)&&(CT[t]=new Date),WJ(n,e,t,i))},_D=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},zA=(n,e,t)=>{n.loadNamespaces(e,_D(n,t))},TT=(n,e,t,i)=>{if(gl(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return zA(n,t,i);t.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,_D(n,i))},XJ=(n,e,t={})=>!e.languages||!e.languages.length?(jA(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,r)=>{var s;if(((s=t.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!r(i.isLanguageChangingTo,n))return!1}}),gl=n=>typeof n=="string",JJ=n=>typeof n=="object"&&n!==null,KJ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,YJ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},qJ=n=>YJ[n],QJ=n=>n.replace(KJ,qJ);let HA={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:QJ};const $J=(n={})=>{HA={...HA,...n}},ZJ=()=>HA;let wD;const eK=n=>{wD=n},tK=()=>wD,nK={type:"3rdParty",init(n){$J(n.options.react),eK(n)}},iK=D.createContext();class rK{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const sK=(n,e)=>{const t=D.useRef();return D.useEffect(()=>{t.current=e?t.current:n},[n,e]),t.current},SD=(n,e,t,i)=>n.getFixedT(e,t,i),oK=(n,e,t,i)=>D.useCallback(SD(n,e,t,i),[n,e,t,i]),ln=(n,e={})=>{var b,C,T,N;const{i18n:t}=e,{i18n:i,defaultNS:r}=D.useContext(iK)||{},s=t||i||tK();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new rK),!s){jA(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const B=(L,z)=>gl(z)?z:JJ(z)&&gl(z.defaultValue)?z.defaultValue:Array.isArray(L)?L[L.length-1]:L,P=[B,{},!1];return P.t=B,P.i18n={},P.ready=!1,P}(b=s.options.react)!=null&&b.wait&&jA(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...ZJ(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=n||r||((C=s.options)==null?void 0:C.defaultNS);c=gl(c)?[c]:c||["translation"],(N=(T=s.reportNamespaces).addUsedNamespaces)==null||N.call(T,c);const d=(s.isInitialized||s.initializedStoreOnce)&&c.every(B=>XJ(B,s,o)),f=oK(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),p=()=>f,g=()=>SD(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[x,w]=D.useState(p);let A=c.join();e.lng&&(A=`${e.lng}${A}`);const v=sK(A),S=D.useRef(!0);D.useEffect(()=>{const{bindI18n:B,bindI18nStore:P}=o;S.current=!0,!d&&!a&&(e.lng?TT(s,e.lng,c,()=>{S.current&&w(g)}):zA(s,c,()=>{S.current&&w(g)})),d&&v&&v!==A&&S.current&&w(g);const L=()=>{S.current&&w(g)};return B&&(s==null||s.on(B,L)),P&&(s==null||s.store.on(P,L)),()=>{S.current=!1,s&&(B==null||B.split(" ").forEach(z=>s.off(z,L))),P&&s&&P.split(" ").forEach(z=>s.store.off(z,L))}},[s,A]),D.useEffect(()=>{S.current&&d&&w(p)},[s,l,d]);const _=[x,s,d];if(_.t=x,_.i18n=s,_.ready=d,d||!d&&!a)return _;throw new Promise(B=>{e.lng?TT(s,e.lng,c,()=>B()):zA(s,c,()=>B())})};const MD=D.createContext(),vn=()=>D.useContext(MD),aK=({children:n})=>{const{i18n:e}=ln(),[t,i]=D.useState(e.language||"en"),[r,s]=D.useState(t==="ar"?"rtl":"ltr"),o=a=>{e.changeLanguage(a),i(a);const l=a==="ar"?"rtl":"ltr";s(l),document.documentElement.dir=l,document.documentElement.lang=a;const c=document.querySelectorAll(".vertical-timeline-element-content");c.length>0&&c.forEach(d=>{const f=d.querySelector(".vertical-timeline-element-content-arrow");f&&(l==="rtl"?(f.style.borderRight="none",f.style.borderLeft="7px solid #000000",f.style.right="auto",f.style.left="-7px"):(f.style.borderLeft="none",f.style.borderRight="7px solid #000000",f.style.left="auto",f.style.right="-7px")),d.style.textAlign=l==="rtl"?"right":"left",d.style.direction=l})};return D.useEffect(()=>{document.documentElement.dir=r,document.documentElement.lang=t},[r,t]),m.jsx(MD.Provider,{value:{language:t,changeLanguage:o,dir:r},children:n})},Cy="/assets/paris-bc6cba99.jpg",Ty="/assets/amsterdam-c36d4fa5.jpg",Ry="/assets/genf-cfdcf679.jpg",Py="/assets/genf1-d26b6e46.jpg",Ly="/assets/hamburg-6a83bd8e.jpg",Ny="/assets/heidelberg-9e96c2eb.jpg",By="/assets/interlaken-ed347554.jpg",Dy="/assets/interlaken1-93f50eee.jpg",Iy="/assets/luxemburg-141d2ffe.jpg",ky="/assets/nrdsee-59dd35e2.jpg",Fy="/assets/wagrain-ded55429.jpg",RT={en:[{image:Cy,title:"Paris",description:"The city of love with the iconic Eiffel Tower and charming cafés."},{image:Ty,title:"Amsterdam",description:"Picturesque canal city with unique flair and historic architecture."},{image:Ly,title:"Hamburg",description:"Hanseatic metropolis with maritime charm and the impressive Elbphilharmonie."},{image:Ny,title:"Heidelberg",description:"Romantic university town with picturesque old town and famous castle."},{image:Ry,title:"Geneva",description:"International city on Lake Geneva with the famous Jet d'Eau."},{image:Py,title:"Geneva",description:"Home of the United Nations and the Red Cross with views of Mont Blanc."},{image:By,title:"Interlaken",description:"Picturesquely situated between Lake Thun and Lake Brienz with views of the Alps."},{image:Dy,title:"Interlaken",description:"The gateway to the Bernese Oberland with spectacular Alpine panorama."},{image:Iy,title:"Luxembourg",description:"Small grand duchy with picturesque capital and historic fortifications."},{image:ky,title:"North Sea",description:"Popular holiday region with wide beaches and unique mudflats."},{image:Fy,title:"Wagrain",description:"Idyllic Alpine village with breathtaking mountain panoramas and winter sports."}],de:[{image:Cy,title:"Paris",description:"Die Stadt der Liebe mit dem ikonischen Eiffelturm und charmanten Cafés."},{image:Ty,title:"Amsterdam",description:"Malerische Grachtenstadt mit einzigartigem Flair und historischer Architektur."},{image:Ly,title:"Hamburg",description:"Hanseatische Metropole mit maritimem Charme und der beeindruckenden Elbphilharmonie."},{image:Ny,title:"Heidelberg",description:"Romantische Universitätsstadt mit malerischer Altstadt und berühmtem Schloss."},{image:Ry,title:"Genf",description:"Internationale Stadt am Genfersee mit dem berühmten Jet d'Eau."},{image:Py,title:"Genf",description:"Sitz der Vereinten Nationen und des Roten Kreuzes mit Blick auf den Mont Blanc."},{image:By,title:"Interlaken",description:"Malerisch zwischen Thuner- und Brienzersee gelegen mit Blick auf die Alpen."},{image:Dy,title:"Interlaken",description:"Das Tor zum Berner Oberland mit spektakulärem Alpenpanorama."},{image:Iy,title:"Luxemburg",description:"Kleines Großherzogtum mit malerischer Hauptstadt und historischen Befestigungsanlagen."},{image:ky,title:"Nordsee",description:"Beliebte Ferienregion mit weiten Stränden und einzigartigem Wattenmeer."},{image:Fy,title:"Wagrain",description:"Idyllischer Alpenort mit atemberaubenden Bergpanoramen und Wintersportmöglichkeiten."}],ar:[{image:Cy,title:"باريس",description:"مدينة الحب مع برج إيفل الشهير والمقاهي الساحرة."},{image:Ty,title:"أمستردام",description:"مدينة القنوات الخلابة ذات الأجواء الفريدة والعمارة التاريخية."},{image:Ly,title:"هامبورغ",description:"مدينة هانزية ذات طابع بحري ساحر ودار الحفلات الموسيقية إلبفيلهارموني المذهلة."},{image:Ny,title:"هايدلبرغ",description:"مدينة جامعية رومانسية ذات بلدة قديمة خلابة وقلعة شهيرة."},{image:Ry,title:"جنيف",description:"مدينة دولية على بحيرة جنيف مع نافورة جيت دو الشهيرة."},{image:Py,title:"جنيف",description:"مقر الأمم المتحدة والصليب الأحمر مع إطلالات على جبل مون بلان."},{image:By,title:"إنترلاكن",description:"تقع بشكل خلاب بين بحيرتي ثون وبرينز مع إطلالات على جبال الألب."},{image:Dy,title:"إنترلاكن",description:"بوابة منطقة بيرنيز أوبرلاند مع مناظر بانورامية رائعة للألب."},{image:Iy,title:"لوكسمبورغ",description:"دوقية كبرى صغيرة ذات عاصمة خلابة وتحصينات تاريخية."},{image:ky,title:"بحر الشمال",description:"منطقة عطلات شهيرة ذات شواطئ واسعة ومسطحات طينية فريدة."},{image:Fy,title:"فاغراين",description:"قرية ألبية خلابة مع مناظر جبلية خلابة ورياضات شتوية."}]},lK=()=>{const[n,e]=D.useState(0),{language:t}=vn(),i=D.useMemo(()=>RT[t]||RT.en,[t]),r=D.useMemo(()=>i.length,[i]),s=D.useCallback(c=>{e(c)},[]);D.useEffect(()=>{const c=setInterval(()=>{e(d=>(d+1)%r)},5e3);return()=>clearInterval(c)},[r]);const o=D.useMemo(()=>({enter:{opacity:0,scale:1.05,filter:"blur(8px)"},center:{opacity:1,scale:1,filter:"blur(0px)",transition:{opacity:{duration:.8,ease:"easeOut"},scale:{duration:5,ease:"easeOut"},filter:{duration:.8,ease:"easeOut"}}},exit:{opacity:0,transition:{duration:.6,ease:"easeIn"}}}),[]),a=D.useMemo(()=>({hidden:{opacity:0,y:20},visible:c=>({opacity:1,y:0,transition:{duration:.4,delay:c*.1,ease:"easeOut"}}),exit:{opacity:0,y:-20,transition:{duration:.3,ease:"easeIn"}}}),[]),l=D.useMemo(()=>i[n],[i,n]);return m.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[m.jsx(UA,{mode:"sync",initial:!1,children:m.jsxs(He.div,{className:"absolute inset-0",initial:"enter",animate:"center",exit:"exit",variants:o,style:{willChange:"transform, opacity",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"translateZ(0)",WebkitTransform:"translateZ(0)"},children:[m.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover",style:{willChange:"transform",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},loading:"eager"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-black/40 to-black/50"})]},n)}),m.jsx(UA,{mode:"wait",initial:!1,children:m.jsxs(He.div,{className:"absolute bottom-32 left-0 right-0 text-center px-4 z-10",initial:"hidden",animate:"visible",exit:"exit",variants:a,style:{willChange:"transform, opacity",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:[m.jsx(He.h2,{className:"text-white text-4xl font-bold mb-3 drop-shadow-lg",variants:a,custom:1,children:l.title}),m.jsx(He.p,{className:"text-white text-xl max-w-2xl mx-auto drop-shadow-lg",variants:a,custom:2,children:l.description})]},n)}),m.jsx("div",{className:"absolute bottom-16 left-0 right-0 flex justify-center space-x-3 z-10",children:i.map((c,d)=>m.jsx("button",{onClick:()=>s(d),className:`relative w-3 h-3 rounded-full transition-all duration-200 ${d===n?"bg-secondary scale-125":"bg-white opacity-50 hover:opacity-90 hover:scale-110"}`,"aria-label":`Go to slide ${d+1}`,children:d===n&&m.jsx(He.span,{className:"absolute inset-0 rounded-full bg-secondary",initial:{scale:1.2,opacity:.5},animate:{scale:1.8,opacity:0,transition:{repeat:1/0,duration:1.2,ease:"easeOut"}}})},d))})]})},cK=()=>{const{t:n}=ln(),{language:e}=vn(),[t,i]=D.useState(0),[r,s]=D.useState(!0),o=n("hero.typewriter",{returnObjects:!0});return D.useEffect(()=>{if(!o||o.length===0)return;const a=setInterval(()=>{s(!1),setTimeout(()=>{i(l=>(l+1)%o.length),s(!0)},500)},4e3);return()=>clearInterval(a)},[o]),m.jsxs("section",{className:"relative w-full h-screen mx-auto hero-section overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 z-0 w-full h-full",children:m.jsx(lK,{})}),m.jsx("div",{className:"absolute bottom-0 left-0 w-full h-20 bg-gradient-to-t from-black to-transparent z-10"}),m.jsxs("div",{className:`relative pt-[120px] max-w-7xl mx-auto ${Ct.paddingX} flex flex-row items-start gap-5 z-20`,children:[m.jsxs("div",{className:"flex flex-col justify-center items-center mt-5",children:[m.jsx("div",{className:"w-5 h-5 rounded-full bg-secondary"}),m.jsx("div",{className:"w-1 sm:h-80 h-40 gold-gradient"})]}),m.jsxs("div",{children:[m.jsx("h1",{className:"font-black lg:text-[65px] sm:text-[50px] xs:text-[40px] text-[35px] lg:leading-[80px] mt-2 drop-shadow-[0_5px_5px_rgba(0,0,0,0.5)] tracking-wider uppercase",children:e==="ar"?m.jsxs("span",{children:[m.jsx("span",{className:"text-white",children:"سائق"})," ",m.jsx("span",{className:"text-[#D4AF37]",children:"فاخر"})]}):m.jsxs("span",{children:[m.jsx("span",{className:"text-white",children:"PREMIUM"})," ",m.jsx("span",{className:"text-[#D4AF37]",children:"CHAUFFEUR SERVICE"})]})}),m.jsxs("h2",{className:`${Ct.heroSubText} mt-2 text-white-100 drop-shadow-[0_2px_2px_rgba(0,0,0,0.5)] flex`,children:[m.jsx("span",{className:e==="ar"?"ml-2":"mr-2",children:n("hero.subtitle")}),m.jsx("div",{className:"text-animation-container",children:m.jsx(UA,{mode:"wait",children:r&&o&&o.length>0&&m.jsx(He.span,{className:"text-[#D4AF37] font-semibold modern-text-animation",initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{type:"spring",stiffness:100,damping:12}},exit:{y:-20,opacity:0,transition:{duration:.3,ease:"easeInOut"}},children:o[t]},t)})})]}),m.jsx("p",{className:"mt-4 text-white-100 max-w-3xl text-[16px] sm:text-[18px] leading-relaxed",children:e==="ar"?"خدمة سائق فاخر في أوروبا مع سيارات مرسيدس الفئة S وبي إم دبليو الفئة 7 ومرسيدس الفئة V. نقدم خدمات نقل رجال الأعمال، وخدمة نقل من المطار، وخدمة نقل كبار الشخصيات في جميع أنحاء أوروبا. سائق يتحدث العربية متاح على مدار الساعة لتلبية احتياجات النقل الحصرية الخاصة بك.":"Luxus Limousinenservice mit Mercedes S-Klasse, BMW 7 und V-Klasse. Wir bieten Business Chauffeur Service, Airport Transfer und VIP Service in ganz Deutschland. 24/7 verfügbar für Ihre exklusiven Transportbedürfnisse."})]})]})]})},uK="/assets/mathwork-d443d123.png",dK="/assets/edunet-dbb42432.png",hK="/assets/eduskill-aa741542.png",fK="/assets/c1-cf9d7d0a.jpg",pK="/assets/c2-efb3a40e.jpg",mK="/assets/c3-7cb60b21.jpg",gK="/assets/a1-1c6a4a2d.png",vK="/assets/a2-4781b197.png",xK="/assets/a3-8238f501.JPEG",PT="/assets/v1-1bb7e7cb.jpg",yK="/assets/v2-6258cfcf.jpg",AK="/assets/s1-ae9bee11.jpg",_K="/assets/BMW1-527fad05.jpg",wK="/assets/V1-a40fb01c.jpg",SK="/assets/muenchen-f740bcdc.jpg",bD="/assets/muenchen1-329b58e0.jpg",LT="/assets/muenchen2-38497a4b.jpg",MK="/assets/hamburg-bb5c5661.webp",NT="/assets/hamburg1-6676247f.jpg",bK="/assets/frankfurt-f2e71cb5.jpg",GA="/assets/frankfurt1-b9678f87.jpg",EK="/assets/disneyland-paris-027fadb4.jpg",CK="/assets/disneyland-paris1-a59e4084.jpg",TK="/assets/europa-park-9d4c5b4e.jpg",RK="/assets/europa-park1-c7c2cc40.jpg",ED="/assets/Phantasialand-b1844776.jpg",PK="/assets/Phantasialand 1-6ffc3b14.jpg",LK="/assets/Heide Park Resort-cfdc3613.jpg",NK="/assets/Heide Park Resort1-a407fc1d.jpg",BK="/assets/LEGOLAND-2127b193.jpg",DK="/assets/LEGOLAND 1-83d26b84.jpg",IK="/assets/Movie Park-b9abc226.jpg",kK="/assets/Movie Park1-1cd30061.jpg",FK="/assets/la-vallee-village-e2b48609.jpg",BT="/assets/la-vallee-village_1-2945b894.jpg",OK="/assets/serravalle-designer-outlet-1d98a63f.jpg",UK="/assets/serravalle-designer-outlet1-2e795a95.jpg",CD="/assets/Outletcity Metzingen-9e4d1286.jpg",jK="/assets/Outletcity Metzingen1-ecc77e60.jpg",zK="/assets/Wertheim Village-42253002.jpg",HK="/assets/Wertheim Village1-946d5bf5.jpg",GK="/assets/designer-outlet-roermond-64006c2d.jpg",VK="/assets/designer-outlet-roermond1-95749ff9.jpg",DT="/assets/logo-98d0a8ed.svg",WK="/assets/menu-242d80a8.svg",XK="/assets/close-ad0e0ca6.svg",ih=[{id:"carpool",title:"Carpool",dropdown:[{id:"mercedes-sclass",title:"Mercedes S-Class"},{id:"bmw-7",title:"BMW 7"},{id:"mercedes-vclass",title:"Mercedes V-Class"}]},{id:"services",title:"Services",dropdown:[{id:"chauffeurservice",title:"Chauffeur Service"},{id:"airporttransfer",title:"Airport Transfer"},{id:"vip-service",title:"VIP Service"}]},{id:"tourism",title:"Tourism",dropdown:[{id:"beliebte-zielorte",title:"Beliebte Zielorte"},{id:"shoppingtours",title:"Shopping Tours"},{id:"freizeitparks",title:"Freizeitparks"},{id:"bauernhofe",title:"Bauernhöfe"}]},{id:"contact",title:"Contact"}],JK=[{id:"mercedes-sclass",title:"Mercedes S-Class",icon:AK},{id:"mercedes-vclass",title:"Mercedes V-Class",icon:wK},{id:"bmw-7",title:"BMW 7",icon:_K}],KK=[{title:"Business Chauffeur Service",company_name:"Premium Chauffeur | Executive Transfer",icon:hK,iconBg:"#000000",date:"24/7 verfügbar",points:["Exklusiver Chauffeurservice für Geschäftsreisende mit luxuriösen Mercedes S-Klasse und BMW 7er Fahrzeugen.","Diskreter, zuverlässiger Limousinenservice mit erfahrenen Fahrern, die die Bedürfnisse von Geschäftskunden verstehen.","Kostenlose Annehmlichkeiten wie WLAN, Erfrischungen und Tageszeitungen für eine produktive Reisezeit.","Maßgeschneiderte Business Transfer Lösungen für Meetings, Konferenzen und Geschäftsreisen in ganz Deutschland."]},{title:"Airport Transfer Service",company_name:"Premium Chauffeur | Flughafentransfer",icon:uK,iconBg:"#000000",date:"Alle wichtigen Flughäfen",points:["Nahtloser Flughafentransfer zu und von allen wichtigen Flughäfen mit Flugverfolgung und angepassten Abholzeiten.","Meet-and-Greet-Service mit Namensschild und Unterstützung beim Gepäck für einen stressfreien Empfang.","Komfortable, entspannte Reise nach langen Flügen in geräumigen Luxusfahrzeugen mit erfahrenen Chauffeuren.","Luxustransfer vom Flughafen zu Ihrem Hotel, Geschäftstermin oder nach Hause - 24 Stunden täglich verfügbar."]},{title:"VIP Chauffeur Service",company_name:"Premium Chauffeur | VIP Transport",icon:dK,iconBg:"#000000",date:"Höchste Diskretion",points:["Exklusiver VIP Chauffeur Service mit Mercedes S-Klasse und BMW 7er für höchste Ansprüche und maximale Diskretion.","Maßgeschneiderte Transportlösungen für Prominente, Führungskräfte und anspruchsvolle Kunden mit persönlichem Service.","Erfahrene, mehrsprachige Chauffeure mit umfassender Ortskenntnis und höchsten Sicherheitsstandards.","24h Premium Fahrservice für besondere Anlässe, Events und Veranstaltungen mit flexibler Routenplanung."]}];const TD=()=>m.jsx("div",{className:"rotating-logo-container",children:m.jsxs("div",{className:"rotating-logo",children:[m.jsx("div",{className:"logo-front",children:m.jsx("img",{src:DT,alt:"logo front"})}),m.jsx("div",{className:"logo-back",children:m.jsx("img",{src:DT,alt:"logo back"})})]})}),IT=()=>{const{language:n,changeLanguage:e}=vn(),t=()=>{e(n==="en"?"ar":"en")};return m.jsx("button",{onClick:t,className:"flex items-center justify-center px-2 py-1 rounded-md bg-secondary text-primary font-medium text-xs hover:bg-gold-100 transition-colors duration-300",children:n==="en"?"AR":"EN"})},YK=()=>{const[n,e]=D.useState(""),[t,i]=D.useState(!1),[r,s]=D.useState({}),[o,a]=D.useState(!1),{t:l}=ln(),{dir:c,language:d}=vn();D.useEffect(()=>{t&&(e(""),s({}))},[t]),D.useEffect(()=>{const g=()=>{window.scrollY>100?a(!0):a(!1)};return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[]);const f=g=>{s(x=>({...x,[g]:!x[g]}))},p=g=>m.jsx("ul",{className:`list-none ${g?"flex flex-col sm:hidden":"hidden sm:flex"} ${g?"":"flex-row"} gap-6`,children:ih.map(x=>m.jsx("li",{className:`${n===x.title?"text-white":g?"text-secondary":"text-white"} hover:text-white text-[20px] font-medium cursor-pointer nav-item drop-shadow-[0_2px_2px_rgba(0,0,0,0.5)]`,children:x.dropdown?m.jsx(m.Fragment,{children:g?m.jsxs("div",{children:[m.jsxs("div",{className:"mobile-dropdown-toggle",onClick:()=>f(x.id),children:[m.jsx("span",{children:l(`navbar.${x.id}`)}),m.jsx("span",{className:`dropdown-arrow ${r[x.id]?"dropdown-arrow-active":""}`,children:"▼"})]}),m.jsx("div",{className:`mobile-dropdown-menu ${r[x.id]?"mobile-dropdown-active":""}`,children:x.dropdown.map(w=>m.jsx(qt,{to:`/${x.id}/${w.id}`,className:"mobile-dropdown-item block",onClick:()=>{e(w.title),i(!1)},children:l(`${x.id}.${w.id}`)},w.id))})]}):m.jsxs(m.Fragment,{children:[m.jsxs(qt,{to:`/${x.id}`,onClick:()=>e(x.title),className:"flex items-center",children:[l(`navbar.${x.id}`),m.jsx("span",{className:`dropdown-arrow ${c==="rtl"?"mr-1":"ml-1"}`,children:"▼"})]}),m.jsx("div",{className:"dropdown-menu",children:x.dropdown.map(w=>m.jsx(qt,{to:`/${x.id}/${w.id}`,className:"dropdown-item",onClick:()=>e(w.title),children:l(`${x.id}.${w.id}`)},w.id))})]})}):m.jsx(qt,{to:`/${x.id}`,onClick:()=>{e(x.title),g&&i(!1)},children:l(`navbar.${x.id}`)})},x.id))});return m.jsx(m.Fragment,{children:m.jsx("nav",{className:`${Ct.paddingX} w-full flex items-center py-3 fixed top-0 z-30 ${o?"bg-black/30":"bg-transparent"} backdrop-blur-sm transition-all duration-300`,children:m.jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[m.jsxs(qt,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[m.jsx(TD,{}),m.jsx("p",{className:"text-white text-[16px] sm:text-[20px] font-bold cursor-pointer flex flex-wrap sm:flex-nowrap tracking-wider uppercase drop-shadow-[0_2px_2px_rgba(0,0,0,0.5)]",children:d==="ar"?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"text-[#D4AF37]",children:"Chauffeur"})," ",m.jsx("span",{children:"Premium"})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Premium"})," ",m.jsx("span",{className:"text-[#D4AF37]",children:"Chauffeur"})]})})]}),m.jsxs("div",{className:"hidden sm:flex items-center gap-6",children:[p(!1),m.jsx(IT,{})]}),m.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[m.jsx("img",{src:t?XK:WK,alt:"menu",className:"w-[28px] h-[18px] object-contain cursor-pointer mr-3",onClick:()=>i(!t)}),m.jsx("div",{children:m.jsx(IT,{})}),m.jsx("div",{className:`p-6 absolute top-14 ${c==="rtl"?"left-0":"right-0"} mx-2 my-2 min-w-[250px] z-10 rounded-xl backdrop-blur-md bg-black/50 border border-white/10 ${t?"flex":"hidden"}`,style:{flexDirection:"column"},children:p(!0)})]})]})})})},wi=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:.5,delay:n?n*.4:0,stiffness:150,damping:9}}}),Xt=(n,e,t,i)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t?t*.4:0,duration:i?i*.5:.3,ease:"easeOut"}}}),kT=(n,e,t,i)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t?t*.4:0,duration:i?i*.5:.3,ease:"easeOut"}}}),qK=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n?n*.2:.03,delayChildren:e?e*.2:0}}}),O0=(n,e)=>()=>m.jsxs(He.section,{variants:qK(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.1},className:`${Ct.padding} max-w-7xl mx-auto relative z-0 py-20 section-container`,children:[m.jsx("span",{className:"hash-span",id:e,children:" "}),m.jsx(n,{})]});const QK=({index:n,title:e,icon:t,id:i})=>{const{t:r}=ln();return m.jsx(He.div,{variants:Xt("up","spring",n*.2,.5),whileHover:{y:-8,transition:{duration:.3}},className:"w-full mx-auto",children:m.jsx("div",{className:"card",children:m.jsxs(qt,{to:`/carpool/${i}`,className:"card-link",children:[m.jsx("div",{className:"card-image",children:m.jsx(He.img,{src:t,alt:r(`carpool.${i}`),className:"w-full h-full object-cover hover:scale-110 transition-transform duration-700",loading:"eager"})}),m.jsxs("div",{className:"card-content",children:[m.jsx("h3",{className:"card-title",children:r(`carpool.${i}`)}),m.jsx("p",{className:"card-description text-center",children:"Click to view details"})]})]})})})},$K=()=>(ln(),m.jsxs("div",{className:"section-container",children:[m.jsxs("div",{className:"section-header",children:[m.jsxs(He.div,{variants:wi(),children:[m.jsx("p",{className:"section-subtitle",children:"LUXUS FAHRZEUGFLOTTE"}),m.jsx("h2",{className:"section-title",children:"Premium Fahrzeuge"}),m.jsx("div",{className:"section-title-underline"})]}),m.jsx("p",{className:"section-description",children:"Unser exklusiver Limousinenservice bietet Ihnen erstklassige Transportmöglichkeiten mit Mercedes S-Klasse, BMW 7er Serie und Mercedes V-Klasse für alle Anlässe. Wählen Sie aus unserer Luxusflotte von hochwertigen Fahrzeugen mit professionellen Chauffeuren für Business Transfers, Flughafentransfers und VIP-Service."})]}),m.jsx("div",{className:"card-grid",children:JK.map((n,e)=>m.jsx(QK,{index:e,...n},n.title))})]})),ZK=O0($K,"carpool");const RD=()=>{const n=D.useRef(null);return D.useEffect(()=>{const e=t=>{if(!n.current)return;const i=t.clientX/window.innerWidth,r=t.clientY/window.innerHeight;n.current.style.transform=`translate(${-i*30}px, ${-r*30}px)`};if(window.addEventListener("mousemove",e),window.matchMedia("(max-width: 768px)").matches){let t=0;const i=()=>{if(!n.current)return;t+=.1;const s=Math.sin(t/100)*15,o=Math.cos(t/100)*10;n.current.style.transform=`translate(${s}px, ${o}px)`,requestAnimationFrame(i)},r=requestAnimationFrame(i);return()=>cancelAnimationFrame(r)}return()=>{window.removeEventListener("mousemove",e)}},[]),m.jsx("div",{className:"parallax-background-container",children:m.jsxs("div",{className:"parallax-background",ref:n,children:[m.jsx("div",{className:"parallax-overlay"}),m.jsxs("div",{className:"parallax-decorations",children:[m.jsx("div",{className:"decoration decoration-1"}),m.jsx("div",{className:"decoration decoration-2"}),m.jsx("div",{className:"decoration decoration-3"}),m.jsx("div",{className:"decoration decoration-4"}),m.jsx("div",{className:"decoration decoration-5"}),m.jsx("div",{className:"decoration decoration-6"})]})]})})};const eY=[{key:"s_class",title:"Mercedes S-Class",icon:"https://images.unsplash.com/photo-1563720223185-11003d516935?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80",iconBg:"linear-gradient(135deg, #000000, #111111)",link:"/carpool/mercedes-sclass"},{key:"v_class",title:"Mercedes V-Class",icon:"https://images.unsplash.com/photo-1551446591-142875a901a1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80",iconBg:"linear-gradient(135deg, #000000, #111111)",link:"/carpool/mercedes-vclass"},{key:"bmw7",title:"BMW 7",icon:"https://images.unsplash.com/photo-1523983388277-336a66bf9bcd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80",iconBg:"linear-gradient(135deg, #000000, #111111)",link:"/carpool/bmw-7"}],tY=()=>(ln(),vn(),m.jsxs("div",{className:"carpool-container",children:[m.jsx(RD,{}),m.jsxs("div",{className:"carpool-content",children:[m.jsxs(He.div,{variants:wi(),className:"carpool-header",children:[m.jsx("p",{className:`${Ct.sectionSubText} text-[#D4AF37]`,children:"PREMIUM VEHICLES"}),m.jsx("h2",{className:`${Ct.sectionHeadText}`,children:"Carpool"}),m.jsx("div",{className:"title-underline"})]}),m.jsx(He.p,{variants:Xt("","",.1,1),className:"carpool-description",children:"Our premium carpool service offers comfortable and reliable transportation options for groups of all sizes. Whether you're traveling for business or leisure, our fleet of luxury vehicles ensures a smooth and enjoyable journey. We prioritize safety, punctuality, and customer satisfaction with every ride."}),m.jsx("div",{className:"vehicle-cards-container",children:eY.map((n,e)=>m.jsxs(He.div,{className:"vehicle-card",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:e*.2,duration:.5},children:[m.jsx("div",{className:"vehicle-image-container",children:m.jsx("img",{src:n.icon,alt:n.title,className:"vehicle-image"})}),m.jsx("h3",{className:"vehicle-title",children:n.title}),m.jsx("a",{href:n.link,className:"vehicle-link",children:"Click to view details"})]},n.key))}),m.jsxs(He.div,{className:"carpool-info-section",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.8},children:[m.jsx("h2",{className:"info-section-title",children:"Why Choose Our Carpool Service?"}),m.jsxs("div",{className:"info-features",children:[m.jsxs("div",{className:"info-feature",children:[m.jsx("div",{className:"feature-icon",children:m.jsx("span",{className:"icon-circle",children:"✓"})}),m.jsx("h3",{className:"feature-title",children:"Professional Chauffeurs"}),m.jsx("p",{className:"feature-description",children:"Our experienced and professionally trained chauffeurs ensure your safety and comfort throughout your journey. All drivers undergo rigorous background checks and training in customer service excellence."})]}),m.jsxs("div",{className:"info-feature",children:[m.jsx("div",{className:"feature-icon",children:m.jsx("span",{className:"icon-circle",children:"✓"})}),m.jsx("h3",{className:"feature-title",children:"Luxury Fleet"}),m.jsx("p",{className:"feature-description",children:"Travel in style with our meticulously maintained luxury vehicles. Each car in our fleet offers premium amenities and is regularly serviced to ensure reliability and comfort."})]}),m.jsxs("div",{className:"info-feature",children:[m.jsx("div",{className:"feature-icon",children:m.jsx("span",{className:"icon-circle",children:"✓"})}),m.jsx("h3",{className:"feature-title",children:"Customized Service"}),m.jsx("p",{className:"feature-description",children:"We tailor our service to meet your specific needs, whether it's airport transfers, corporate events, or special occasions. Our team works with you to create the perfect transportation solution."})]})]})]}),m.jsxs(He.div,{className:"carpool-service-details",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.8},children:[m.jsx("h2",{className:"service-section-title",children:"Our Services"}),m.jsxs("div",{className:"service-types",children:[m.jsxs("div",{className:"service-type",children:[m.jsx("h3",{className:"service-type-title",children:"Airport Transfers"}),m.jsx("p",{className:"service-type-description",children:"Start and end your journey in comfort with our reliable airport transfer service. We monitor flight times to ensure punctual pickups and drop-offs, even if your flight is delayed."})]}),m.jsxs("div",{className:"service-type",children:[m.jsx("h3",{className:"service-type-title",children:"Corporate Transportation"}),m.jsx("p",{className:"service-type-description",children:"Make a lasting impression with our executive transportation services. Perfect for business meetings, conferences, and corporate events."})]}),m.jsxs("div",{className:"service-type",children:[m.jsx("h3",{className:"service-type-title",children:"Special Events"}),m.jsx("p",{className:"service-type-description",children:"Celebrate in style with our luxury transportation for weddings, anniversaries, and other special occasions. We add a touch of elegance to your important day."})]}),m.jsxs("div",{className:"service-type",children:[m.jsx("h3",{className:"service-type-title",children:"City Tours"}),m.jsx("p",{className:"service-type-description",children:"Explore the city with our customized tour packages. Our knowledgeable chauffeurs double as guides to enhance your sightseeing experience."})]})]})]}),m.jsxs(He.div,{className:"booking-section",initial:{opacity:0},animate:{opacity:1},transition:{delay:.9,duration:.8},children:[m.jsx("h2",{className:"booking-title",children:"Ready to Book?"}),m.jsx("p",{className:"booking-description",children:"Contact us today to reserve your luxury transportation and experience the difference of our premium carpool service."}),m.jsx("button",{className:"booking-button",children:"Book Now"})]})]})]})),nY=()=>m.jsx("div",{className:"relative z-0 bg-primary min-h-screen",children:m.jsx("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:m.jsx(tY,{})})});const iY=()=>{const{t:n}=ln(),{dir:e,language:t}=vn(),i=r=>r.includes("Executive")?"executive":r.includes("Airport")?"airport":"group";return m.jsxs("div",{className:"elegant-timeline",dir:e,children:[m.jsx("div",{className:"timeline-center-line"}),KK.map((r,s)=>{const o=i(r.title),a=s===0||s===2;return m.jsxs(He.div,{className:`elegant-timeline-item ${a?"timeline-item-right":"timeline-item-left"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:s*.2},children:[m.jsx("div",{className:"timeline-node",children:m.jsx(He.div,{className:"timeline-icon",initial:{scale:.8,opacity:0,rotate:-180},animate:{scale:1,opacity:1,rotate:0},transition:{delay:s*.2+.3,type:"spring",stiffness:100,damping:10},whileHover:{scale:1.1,rotate:15,boxShadow:"0 0 25px rgba(212, 175, 55, 0.7)"},children:m.jsx("img",{src:r.icon,alt:n(`service-details.${o}.title`),className:"timeline-icon-img"})})}),m.jsxs(He.div,{className:"timeline-content",initial:{x:a?20:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:s*.2+.1,type:"spring",stiffness:80,damping:15},whileHover:{scale:1.02,boxShadow:"0 15px 40px rgba(0, 0, 0, 0.7), 0 0 20px rgba(212, 175, 55, 0.3)"},children:[m.jsxs("div",{className:"timeline-header",children:[m.jsx("h3",{className:"timeline-title",children:n(`service-details.${o}.title`)}),m.jsx("p",{className:"timeline-subtitle",children:n(`service-details.${o}.company`)}),m.jsxs("div",{className:"timeline-availability",children:[o==="executive"&&m.jsx("span",{children:"Available 24/7"}),o==="airport"&&m.jsx("span",{children:"All Major Airports"}),o==="group"&&m.jsx("span",{children:"Up to 7 Passengers"})]})]}),m.jsx("ul",{className:"timeline-points",children:n(`service-details.${o}.points`,{returnObjects:!0}).map((l,c)=>m.jsx(He.li,{className:"timeline-point",initial:{opacity:0,x:e==="rtl"?20:-20},animate:{opacity:1,x:0},transition:{delay:.1*c+.5,type:"spring",stiffness:100,damping:15},whileHover:{color:"#D4AF37",x:e==="rtl"?-5:5,transition:{duration:.2}},children:l},`timeline-point-${s}-${c}`))})]})]},`elegant-timeline-item-${s}`)})]})},PD=()=>(ln(),vn(),m.jsxs("div",{className:"section-container",children:[m.jsxs("div",{className:"section-header",children:[m.jsxs(He.div,{variants:wi(),children:[m.jsx("p",{className:"section-subtitle",children:"EXKLUSIVE TRANSPORTLÖSUNGEN"}),m.jsx("h2",{className:"section-title",children:"Premium Chauffeur Service"}),m.jsx("div",{className:"section-title-underline"})]}),m.jsx("p",{className:"section-description",children:"Wir bieten erstklassigen Chauffeurservice und exklusive Transportlösungen für anspruchsvolle Kunden. Unser Business Chauffeur Service, Executive Transfer Service und VIP Chauffeur Service garantieren höchsten Komfort und Diskretion. Mit unseren professionellen Fahrern und Luxusfahrzeugen erleben Sie eine stilvolle und komfortable Reise - ob für Geschäftstermine, Flughafentransfers oder besondere Anlässe."})]}),m.jsx("div",{className:"timeline-container",children:m.jsx(iY,{})})]})),rY=()=>m.jsx("div",{className:"relative z-0",children:m.jsx("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:m.jsx(PD,{})})}),sY=O0(PD,"services");const Lm=[{key:"popular_cities",title:"Beliebte Zielorte",description:"Discover Germany's most popular tourist destinations with our luxury transportation services",image:bD,link:"/tourism/beliebte-zielorte",hashtags:["#Sightseeing","#Cultural Tours","#Historical Sites","#City Tours"]},{key:"shopping_tours",title:"Shopping Tours",description:"Exclusive shopping experiences at Germany's finest retail destinations with VIP transportation and personal shopping assistance",image:CD,link:"/tourism/shoppingtours",hashtags:["#Luxury Shopping","#Outlet Tours","#VIP Experience"]},{key:"theme_parks",title:"Freizeitparks",description:"Visit Germany's best theme parks and amusement attractions with comfortable luxury transportation for families and groups",image:ED,link:"/tourism/freizeitparks",hashtags:["#Family Fun","#Theme Parks","#Group Tours"]},{key:"farms",title:"Bauernhöfe",description:"Experience authentic German farm life and rural traditions with our guided farm tours and countryside excursions",image:GA,link:"/tourism/bauernhofe",hashtags:["#Rural Tourism"]}],Nm=({item:n})=>m.jsx(qt,{to:n.link,className:"card-link",children:m.jsxs(He.div,{className:"card",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:12},whileHover:{scale:1.02},children:[m.jsx("div",{className:"card-image",children:m.jsx("img",{src:n.image,alt:n.title})}),m.jsxs("div",{className:"card-content",children:[m.jsx("h3",{className:"card-title",children:n.title}),m.jsx("p",{className:"card-description",children:n.description}),m.jsx("div",{className:"card-tags",children:n.hashtags.map((e,t)=>m.jsx("span",{className:"card-tag",children:e},t))})]})]})}),LD=()=>(ln(),vn(),m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"section-header",children:[m.jsxs(He.div,{variants:wi(),children:[m.jsx("p",{className:"section-subtitle",children:"LUXURY TRAVEL EXPERIENCES"}),m.jsx("h2",{className:"section-title",children:"Tourism Packages"}),m.jsx("div",{className:"section-title-underline"})]}),m.jsx("p",{className:"section-description",children:"Discover our exclusive tourism packages designed to provide unforgettable experiences. Each package includes luxury transportation in our premium vehicles, expert guides, and carefully selected accommodations for your comfort."})]}),m.jsxs("div",{className:"grid-2x2",children:[m.jsxs("div",{className:"grid-row",children:[m.jsx(Nm,{item:Lm[0]}),m.jsx(Nm,{item:Lm[1]})]}),m.jsxs("div",{className:"grid-row",children:[m.jsx(Nm,{item:Lm[2]}),m.jsx(Nm,{item:Lm[3]})]})]})]})),oY=()=>m.jsx("div",{className:"relative z-0 bg-black min-h-screen",children:m.jsx("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0 py-16`,children:m.jsx(LD,{})})}),aY=O0(LD,"tourism-section");var ND={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FT=pn.createContext&&pn.createContext(ND),ia=globalThis&&globalThis.__assign||function(){return ia=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},ia.apply(this,arguments)},lY=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function BD(n){return n&&n.map(function(e,t){return pn.createElement(e.tag,ia({key:t},e.attr),BD(e.child))})}function Cn(n){return function(e){return pn.createElement(cY,ia({attr:ia({},n.attr)},e),BD(n.child))}}function cY(n){var e=function(t){var i=n.attr,r=n.size,s=n.title,o=lY(n,["attr","size","title"]),a=r||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),pn.createElement("svg",ia({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:l,style:ia(ia({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&pn.createElement("title",null,s),n.children)};return FT!==void 0?pn.createElement(FT.Consumer,null,function(t){return e(t)}):e(ND)}function uY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M325.1 167.8c0-16.4-14.1-18.4-27.4-18.4l-39.1-.3v69.3H275v-25.1h18c18.4 0 14.5 10.3 14.8 25.1h16.6v-13.5c0-9.2-1.5-15.1-11-18.4 7.4-3 11.8-10.7 11.7-18.7zm-29.4 11.3H275v-15.3h21c5.1 0 10.7 1 10.7 7.4 0 6.6-5.3 7.9-11 7.9zM279 268.6h-52.7l-21 22.8-20.5-22.8h-66.5l-.1 69.3h65.4l21.3-23 20.4 23h32.2l.1-23.3c18.9 0 49.3 4.6 49.3-23.3 0-17.3-12.3-22.7-27.9-22.7zm-103.8 54.7h-40.6v-13.8h36.3v-14.1h-36.3v-12.5h41.7l17.9 20.2zm65.8 8.2l-25.3-28.1L241 276zm37.8-31h-21.2v-17.6h21.5c5.6 0 10.2 2.3 10.2 8.4 0 6.4-4.6 9.2-10.5 9.2zm-31.6-136.7v-14.6h-55.5v69.3h55.5v-14.3h-38.9v-13.8h37.8v-14.1h-37.8v-12.5zM576 255.4h-.2zm-194.6 31.9c0-16.4-14.1-18.7-27.1-18.7h-39.4l-.1 69.3h16.6l.1-25.3h17.6c11 0 14.8 2 14.8 13.8l-.1 11.5h16.6l.1-13.8c0-8.9-1.8-15.1-11-18.4 7.7-3.1 11.8-10.8 11.9-18.4zm-29.2 11.2h-20.7v-15.6h21c5.1 0 10.7 1 10.7 7.4 0 6.9-5.4 8.2-11 8.2zm-172.8-80v-69.3h-27.6l-19.7 47-21.7-47H83.3v65.7l-28.1-65.7H30.7L1 218.5h17.9l6.4-15.3h34.5l6.4 15.3H100v-54.2l24 54.2h14.6l24-54.2v54.2zM31.2 188.8l11.2-27.6 11.5 27.6zm477.4 158.9v-4.5c-10.8 5.6-3.9 4.5-156.7 4.5 0-25.2.1-23.9 0-25.2-1.7-.1-3.2-.1-9.4-.1 0 17.9-.1 6.8-.1 25.3h-39.6c0-12.1.1-15.3.1-29.2-10 6-22.8 6.4-34.3 6.2 0 14.7-.1 8.3-.1 23h-48.9c-5.1-5.7-2.7-3.1-15.4-17.4-3.2 3.5-12.8 13.9-16.1 17.4h-82v-92.3h83.1c5 5.6 2.8 3.1 15.5 17.2 3.2-3.5 12.2-13.4 15.7-17.2h58c9.8 0 18 1.9 24.3 5.6v-5.6c54.3 0 64.3-1.4 75.7 5.1v-5.1h78.2v5.2c11.4-6.9 19.6-5.2 64.9-5.2v5c10.3-5.9 16.6-5.2 54.3-5V80c0-26.5-21.5-48-48-48h-480c-26.5 0-48 21.5-48 48v109.8c9.4-21.9 19.7-46 23.1-53.9h39.7c4.3 10.1 1.6 3.7 9 21.1v-21.1h46c2.9 6.2 11.1 24 13.9 30 5.8-13.6 10.1-23.9 12.6-30h103c0-.1 11.5 0 11.6 0 43.7.2 53.6-.8 64.4 5.3v-5.3H363v9.3c7.6-6.1 17.9-9.3 30.7-9.3h27.6c0 .5 1.9.3 2.3.3H456c4.2 9.8 2.6 6 8.8 20.6v-20.6h43.3c4.9 8-1-1.8 11.2 18.4v-18.4h39.9v92h-41.6c-5.4-9-1.4-2.2-13.2-21.9v21.9h-52.8c-6.4-14.8-.1-.3-6.6-15.3h-19c-4.2 10-2.2 5.2-6.4 15.3h-26.8c-12.3 0-22.3-3-29.7-8.9v8.9h-66.5c-.3-13.9-.1-24.8-.1-24.8-1.8-.3-3.4-.2-9.8-.2v25.1H151.2v-11.4c-2.5 5.6-2.7 5.9-5.1 11.4h-29.5c-4-8.9-2.9-6.4-5.1-11.4v11.4H58.6c-4.2-10.1-2.2-5.3-6.4-15.3H33c-4.2 10-2.2 5.2-6.4 15.3H0V432c0 26.5 21.5 48 48 48h480.1c26.5 0 48-21.5 48-48v-90.4c-12.7 8.3-32.7 6.1-67.5 6.1zm36.3-64.5H575v-14.6h-32.9c-12.8 0-23.8 6.6-23.8 20.7 0 33 42.7 12.8 42.7 27.4 0 5.1-4.3 6.4-8.4 6.4h-32l-.1 14.8h32c8.4 0 17.6-1.8 22.5-8.9v-25.8c-10.5-13.8-39.3-1.3-39.3-13.5 0-5.8 4.6-6.5 9.2-6.5zm-57 39.8h-32.2l-.1 14.8h32.2c14.8 0 26.2-5.6 26.2-22 0-33.2-42.9-11.2-42.9-26.3 0-5.6 4.9-6.4 9.2-6.4h30.4v-14.6h-33.2c-12.8 0-23.5 6.6-23.5 20.7 0 33 42.7 12.5 42.7 27.4-.1 5.4-4.7 6.4-8.8 6.4zm-42.2-40.1v-14.3h-55.2l-.1 69.3h55.2l.1-14.3-38.6-.3v-13.8H445v-14.1h-37.8v-12.5zm-56.3-108.1c-.3.2-1.4 2.2-1.4 7.6 0 6 .9 7.7 1.1 7.9.2.1 1.1.5 3.4.5l7.3-16.9c-1.1 0-2.1-.1-3.1-.1-5.6 0-7 .7-7.3 1zm20.4-10.5h-.1zm-16.2-15.2c-23.5 0-34 12-34 35.3 0 22.2 10.2 34 33 34h19.2l6.4-15.3h34.3l6.6 15.3h33.7v-51.9l31.2 51.9h23.6v-69h-16.9v48.1l-29.1-48.1h-25.3v65.4l-27.9-65.4h-24.8l-23.5 54.5h-7.4c-13.3 0-16.1-8.1-16.1-19.9 0-23.8 15.7-20 33.1-19.7v-15.2zm42.1 12.1l11.2 27.6h-22.8zm-101.1-12v69.3h16.9v-69.3z"}}]})(n)}function dY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M482.9 410.3c0 6.8-4.6 11.7-11.2 11.7-6.8 0-11.2-5.2-11.2-11.7 0-6.5 4.4-11.7 11.2-11.7 6.6 0 11.2 5.2 11.2 11.7zm-310.8-11.7c-7.1 0-11.2 5.2-11.2 11.7 0 6.5 4.1 11.7 11.2 11.7 6.5 0 10.9-4.9 10.9-11.7-.1-6.5-4.4-11.7-10.9-11.7zm117.5-.3c-5.4 0-8.7 3.5-9.5 8.7h19.1c-.9-5.7-4.4-8.7-9.6-8.7zm107.8.3c-6.8 0-10.9 5.2-10.9 11.7 0 6.5 4.1 11.7 10.9 11.7 6.8 0 11.2-4.9 11.2-11.7 0-6.5-4.4-11.7-11.2-11.7zm105.9 26.1c0 .3.3.5.3 1.1 0 .3-.3.5-.3 1.1-.3.3-.3.5-.5.8-.3.3-.5.5-1.1.5-.3.3-.5.3-1.1.3-.3 0-.5 0-1.1-.3-.3 0-.5-.3-.8-.5-.3-.3-.5-.5-.5-.8-.3-.5-.3-.8-.3-1.1 0-.5 0-.8.3-1.1 0-.5.3-.8.5-1.1.3-.3.5-.3.8-.5.5-.3.8-.3 1.1-.3.5 0 .8 0 1.1.3.5.3.8.3 1.1.5s.2.6.5 1.1zm-2.2 1.4c.5 0 .5-.3.8-.3.3-.3.3-.5.3-.8 0-.3 0-.5-.3-.8-.3 0-.5-.3-1.1-.3h-1.6v3.5h.8V426h.3l1.1 1.4h.8l-1.1-1.3zM576 81v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V81c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48zM64 220.6c0 76.5 62.1 138.5 138.5 138.5 27.2 0 53.9-8.2 76.5-23.1-72.9-59.3-72.4-171.2 0-230.5-22.6-15-49.3-23.1-76.5-23.1-76.4-.1-138.5 62-138.5 138.2zm224 108.8c70.5-55 70.2-162.2 0-217.5-70.2 55.3-70.5 162.6 0 217.5zm-142.3 76.3c0-8.7-5.7-14.4-14.7-14.7-4.6 0-9.5 1.4-12.8 6.5-2.4-4.1-6.5-6.5-12.2-6.5-3.8 0-7.6 1.4-10.6 5.4V392h-8.2v36.7h8.2c0-18.9-2.5-30.2 9-30.2 10.2 0 8.2 10.2 8.2 30.2h7.9c0-18.3-2.5-30.2 9-30.2 10.2 0 8.2 10 8.2 30.2h8.2v-23zm44.9-13.7h-7.9v4.4c-2.7-3.3-6.5-5.4-11.7-5.4-10.3 0-18.2 8.2-18.2 19.3 0 11.2 7.9 19.3 18.2 19.3 5.2 0 9-1.9 11.7-5.4v4.6h7.9V392zm40.5 25.6c0-15-22.9-8.2-22.9-15.2 0-5.7 11.9-4.8 18.5-1.1l3.3-6.5c-9.4-6.1-30.2-6-30.2 8.2 0 14.3 22.9 8.3 22.9 15 0 6.3-13.5 5.8-20.7.8l-3.5 6.3c11.2 7.6 32.6 6 32.6-7.5zm35.4 9.3l-2.2-6.8c-3.8 2.1-12.2 4.4-12.2-4.1v-16.6h13.1V392h-13.1v-11.2h-8.2V392h-7.6v7.3h7.6V416c0 17.6 17.3 14.4 22.6 10.9zm13.3-13.4h27.5c0-16.2-7.4-22.6-17.4-22.6-10.6 0-18.2 7.9-18.2 19.3 0 20.5 22.6 23.9 33.8 14.2l-3.8-6c-7.8 6.4-19.6 5.8-21.9-4.9zm59.1-21.5c-4.6-2-11.6-1.8-15.2 4.4V392h-8.2v36.7h8.2V408c0-11.6 9.5-10.1 12.8-8.4l2.4-7.6zm10.6 18.3c0-11.4 11.6-15.1 20.7-8.4l3.8-6.5c-11.6-9.1-32.7-4.1-32.7 15 0 19.8 22.4 23.8 32.7 15l-3.8-6.5c-9.2 6.5-20.7 2.6-20.7-8.6zm66.7-18.3H408v4.4c-8.3-11-29.9-4.8-29.9 13.9 0 19.2 22.4 24.7 29.9 13.9v4.6h8.2V392zm33.7 0c-2.4-1.2-11-2.9-15.2 4.4V392h-7.9v36.7h7.9V408c0-11 9-10.3 12.8-8.4l2.4-7.6zm40.3-14.9h-7.9v19.3c-8.2-10.9-29.9-5.1-29.9 13.9 0 19.4 22.5 24.6 29.9 13.9v4.6h7.9v-51.7zm7.6-75.1v4.6h.8V302h1.9v-.8h-4.6v.8h1.9zm6.6 123.8c0-.5 0-1.1-.3-1.6-.3-.3-.5-.8-.8-1.1-.3-.3-.8-.5-1.1-.8-.5 0-1.1-.3-1.6-.3-.3 0-.8.3-1.4.3-.5.3-.8.5-1.1.8-.5.3-.8.8-.8 1.1-.3.5-.3 1.1-.3 1.6 0 .3 0 .8.3 1.4 0 .3.3.8.8 1.1.3.3.5.5 1.1.8.5.3 1.1.3 1.4.3.5 0 1.1 0 1.6-.3.3-.3.8-.5 1.1-.8.3-.3.5-.8.8-1.1.3-.6.3-1.1.3-1.4zm3.2-124.7h-1.4l-1.6 3.5-1.6-3.5h-1.4v5.4h.8v-4.1l1.6 3.5h1.1l1.4-3.5v4.1h1.1v-5.4zm4.4-80.5c0-76.2-62.1-138.3-138.5-138.3-27.2 0-53.9 8.2-76.5 23.1 72.1 59.3 73.2 171.5 0 230.5 22.6 15 49.5 23.1 76.5 23.1 76.4.1 138.5-61.9 138.5-138.4z"}}]})(n)}function hY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M186.3 258.2c0 12.2-9.7 21.5-22 21.5-9.2 0-16-5.2-16-15 0-12.2 9.5-22 21.7-22 9.3 0 16.3 5.7 16.3 15.5zM80.5 209.7h-4.7c-1.5 0-3 1-3.2 2.7l-4.3 26.7 8.2-.3c11 0 19.5-1.5 21.5-14.2 2.3-13.4-6.2-14.9-17.5-14.9zm284 0H360c-1.8 0-3 1-3.2 2.7l-4.2 26.7 8-.3c13 0 22-3 22-18-.1-10.6-9.6-11.1-18.1-11.1zM576 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48zM128.3 215.4c0-21-16.2-28-34.7-28h-40c-2.5 0-5 2-5.2 4.7L32 294.2c-.3 2 1.2 4 3.2 4h19c2.7 0 5.2-2.9 5.5-5.7l4.5-26.6c1-7.2 13.2-4.7 18-4.7 28.6 0 46.1-17 46.1-45.8zm84.2 8.8h-19c-3.8 0-4 5.5-4.2 8.2-5.8-8.5-14.2-10-23.7-10-24.5 0-43.2 21.5-43.2 45.2 0 19.5 12.2 32.2 31.7 32.2 9 0 20.2-4.9 26.5-11.9-.5 1.5-1 4.7-1 6.2 0 2.3 1 4 3.2 4H200c2.7 0 5-2.9 5.5-5.7l10.2-64.3c.3-1.9-1.2-3.9-3.2-3.9zm40.5 97.9l63.7-92.6c.5-.5.5-1 .5-1.7 0-1.7-1.5-3.5-3.2-3.5h-19.2c-1.7 0-3.5 1-4.5 2.5l-26.5 39-11-37.5c-.8-2.2-3-4-5.5-4h-18.7c-1.7 0-3.2 1.8-3.2 3.5 0 1.2 19.5 56.8 21.2 62.1-2.7 3.8-20.5 28.6-20.5 31.6 0 1.8 1.5 3.2 3.2 3.2h19.2c1.8-.1 3.5-1.1 4.5-2.6zm159.3-106.7c0-21-16.2-28-34.7-28h-39.7c-2.7 0-5.2 2-5.5 4.7l-16.2 102c-.2 2 1.3 4 3.2 4h20.5c2 0 3.5-1.5 4-3.2l4.5-29c1-7.2 13.2-4.7 18-4.7 28.4 0 45.9-17 45.9-45.8zm84.2 8.8h-19c-3.8 0-4 5.5-4.3 8.2-5.5-8.5-14-10-23.7-10-24.5 0-43.2 21.5-43.2 45.2 0 19.5 12.2 32.2 31.7 32.2 9.3 0 20.5-4.9 26.5-11.9-.3 1.5-1 4.7-1 6.2 0 2.3 1 4 3.2 4H484c2.7 0 5-2.9 5.5-5.7l10.2-64.3c.3-1.9-1.2-3.9-3.2-3.9zm47.5-33.3c0-2-1.5-3.5-3.2-3.5h-18.5c-1.5 0-3 1.2-3.2 2.7l-16.2 104-.3.5c0 1.8 1.5 3.5 3.5 3.5h16.5c2.5 0 5-2.9 5.2-5.7L544 191.2v-.3zm-90 51.8c-12.2 0-21.7 9.7-21.7 22 0 9.7 7 15 16.2 15 12 0 21.7-9.2 21.7-21.5.1-9.8-6.9-15.5-16.2-15.5z"}}]})(n)}function fY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M470.1 231.3s7.6 37.2 9.3 45H446c3.3-8.9 16-43.5 16-43.5-.2.3 3.3-9.1 5.3-14.9l2.8 13.4zM576 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48zM152.5 331.2L215.7 176h-42.5l-39.3 106-4.3-21.5-14-71.4c-2.3-9.9-9.4-12.7-18.2-13.1H32.7l-.7 3.1c15.8 4 29.9 9.8 42.2 17.1l35.8 135h42.5zm94.4.2L272.1 176h-40.2l-25.1 155.4h40.1zm139.9-50.8c.2-17.7-10.6-31.2-33.7-42.3-14.1-7.1-22.7-11.9-22.7-19.2.2-6.6 7.3-13.4 23.1-13.4 13.1-.3 22.7 2.8 29.9 5.9l3.6 1.7 5.5-33.6c-7.9-3.1-20.5-6.6-36-6.6-39.7 0-67.6 21.2-67.8 51.4-.3 22.3 20 34.7 35.2 42.2 15.5 7.6 20.8 12.6 20.8 19.3-.2 10.4-12.6 15.2-24.1 15.2-16 0-24.6-2.5-37.7-8.3l-5.3-2.5-5.6 34.9c9.4 4.3 26.8 8.1 44.8 8.3 42.2.1 69.7-20.8 70-53zM528 331.4L495.6 176h-31.1c-9.6 0-16.9 2.8-21 12.9l-59.7 142.5H426s6.9-19.2 8.4-23.3H486c1.2 5.5 4.8 23.3 4.8 23.3H528z"}}]})(n)}function pY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"}}]})(n)}function DD(n){return Cn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(n)}function mY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(n)}function mS(n){return Cn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(n)}function Bm(n){return Cn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(n)}function Rd(n){return Cn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(n)}function gY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M144.8 17c-11.3-17.8-37.2-22.8-54-9.4C35.3 51.9 0 118 0 192h256L144.8 17zM496 96h-48c-35.3 0-64 28.7-64 64v64H0c0 50.6 23 96.4 60.3 130.7C25.7 363.6 0 394.7 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-8.9-1.8-17.2-4.4-25.2 21.6 5.9 44.6 9.2 68.4 9.2s46.9-3.3 68.4-9.2c-2.7 8-4.4 16.3-4.4 25.2 0 44.2 35.8 80 80 80s80-35.8 80-80c0-37.3-25.7-68.4-60.3-77.3C425 320.4 448 274.6 448 224v-64h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM80 464c-17.6 0-32-14.4-32-32s14.4-32 32-32 32 14.4 32 32-14.4 32-32 32zm320-32c0 17.6-14.4 32-32 32s-32-14.4-32-32 14.4-32 32-32 32 14.4 32 32z"}}]})(n)}function vY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M544 192h-16L419.22 56.02A64.025 64.025 0 0 0 369.24 32H155.33c-26.17 0-49.7 15.93-59.42 40.23L48 194.26C20.44 201.4 0 226.21 0 256v112c0 8.84 7.16 16 16 16h48c0 53.02 42.98 96 96 96s96-42.98 96-96h128c0 53.02 42.98 96 96 96s96-42.98 96-96h48c8.84 0 16-7.16 16-16v-80c0-53.02-42.98-96-96-96zM160 432c-26.47 0-48-21.53-48-48s21.53-48 48-48 48 21.53 48 48-21.53 48-48 48zm72-240H116.93l38.4-96H232v96zm48 0V96h89.24l76.8 96H280zm200 240c-26.47 0-48-21.53-48-48s21.53-48 48-48 48 21.53 48 48-21.53 48-48 48z"}}]})(n)}function xY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"}}]})(n)}function yY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(n)}function gS(n){return Cn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(n)}function AY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(n)}function vS(n){return Cn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(n)}function _Y(n){return Cn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(n)}function wY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M628.88 210.65L494.39 49.27A48.01 48.01 0 0 0 457.52 32H32C14.33 32 0 46.33 0 64v288c0 17.67 14.33 32 32 32h32c0 53.02 42.98 96 96 96s96-42.98 96-96h128c0 53.02 42.98 96 96 96s96-42.98 96-96h32c17.67 0 32-14.33 32-32V241.38c0-11.23-3.94-22.1-11.12-30.73zM64 192V96h96v96H64zm96 240c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm160-240h-96V96h96v96zm160 240c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm-96-240V96h66.02l80 96H384z"}}]})(n)}function SY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(n)}function MY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496.101 385.669l14.227 28.663c3.929 7.915.697 17.516-7.218 21.445l-65.465 32.886c-16.049 7.967-35.556 1.194-43.189-15.055L331.679 320H192c-15.925 0-29.426-11.71-31.679-27.475C126.433 55.308 128.38 70.044 128 64c0-36.358 30.318-65.635 67.052-63.929 33.271 1.545 60.048 28.905 60.925 62.201.868 32.933-23.152 60.423-54.608 65.039l4.67 32.69H336c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16H215.182l4.572 32H352a32 32 0 0 1 28.962 18.392L438.477 396.8l36.178-18.349c7.915-3.929 17.517-.697 21.446 7.218zM311.358 352h-24.506c-7.788 54.204-54.528 96-110.852 96-61.757 0-112-50.243-112-112 0-41.505 22.694-77.809 56.324-97.156-3.712-25.965-6.844-47.86-9.488-66.333C45.956 198.464 0 261.963 0 336c0 97.047 78.953 176 176 176 71.87 0 133.806-43.308 161.11-105.192L311.358 352z"}}]})(n)}function bY(n){return Cn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"}}]})(n)}const EY=()=>{var A,v,S;const{t:n}=ln(),{dir:e}=vn(),t=((A=ih.find(_=>_.id==="services"))==null?void 0:A.dropdown)||[],i=((v=ih.find(_=>_.id==="tourism"))==null?void 0:v.dropdown)||[],r=((S=ih.find(_=>_.id==="carpool"))==null?void 0:S.dropdown)||[],[s,o]=D.useState(1),[a,l]=D.useState({startLocation:"",destination:"",customDestination:"",service:"",customService:"",date:"",time:"",duration:"1 Tag",passengers:"1 Person",vehicleType:"",extras:{wifi:!1,refreshments:!1,childSeat:!1,tourGuide:!1},name:"",email:"",phone:"",specialRequests:""}),c=_=>{const{name:b,value:C}=_.target;l({...a,[b]:C})},d=_=>{const{name:b,checked:C}=_.target;l({...a,extras:{...a.extras,[b]:C}})},f=_=>{l({...a,vehicleType:_})},p=()=>{o(s+1)},g=()=>{o(s-1)},x=_=>{_.preventDefault();const b=[];a.extras.wifi&&b.push("WiFi"),a.extras.refreshments&&b.push("Wheelchair Access"),a.extras.childSeat&&b.push("Child Seat"),a.extras.tourGuide&&b.push("Tour Guide");const C={"Start Location":a.startLocation,Destination:a.destination==="Andere"?a.customDestination:a.destination,Service:a.service==="Andere"?a.customService:a.service,Date:a.date,Time:a.time,Duration:a.duration,Passengers:a.passengers,"Vehicle Type":a.vehicleType,Extras:b.join(", ")||"None",Name:a.name,Email:a.email,Phone:a.phone,"Special Requests":a.specialRequests||"None",_subject:"New Booking Request"};fetch("https://formspree.io/f/myzerjwz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}).then(T=>{if(T.ok)alert(n("booking.successMessage")),o(1),l({startLocation:"",destination:"",customDestination:"",service:"",customService:"",date:"",time:"",duration:`1 ${n("booking.day")}`,passengers:`1 ${n("booking.person")}`,vehicleType:"",extras:{wifi:!1,refreshments:!1,childSeat:!1,tourGuide:!1},name:"",email:"",phone:"",specialRequests:""});else throw new Error("Network response was not ok")}).catch(T=>{console.error("Error submitting form:",T),alert(n("booking.errorMessage")||"There was an error submitting your booking. Please try again later.")})},w=()=>m.jsx("div",{className:"w-full mb-8",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-gray-700 -translate-y-1/2"}),m.jsx("div",{className:"absolute top-1/2 left-0 h-1 bg-[#D4AF37] -translate-y-1/2 transition-all duration-300",style:{width:`${s/3*100}%`}}),m.jsxs("div",{className:"relative flex justify-between",children:[m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-black text-xs font-bold ${s>=1?"bg-[#D4AF37]":"bg-black border border-[#D4AF37]"}`,children:"1"}),m.jsx("span",{className:`mt-1 text-xs text-center ${s>=1?"text-[#D4AF37] font-medium":"text-gray-400"}`,children:n("booking.step1").split(":")[0]})]}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-black text-xs font-bold ${s>=2?"bg-[#D4AF37]":"bg-black border border-[#D4AF37]"}`,children:"2"}),m.jsx("span",{className:`mt-1 text-xs text-center ${s>=2?"text-[#D4AF37] font-medium":"text-gray-400"}`,children:n("booking.step2").split(":")[0]})]}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-black text-xs font-bold ${s>=3?"bg-[#D4AF37]":"bg-black border border-[#D4AF37]"}`,children:"3"}),m.jsx("span",{className:`mt-1 text-xs text-center ${s>=3?"text-[#D4AF37] font-medium":"text-gray-400"}`,children:n("booking.step3").split(":")[0]})]}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-black text-xs font-bold ${s>=4?"bg-[#D4AF37]":"bg-black border border-[#D4AF37]"}`,children:"4"}),m.jsx("span",{className:`mt-1 text-xs text-center ${s>=4?"text-[#D4AF37] font-medium":"text-gray-400"}`,children:n("booking.step4")})]})]})]})});return m.jsxs("div",{className:"w-full h-full bg-black rounded-2xl p-6 overflow-y-auto shadow-card border border-[#D4AF37]",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("p",{className:"section-subtitle",children:"GET IN TOUCH"}),m.jsx("h3",{className:"section-title text-[#D4AF37]",children:n("booking.title")}),m.jsx("div",{className:"section-title-underline"})]}),m.jsx(w,{}),m.jsxs("form",{onSubmit:x,className:"relative z-10",children:[s===1&&m.jsxs(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-4",children:[m.jsx("h4",{className:"text-[#D4AF37] text-lg font-semibold mb-6 text-center",children:n("booking.step1")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[#D4AF37] text-base font-medium mb-4",children:n("booking.startLocation")}),m.jsx("input",{type:"text",name:"startLocation",value:a.startLocation,onChange:c,placeholder:n("booking.startLocationPlaceholder"),className:"bg-black py-4 px-6 placeholder:text-gray-400 text-white rounded-lg outline-none border border-[#D4AF37] font-medium w-full focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e},required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[#D4AF37] text-base font-medium mb-4",children:n("booking.service")}),m.jsxs("select",{name:"service",value:a.service,onChange:c,className:"bg-black py-4 px-6 text-white rounded-lg outline-none border border-[#D4AF37] font-medium appearance-none w-full focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e},required:!0,children:[m.jsx("option",{value:"",children:n("booking.servicePlaceholder")}),t.map(_=>m.jsx("option",{value:_.title,children:_.title},_.id)),m.jsx("option",{value:"Andere",children:n("booking.otherService")})]}),a.service==="Andere"&&m.jsx("input",{type:"text",name:"customService",value:a.customService||"",onChange:c,placeholder:n("booking.customServicePlaceholder"),className:"bg-black py-4 px-6 placeholder:text-gray-400 text-white rounded-lg outline-none border border-[#D4AF37] font-medium w-full mt-2 focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e}})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[#D4AF37] text-base font-medium mb-4",children:n("booking.destination")}),m.jsxs("select",{name:"destination",value:a.destination,onChange:c,className:"bg-black py-4 px-6 text-white rounded-lg outline-none border border-[#D4AF37] font-medium appearance-none w-full focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e},required:!0,children:[m.jsx("option",{value:"",children:n("booking.destinationPlaceholder")}),i.map(_=>m.jsx("option",{value:_.title,children:_.title},_.id)),m.jsx("option",{value:"Andere",children:n("booking.otherDestination")})]}),a.destination==="Andere"&&m.jsx("input",{type:"text",name:"customDestination",value:a.customDestination||"",onChange:c,placeholder:n("booking.customDestinationPlaceholder"),className:"bg-black py-4 px-6 placeholder:text-gray-400 text-white rounded-lg outline-none border border-[#D4AF37] font-medium w-full mt-2 focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e}})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[#D4AF37] text-base font-medium mb-4",children:n("booking.date")}),m.jsx("input",{type:"date",name:"date",value:a.date,onChange:c,className:"bg-black py-4 px-6 text-white rounded-lg outline-none border border-[#D4AF37] font-medium w-full focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e},required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[#D4AF37] text-base font-medium mb-4",children:n("booking.time")}),m.jsx("input",{type:"time",name:"time",value:a.time,onChange:c,className:"bg-black py-4 px-6 text-white rounded-lg outline-none border border-[#D4AF37] font-medium w-full focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e},required:!0})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[#D4AF37] text-base font-medium mb-4",children:n("booking.duration")}),m.jsxs("select",{name:"duration",value:a.duration,onChange:c,className:"bg-black py-4 px-6 text-white rounded-lg outline-none border border-[#D4AF37] font-medium appearance-none w-full focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e},children:[m.jsxs("option",{value:`1 ${n("booking.day")}`,children:["1 ",n("booking.day")]}),m.jsxs("option",{value:`2 ${n("booking.days")}`,children:["2 ",n("booking.days")]}),m.jsxs("option",{value:`3 ${n("booking.days")}`,children:["3 ",n("booking.days")]}),m.jsxs("option",{value:`4 ${n("booking.days")}`,children:["4 ",n("booking.days")]}),m.jsxs("option",{value:`5 ${n("booking.days")}`,children:["5 ",n("booking.days")]}),m.jsxs("option",{value:`6 ${n("booking.days")}`,children:["6 ",n("booking.days")]}),m.jsxs("option",{value:`7 ${n("booking.days")}`,children:["7 ",n("booking.days")]}),m.jsx("option",{value:n("booking.moreThan7Days"),children:n("booking.moreThan7Days")})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[#D4AF37] text-base font-medium mb-4",children:n("booking.passengers")}),m.jsxs("select",{name:"passengers",value:a.passengers,onChange:c,className:"bg-black py-4 px-6 text-white rounded-lg outline-none border border-[#D4AF37] font-medium appearance-none w-full focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e},children:[m.jsxs("option",{value:`1 ${n("booking.person")}`,children:["1 ",n("booking.person")]}),m.jsxs("option",{value:`2 ${n("booking.people")}`,children:["2 ",n("booking.people")]}),m.jsxs("option",{value:`3 ${n("booking.people")}`,children:["3 ",n("booking.people")]}),m.jsxs("option",{value:`4 ${n("booking.people")}`,children:["4 ",n("booking.people")]}),m.jsxs("option",{value:`5 ${n("booking.people")}`,children:["5 ",n("booking.people")]}),m.jsxs("option",{value:`6 ${n("booking.people")}`,children:["6 ",n("booking.people")]}),m.jsxs("option",{value:`7 ${n("booking.people")}`,children:["7 ",n("booking.people")]}),m.jsxs("option",{value:`8 ${n("booking.people")}`,children:["8 ",n("booking.people")]}),m.jsx("option",{value:n("booking.moreThan8People"),children:n("booking.moreThan8People")})]})]})]}),m.jsx("div",{className:"flex justify-center mt-6",children:m.jsxs("button",{type:"button",onClick:p,className:"bg-black py-3 px-8 rounded-xl outline-none w-fit text-[#D4AF37] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:[n("booking.next")," ",m.jsx(Rd,{className:`${e==="rtl"?"mr-2":"ml-2"} inline`})]})})]}),s===2&&m.jsxs(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-4",children:[m.jsx("h4",{className:"text-[#D4AF37] text-lg font-semibold mb-6 text-center",children:n("booking.step2")}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-[#D4AF37] text-base font-medium mb-4 text-center",children:n("booking.vehicleType")}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.map(_=>m.jsxs("div",{className:`p-3 rounded-lg cursor-pointer flex flex-col items-center transition-all duration-300 ${a.vehicleType===_.title?"bg-black border border-[#D4AF37] shadow-[0_0_5px_#D4AF37]":"bg-black border border-gray-700 hover:border-[#D4AF37]/50"}`,onClick:()=>f(_.title),children:[_.id==="mercedes-sclass"&&m.jsx(xY,{className:`text-3xl mb-2 ${a.vehicleType===_.title?"text-[#D4AF37]":"text-gray-500"}`}),_.id==="bmw-7"&&m.jsx(vY,{className:`text-3xl mb-2 ${a.vehicleType===_.title?"text-[#D4AF37]":"text-gray-500"}`}),_.id==="mercedes-vclass"&&m.jsx(wY,{className:`text-3xl mb-2 ${a.vehicleType===_.title?"text-[#D4AF37]":"text-gray-500"}`}),m.jsx("h5",{className:`font-medium text-xs ${a.vehicleType===_.title?"text-white":"text-gray-400"}`,children:n(`carpool.${_.id}`)}),m.jsxs("p",{className:"text-gray-500 text-xs text-center mt-1",children:[_.id==="mercedes-sclass"&&n("booking.upTo3People"),_.id==="bmw-7"&&n("booking.premiumVehicle"),_.id==="mercedes-vclass"&&n("booking.upTo8People")]})]},_.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[#D4AF37] text-base font-medium mb-4 text-center",children:n("booking.extras")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[m.jsxs("div",{className:"flex items-center p-2 bg-black rounded-lg border border-gray-700 hover:border-[#D4AF37]/50 transition-all duration-300",children:[m.jsx("input",{type:"checkbox",id:"wifi",name:"wifi",checked:a.extras.wifi,onChange:d,className:`${e==="rtl"?"ml-2":"mr-2"} h-4 w-4 accent-[#D4AF37] cursor-pointer`}),m.jsx(bY,{className:`text-[#D4AF37] ${e==="rtl"?"ml-2":"mr-2"} text-sm`}),m.jsx("label",{htmlFor:"wifi",className:"text-white text-xs cursor-pointer",children:n("booking.wifi")})]}),m.jsxs("div",{className:"flex items-center p-2 bg-black rounded-lg border border-gray-700 hover:border-[#D4AF37]/50 transition-all duration-300",children:[m.jsx("input",{type:"checkbox",id:"refreshments",name:"refreshments",checked:a.extras.refreshments,onChange:d,className:`${e==="rtl"?"ml-2":"mr-2"} h-4 w-4 accent-[#D4AF37] cursor-pointer`}),m.jsx(MY,{className:`text-[#D4AF37] ${e==="rtl"?"ml-2":"mr-2"} text-sm`}),m.jsx("label",{htmlFor:"refreshments",className:"text-white text-xs cursor-pointer",children:n("booking.wheelchair")})]}),m.jsxs("div",{className:"flex items-center p-2 bg-black rounded-lg border border-gray-700 hover:border-[#D4AF37]/50 transition-all duration-300",children:[m.jsx("input",{type:"checkbox",id:"childSeat",name:"childSeat",checked:a.extras.childSeat,onChange:d,className:`${e==="rtl"?"ml-2":"mr-2"} h-4 w-4 accent-[#D4AF37] cursor-pointer`}),m.jsx(gY,{className:`text-[#D4AF37] ${e==="rtl"?"ml-2":"mr-2"} text-sm`}),m.jsx("label",{htmlFor:"childSeat",className:"text-white text-xs cursor-pointer",children:n("booking.childSeat")})]}),m.jsxs("div",{className:"flex items-center p-2 bg-black rounded-lg border border-gray-700 hover:border-[#D4AF37]/50 transition-all duration-300",children:[m.jsx("input",{type:"checkbox",id:"tourGuide",name:"tourGuide",checked:a.extras.tourGuide,onChange:d,className:`${e==="rtl"?"ml-2":"mr-2"} h-4 w-4 accent-[#D4AF37] cursor-pointer`}),m.jsx(_Y,{className:`text-[#D4AF37] ${e==="rtl"?"ml-2":"mr-2"} text-sm`}),m.jsx("label",{htmlFor:"tourGuide",className:"text-white text-xs cursor-pointer",children:n("booking.tourGuide")})]})]})]}),m.jsxs("div",{className:"flex justify-between mt-4",children:[m.jsx("button",{type:"button",onClick:g,className:"bg-black py-3 px-8 rounded-xl outline-none w-fit text-[#D4AF37] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:e==="rtl"?m.jsxs(m.Fragment,{children:[n("booking.back")," ",m.jsx(Rd,{className:"ml-2 inline"})]}):m.jsxs(m.Fragment,{children:[m.jsx(Bm,{className:"mr-2 inline"})," ",n("booking.back")]})}),m.jsx("button",{type:"button",onClick:p,className:"bg-black py-3 px-8 rounded-xl outline-none w-fit text-[#D4AF37] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:e==="rtl"?m.jsxs(m.Fragment,{children:[m.jsx(Bm,{className:"mr-2 inline"})," ",n("booking.next")]}):m.jsxs(m.Fragment,{children:[n("booking.next")," ",m.jsx(Rd,{className:"ml-2 inline"})]})})]})]}),s===3&&m.jsxs(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-4",children:[m.jsx("h4",{className:"text-[#D4AF37] text-lg font-semibold mb-6 text-center",children:n("booking.step3")}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-[#D4AF37] text-base font-medium mb-4",children:n("booking.name")}),m.jsx("input",{type:"text",name:"name",value:a.name,onChange:c,placeholder:n("booking.namePlaceholder"),className:"bg-black py-4 px-6 placeholder:text-gray-400 text-white rounded-lg outline-none border border-[#D4AF37] font-medium w-full focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e},required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-[#D4AF37] text-base font-medium mb-4",children:n("booking.email")}),m.jsx("input",{type:"email",name:"email",value:a.email,onChange:c,placeholder:n("booking.emailPlaceholder"),className:"bg-black py-4 px-6 placeholder:text-gray-400 text-white rounded-lg outline-none border border-[#D4AF37] font-medium w-full focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e},required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-[#D4AF37] text-base font-medium mb-4",children:n("booking.phone")}),m.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:c,placeholder:n("booking.phonePlaceholder"),className:"bg-black py-4 px-6 placeholder:text-gray-400 text-white rounded-lg outline-none border border-[#D4AF37] font-medium w-full focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e},required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-[#D4AF37] text-base font-medium mb-4",children:n("booking.notes")}),m.jsx("textarea",{name:"specialRequests",value:a.specialRequests,onChange:c,placeholder:n("booking.notesPlaceholder"),className:"bg-black py-4 px-6 placeholder:text-gray-400 text-white rounded-lg outline-none border border-[#D4AF37] font-medium h-24 resize-none w-full focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e}})]}),m.jsxs("div",{className:"flex items-center mt-3 mb-4",children:[m.jsx("input",{type:"checkbox",id:"privacy",className:`${e==="rtl"?"ml-2":"mr-2"} h-3 w-3 accent-[#D4AF37] cursor-pointer`,required:!0}),m.jsxs("label",{htmlFor:"privacy",className:"text-white text-xs cursor-pointer",children:[n("booking.privacyPolicy")," ",m.jsx("span",{className:"text-[#D4AF37] underline",children:n("booking.privacyPolicyLink")}),"."]})]}),m.jsxs("div",{className:"flex justify-between mt-4",children:[m.jsx("button",{type:"button",onClick:g,className:"bg-black py-3 px-8 rounded-xl outline-none w-fit text-[#D4AF37] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:e==="rtl"?m.jsxs(m.Fragment,{children:[n("booking.back")," ",m.jsx(Rd,{className:"ml-2 inline"})]}):m.jsxs(m.Fragment,{children:[m.jsx(Bm,{className:"mr-2 inline"})," ",n("booking.back")]})}),m.jsx("button",{type:"submit",className:"bg-black py-3 px-8 rounded-xl outline-none w-fit text-[#D4AF37] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:e==="rtl"?m.jsxs(m.Fragment,{children:[m.jsx(Bm,{className:"mr-2 inline"})," ",n("booking.requestTour")]}):m.jsxs(m.Fragment,{children:[n("booking.requestTour")," ",m.jsx(Rd,{className:"ml-2 inline"})]})})]})]})]})]})},OT=({label:n,value:e,onChange:t,placeholder:i,name:r,type:s})=>{const{dir:o}=vn();return m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[#D4AF37] text-base font-medium mb-4",children:n}),m.jsx("input",{type:s,name:r,value:e,onChange:t,placeholder:i,className:"bg-black py-4 px-6 placeholder:text-gray-400 text-white rounded-lg outline-none border border-[#D4AF37] font-medium focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:o==="rtl"?"right":"left",direction:o}})]})},CY=()=>{const{t:n}=ln(),{dir:e}=vn(),t=D.useRef(),[i,r]=D.useState({name:"",email:"",message:""}),[s,o]=D.useState(!1),[a,l]=D.useState(""),[c,d]=D.useState(""),[f,p]=D.useState(""),g=A=>{const{name:v,value:S}=A.target;r({...i,[v]:S})},x=A=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(A),w=A=>{if(A.preventDefault(),l(""),d(""),p(""),!x(i.email)){l(n("contact.email")+" "+n("contact.error"));return}if(!i.name.trim()){d(n("contact.name")+" "+n("contact.error"));return}o(!0),fetch("https://formspree.io/f/myzerjwz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.name,email:i.email,message:i.message,_subject:"New Contact Form Submission"})}).then(v=>{if(v.ok)o(!1),p(n("contact.success")),r({name:"",email:"",message:""});else throw new Error("Network response was not ok")}).catch(v=>{o(!1),console.error(v),p(n("contact.error"))})};return m.jsx("div",{className:"section-container",children:m.jsxs("div",{className:"contact-container",children:[m.jsxs(He.div,{variants:kT(e==="rtl"?"right":"left","tween",.2,1),className:"contact-form-container",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("p",{className:"section-subtitle",children:n("contact.subtitle")}),m.jsx("h3",{className:"section-title",children:n("contact.title")}),m.jsx("div",{className:"section-title-underline"})]}),m.jsxs("form",{ref:t,onSubmit:w,className:"mt-6 flex flex-col gap-8",children:[m.jsx(OT,{label:n("contact.name"),name:"name",value:i.name,onChange:g,placeholder:n("contact.name"),type:"text"}),c&&m.jsx("span",{className:"text-red-500",children:c}),m.jsx(OT,{label:n("contact.email"),name:"email",value:i.email,onChange:g,placeholder:n("contact.email"),type:"email"}),a&&m.jsx("span",{className:"text-red-500",children:a}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[#D4AF37] text-base font-medium mb-4",children:n("contact.message")}),m.jsx("textarea",{name:"message",value:i.message,onChange:g,placeholder:n("contact.message"),className:"bg-black py-4 px-6 placeholder:text-gray-400 text-white rounded-lg outline-none border border-[#D4AF37] font-medium h-24 resize-none focus:shadow-[0_0_5px_#D4AF37] transition-all duration-300",style:{textAlign:e==="rtl"?"right":"left",direction:e}})]}),m.jsx("button",{type:"submit",className:"bg-black py-3 px-8 rounded-xl outline-none w-fit text-[#D4AF37] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300 mx-auto",children:n(s?"contact.sending":"contact.send")}),f&&m.jsx("p",{className:"text-green-500",children:f})]})]}),m.jsx(He.div,{variants:kT(e==="rtl"?"left":"right","tween",.2,1),className:"booking-form-container",children:m.jsx(EY,{})})]})})},ID=O0(CY,"contact"),TY=()=>{const n=new Date().getFullYear(),{t:e}=ln(),{dir:t}=vn();return m.jsx("footer",{className:"bg-black-100 py-5",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"col-span-1",children:[m.jsxs(qt,{to:"/",className:"flex items-center gap-2 mb-2",children:[m.jsx(TD,{}),m.jsx("p",{className:"text-white text-[16px] font-bold tracking-wider uppercase",children:"Premium Chauffeur"})]}),m.jsx("p",{className:"text-secondary text-[12px]",children:"Premium transportation services for discerning clients."})]}),m.jsxs("div",{className:"col-span-1",children:[m.jsx("h3",{className:"text-white text-[14px] font-bold mb-2",children:"Quick Links"}),m.jsx("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1",children:ih.map(i=>m.jsx(qt,{to:`/${i.id}`,className:"text-secondary text-[12px] hover:text-gold-100 transition-colors duration-150",children:i.title},i.id))})]}),m.jsxs("div",{className:"col-span-1",children:[m.jsx("h3",{className:"text-white text-[14px] font-bold mb-2",children:"Legal"}),m.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1",children:[m.jsx(qt,{to:"/privacy-policy",className:"text-secondary text-[12px] hover:text-gold-100 transition-colors duration-150",children:"Privacy Policy"}),m.jsx(qt,{to:"/terms-of-service",className:"text-secondary text-[12px] hover:text-gold-100 transition-colors duration-150",children:"Terms of Service"}),m.jsx(qt,{to:"/cookie-policy",className:"text-secondary text-[12px] hover:text-gold-100 transition-colors duration-150",children:"Cookie Policy"}),m.jsx(qt,{to:"/imprint",className:"text-secondary text-[12px] hover:text-gold-100 transition-colors duration-150",children:"Imprint"})]})]}),m.jsxs("div",{className:"col-span-1",children:[m.jsx("h3",{className:"text-white text-[14px] font-bold mb-2",children:e("navbar.contact")}),m.jsxs("ul",{className:"space-y-1",children:[m.jsxs("li",{className:"flex items-center text-secondary text-[12px]",children:[m.jsx(AY,{className:`${t==="rtl"?"ml-2":"mr-2"} text-secondary`}),"Luxusstraße 123, 10115 Berlin"]}),m.jsxs("li",{className:"flex items-center text-secondary text-[12px]",children:[m.jsx(vS,{className:`${t==="rtl"?"ml-2":"mr-2"} text-secondary`}),"+49 123 456 7890"]}),m.jsxs("li",{className:"flex items-center text-secondary text-[12px]",children:[m.jsx(gS,{className:`${t==="rtl"?"ml-2":"mr-2"} text-secondary`}),"info@premium-chauffeur.com"]})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center border-t border-gray-800 pt-3 mt-3",children:[m.jsxs("div",{className:"flex gap-2 mb-3 sm:mb-0",children:[m.jsx(fY,{className:"text-secondary text-2xl"}),m.jsx(dY,{className:"text-secondary text-2xl"}),m.jsx(uY,{className:"text-secondary text-2xl"}),m.jsx(hY,{className:"text-secondary text-2xl"})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-tertiary flex items-center justify-center hover:bg-secondary transition-colors duration-150",children:m.jsx(pY,{className:"text-white hover:text-black-200"})}),m.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-tertiary flex items-center justify-center hover:bg-secondary transition-colors duration-150",children:m.jsx(mY,{className:"text-white hover:text-black-200"})}),m.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-tertiary flex items-center justify-center hover:bg-secondary transition-colors duration-150",children:m.jsx(DD,{className:"text-white hover:text-black-200"})}),m.jsx("a",{href:"https://wa.me/491234567890",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-tertiary flex items-center justify-center hover:bg-secondary transition-colors duration-150",children:m.jsx(mS,{className:"text-white hover:text-black-200"})})]})]}),m.jsx("div",{className:"pt-3 mt-3 text-center",children:m.jsx("p",{className:"text-secondary text-[12px]",children:e("footer.copyright",{year:n})})})]})})},Pd={en:{chatTitle:"Premium Assistant",clearChat:"Clear chat",typingIndicator:"Premium Assistant is typing",inputPlaceholder:"Type your message...",sendButton:"Send",readReceipt:"Read",sentReceipt:"Sent",bookChauffeur:"Book a Chauffeur",contactUs:"Contact Us",ourVehicles:"Our Vehicles",ourServices:"Our Services",tourPackages:"Tour Packages",helpful:"Helpful",notHelpful:"Not helpful",feedbackThanksPositive:"Thank you for your positive feedback! We're glad we could help.",feedbackThanksNegative:"Thank you for your feedback. We'll work to improve our responses.",initialGreeting:"Hello! How can I help you with our transportation and chauffeur services today?",contactFormGreeting:"I'd be happy to help you get in touch with our team. Could you please tell me your name?",contactFormEmail:"Thanks, {name}! What email address should we use to contact you?",contactFormMessage:"Great! Now, please tell me what you'd like to discuss with our team or any questions you have.",contactFormConfirm:`Thank you for providing your information! Here's what I have:

Name: {name}
Email: {email}
Message: {message}

Should I send this to our team now? (yes/no)`,contactFormSuccess:"Thank you, {name}! Your message has been sent successfully. Our team will review it and get back to you soon at {email}.",contactFormError:"I'm sorry, {name}, but there was an error submitting your information. Please try again later or use the contact form on our website.",contactFormCancelled:"No problem, {name}. Your information has not been sent. Is there something else I can help you with today?",bookingFormGreeting:"I'd be happy to help you book our chauffeur service. Where would you like to be picked up?",bookingFormDestination:"Great! And where would you like to go from {startLocation}?",bookingFormDate:"Perfect. What date would you like the service? (Please use YYYY-MM-DD format)",bookingFormTime:"And what time would you like to be picked up on {date}? (Please use HH:MM format)",bookingFormPassengers:"How many passengers will be traveling?",bookingFormVehicle:"We have several luxury vehicles available. Would you prefer a Mercedes S-Class (up to 3 people), BMW 7 Series (up to 3 people), or Mercedes V-Class (up to 7 people)?",bookingFormName:"Thank you for those details. Now I just need some information to complete your booking. What's your full name?",bookingFormEmail:"Thanks, {name}. What email address should we use for your booking confirmation?",bookingFormPhone:"And what's the best phone number to reach you?",bookingFormSpecialRequests:"Almost done! Do you have any special requests or requirements for your journey? (Child seats, wheelchair access, etc.)",bookingFormConfirm:`Thank you for providing all the details! Here's a summary of your booking request:

Pickup: {startLocation}
Destination: {destination}
Date: {date}
Time: {time}
Passengers: {passengers}
Vehicle: {vehicleType}

Your Details:
Name: {name}
Email: {email}
Phone: {phone}
Special Requests: {specialRequests}

Would you like me to submit this booking request now? (yes/no)`,bookingFormSuccess:"Thank you for your booking, {name}! Your request for a {vehicleType} on {date} at {time} has been submitted successfully. Our team will review your booking and contact you at {email} to confirm all the details.",bookingFormError:"I'm sorry, {name}, but there was an error submitting your booking. Please try again later or use the booking form on our website.",bookingFormCancelled:"No problem, {name}. Your booking has not been submitted. Would you like to start over or is there something else I can help you with today?",bookingFormVehicleError:"I'm sorry, I didn't recognize that vehicle type. Please choose from Mercedes S-Class, BMW 7 Series, or Mercedes V-Class.",generalError:"I apologize, but I encountered an error while processing your request. Would you like to make a booking or contact our team directly?",switchLanguage:"العربية"},ar:{chatTitle:"المساعد المميز",clearChat:"مسح المحادثة",typingIndicator:"المساعد المميز يكتب",inputPlaceholder:"اكتب رسالتك...",sendButton:"إرسال",readReceipt:"مقروءة",sentReceipt:"تم الإرسال",bookChauffeur:"حجز سائق",contactUs:"اتصل بنا",ourVehicles:"سياراتنا",ourServices:"خدماتنا",tourPackages:"باقات السياحة",helpful:"مفيد",notHelpful:"غير مفيد",feedbackThanksPositive:"شكراً على ملاحظاتك الإيجابية! يسعدنا أننا استطعنا المساعدة.",feedbackThanksNegative:"شكراً على ملاحظاتك. سنعمل على تحسين ردودنا.",initialGreeting:"مرحباً! كيف يمكنني مساعدتك في خدمات النقل والسائقين اليوم؟",contactFormGreeting:"يسعدني مساعدتك في التواصل مع فريقنا. هل يمكنك إخباري باسمك؟",contactFormEmail:"شكراً، {name}! ما هو البريد الإلكتروني الذي يمكننا استخدامه للتواصل معك؟",contactFormMessage:"رائع! الآن، يرجى إخباري بما ترغب في مناقشته مع فريقنا أو أي أسئلة لديك.",contactFormConfirm:`شكراً لتقديم معلوماتك! إليك ما لدي:

الاسم: {name}
البريد الإلكتروني: {email}
الرسالة: {message}

هل ترغب في إرسال هذه المعلومات إلى فريقنا الآن؟ (نعم/لا)`,contactFormSuccess:"شكراً لك، {name}! تم إرسال رسالتك بنجاح. سيقوم فريقنا بمراجعتها والرد عليك قريباً على {email}.",contactFormError:"آسف، {name}، ولكن حدث خطأ أثناء إرسال معلوماتك. يرجى المحاولة مرة أخرى لاحقاً أو استخدام نموذج الاتصال على موقعنا.",contactFormCancelled:"لا مشكلة، {name}. لم يتم إرسال معلوماتك. هل هناك شيء آخر يمكنني مساعدتك به اليوم؟",bookingFormGreeting:"يسعدني مساعدتك في حجز خدمة السائق. من أين ترغب في أن يتم اصطحابك؟",bookingFormDestination:"رائع! وإلى أين ترغب في الذهاب من {startLocation}؟",bookingFormDate:"ممتاز. ما هو التاريخ الذي ترغب في الخدمة فيه؟ (يرجى استخدام تنسيق YYYY-MM-DD)",bookingFormTime:"وفي أي وقت ترغب في أن يتم اصطحابك في {date}؟ (يرجى استخدام تنسيق HH:MM)",bookingFormPassengers:"كم عدد الركاب الذين سيسافرون؟",bookingFormVehicle:"لدينا عدة سيارات فاخرة متاحة. هل تفضل مرسيدس S-Class (حتى 3 أشخاص)، أو BMW الفئة السابعة (حتى 3 أشخاص)، أو مرسيدس V-Class (حتى 7 أشخاص)؟",bookingFormName:"شكراً على هذه التفاصيل. الآن أحتاج فقط إلى بعض المعلومات لإكمال حجزك. ما هو اسمك الكامل؟",bookingFormEmail:"شكراً، {name}. ما هو البريد الإلكتروني الذي يجب أن نستخدمه لتأكيد حجزك؟",bookingFormPhone:"وما هو أفضل رقم هاتف للوصول إليك؟",bookingFormSpecialRequests:"اقتربنا من النهاية! هل لديك أي طلبات أو متطلبات خاصة لرحلتك؟ (مقاعد أطفال، وصول لذوي الاحتياجات الخاصة، إلخ)",bookingFormConfirm:`شكراً لتقديم جميع التفاصيل! إليك ملخص طلب الحجز الخاص بك:

نقطة الالتقاط: {startLocation}
الوجهة: {destination}
التاريخ: {date}
الوقت: {time}
عدد الركاب: {passengers}
السيارة: {vehicleType}

بياناتك:
الاسم: {name}
البريد الإلكتروني: {email}
الهاتف: {phone}
الطلبات الخاصة: {specialRequests}

هل ترغب في إرسال طلب الحجز هذا الآن؟ (نعم/لا)`,bookingFormSuccess:"شكراً لحجزك، {name}! تم إرسال طلبك لسيارة {vehicleType} في {date} الساعة {time} بنجاح. سيقوم فريقنا بمراجعة حجزك والاتصال بك على {email} لتأكيد جميع التفاصيل.",bookingFormError:"آسف، {name}، ولكن حدث خطأ أثناء إرسال حجزك. يرجى المحاولة مرة أخرى لاحقاً أو استخدام نموذج الحجز على موقعنا.",bookingFormCancelled:"لا مشكلة، {name}. لم يتم إرسال حجزك. هل ترغب في البدء من جديد أم هناك شيء آخر يمكنني مساعدتك به اليوم؟",bookingFormVehicleError:"آسف، لم أتعرف على نوع السيارة. يرجى الاختيار من بين مرسيدس S-Class، أو BMW الفئة السابعة، أو مرسيدس V-Class.",generalError:"أعتذر، ولكن واجهت خطأ أثناء معالجة طلبك. هل ترغب في إجراء حجز أو الاتصال بفريقنا مباشرة؟",switchLanguage:"English"}};const kD=({language:n="en"})=>{const t=`https://wa.me/4917631454340?text=${encodeURIComponent(n==="en"?"Hello, I'm interested in your premium chauffeur services.":"مرحبًا، أنا مهتم بخدمات السائق الخاص المميزة التي تقدمونها.")}`,i=encodeURIComponent(n==="en"?"Inquiry about Premium Chauffeur Services":"استفسار حول خدمات السائق الخاص المميزة"),r=encodeURIComponent(n==="en"?`Hello,

I'm interested in your premium chauffeur services.

Best regards,`:`مرحبًا،

أنا مهتم بخدمات السائق الخاص المميزة التي تقدمونها.

مع أطيب التحيات،`),s=`mailto:info@premium-chauffer.com?subject=${i}&body=${r}`,o="tel:+4917631454340",a="+49 176 3145 4340",l="info@premium-chauffer.com";return m.jsxs("div",{className:"direct-contact-links",children:[m.jsx("div",{className:"contact-header",children:n==="en"?"Contact Options":"خيارات الاتصال"}),m.jsxs("a",{href:o,className:"contact-link phone-link",children:[m.jsx("div",{className:"contact-icon-wrapper",children:m.jsx(vS,{className:"contact-icon"})}),m.jsxs("div",{className:"contact-info",children:[m.jsx("span",{className:"contact-label",children:n==="en"?"Phone":"هاتف"}),m.jsx("span",{className:"contact-value",children:a})]})]}),m.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"contact-link whatsapp-link",children:[m.jsx("div",{className:"contact-icon-wrapper whatsapp-icon",children:m.jsx(mS,{className:"contact-icon"})}),m.jsxs("div",{className:"contact-info",children:[m.jsx("span",{className:"contact-label",children:n==="en"?"WhatsApp":"واتساب"}),m.jsx("span",{className:"contact-value",children:a})]})]}),m.jsxs("a",{href:s,className:"contact-link email-link",children:[m.jsx("div",{className:"contact-icon-wrapper email-icon",children:m.jsx(gS,{className:"contact-icon"})}),m.jsxs("div",{className:"contact-info",children:[m.jsx("span",{className:"contact-label",children:n==="en"?"Email":"بريد إلكتروني"}),m.jsx("span",{className:"contact-value",children:l})]})]})]})},RY=({messages:n,inputValue:e,setInputValue:t,isLoading:i,handleSubmit:r,language:s,t:o,aiConnected:a,showQuickReplies:l,handleFeedback:c,clearChat:d,toggleLanguage:f,onClose:p})=>{const g=D.useRef(null),x=D.useRef(null),w=D.useRef(null);return D.useEffect(()=>{g.current&&g.current.scrollIntoView({behavior:"smooth"})},[n]),D.useEffect(()=>{w.current&&w.current.focus()},[]),m.jsxs("div",{className:"fixed inset-0 z-50 bg-black-100 flex flex-col overflow-hidden",style:{animation:"fadeIn 0.3s ease-out",direction:s==="ar"?"rtl":"ltr"},children:[m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-black-200 to-black-100 border-b border-secondary",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 mr-2 text-secondary ${a?"ai-connected":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})]}),m.jsx("h3",{className:"font-medium text-secondary",children:o.chatTitle})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{onClick:f,className:"p-1 hover:bg-black-200 rounded transition-colors duration-300","aria-label":"Switch language",title:"Switch language",children:m.jsx("span",{className:"text-secondary text-sm font-medium",children:o.switchLanguage})}),m.jsx("button",{onClick:d,className:"p-1 hover:bg-black-200 rounded transition-colors duration-300","aria-label":"Clear chat",title:o.clearChat,children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),m.jsx("button",{onClick:p,className:"p-1 hover:bg-black-200 rounded transition-colors duration-300","aria-label":"Close full-page chat",title:"Close full-page chat",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),m.jsxs("div",{className:"flex-1 p-4 pb-0 overflow-y-auto bg-black-100",ref:x,children:[n.map((A,v)=>m.jsx("div",{className:`mb-4 ${A.role==="user"?s==="ar"?"text-left":"text-right":s==="ar"?"text-right":"text-left"}`,children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:`inline-block p-3 rounded-lg max-w-[80%] ${A.role==="user"?s==="ar"?"bg-tertiary border border-secondary text-white-100 rounded-bl-none":"bg-tertiary border border-secondary text-white-100 rounded-br-none":s==="ar"?"bg-black-200 border border-gold-200 text-white-100 rounded-br-none":"bg-black-200 border border-gold-200 text-white-100 rounded-bl-none"}`,style:{animation:"slideIn 0.3s ease-out",animationDelay:`${v*.1}s`},children:A.content}),A.role==="user"&&m.jsx("div",{className:"text-xs text-gold-200 mt-1 mr-1 text-right",children:v<n.length-1&&n[v+1].role==="assistant"?m.jsxs("span",{className:"flex items-center justify-end",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.readReceipt]}):m.jsxs("span",{className:"flex items-center justify-end",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})}),o.sentReceipt]})}),A.role==="assistant"&&A.showFeedback&&m.jsxs("div",{className:"mt-2 flex justify-start space-x-2",children:[m.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-2 py-1 bg-black-200 border border-gold-200 text-gold-200 rounded-lg hover:bg-black-300 transition-colors duration-300 text-xs","aria-label":"Helpful",title:"This was helpful",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),o.helpful]}),m.jsxs("button",{onClick:()=>c(!1),className:"flex items-center px-2 py-1 bg-black-200 border border-gold-200 text-gold-200 rounded-lg hover:bg-black-300 transition-colors duration-300 text-xs","aria-label":"Not helpful",title:"This was not helpful",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2"})}),o.notHelpful]})]}),A.role==="assistant"&&A.showDirectContact&&m.jsxs("div",{className:"mt-3",children:[m.jsx("div",{className:"text-gold-200 text-sm mb-2",children:s==="en"?"For direct assistance, you can contact us via:":"للمساعدة المباشرة، يمكنك التواصل معنا عبر:"}),m.jsx(kD,{language:s})]})]})},v)),i&&m.jsx("div",{className:"text-left mb-4",children:m.jsx("div",{className:"inline-block p-3 rounded-lg max-w-[80%] bg-black-200 border border-gold-200 text-white-100 rounded-bl-none",style:{animation:"fadeIn 0.3s ease-out"},children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-sm text-gold-200 mr-2",children:o.typingIndicator}),m.jsxs("div",{className:"flex space-x-1",children:[m.jsx("div",{className:"w-2 h-2 bg-secondary rounded-full animate-typing"}),m.jsx("div",{className:"w-2 h-2 bg-secondary rounded-full animate-typing",style:{animationDelay:"0.2s"}}),m.jsx("div",{className:"w-2 h-2 bg-secondary rounded-full animate-typing",style:{animationDelay:"0.4s"}})]})]})})}),m.jsx("div",{ref:g})]}),m.jsxs("div",{className:"pb-20 bg-black-100",children:[m.jsx("form",{onSubmit:r,className:"p-4 border-t border-secondary bg-black-200",children:m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("input",{ref:w,type:"text",value:e,onChange:A=>t(A.target.value),placeholder:o.inputPlaceholder,className:"flex-1 p-2 bg-tertiary border border-gold-200 text-white-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary",style:{animation:"borderPulse 3s infinite"},disabled:i}),m.jsx("button",{type:"submit",className:"p-2 bg-black-100 border border-secondary text-secondary rounded-lg hover:bg-black-200 focus:outline-none focus:ring-2 focus:ring-secondary disabled:opacity-50 transition-colors duration-300",disabled:!e.trim()||i,children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})}),m.jsx("div",{className:"px-4 pb-4 bg-black-200",style:{animation:"fadeIn 0.5s ease-out"},children:m.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[m.jsx("button",{onClick:()=>{t(s==="en"?"I'd like to book a chauffeur service":"أرغب في حجز خدمة سائق"),r({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:o.bookChauffeur}),m.jsx("button",{onClick:()=>{t(s==="en"?"I need contact information":"أحتاج معلومات الاتصال"),r({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:o.contactUs}),m.jsx("button",{onClick:()=>{t(s==="en"?"What vehicles do you offer?":"ما هي السيارات التي تقدمونها؟"),r({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:o.ourVehicles}),m.jsx("button",{onClick:()=>{t(s==="en"?"Tell me about your services":"أخبرني عن خدماتكم"),r({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:o.ourServices}),m.jsx("button",{onClick:()=>{t(s==="en"?"What tourism packages do you offer?":"ما هي باقات السياحة التي تقدمونها؟"),r({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:o.tourPackages}),m.jsx("button",{onClick:()=>{t(s==="en"?"What are your rates?":"ما هي أسعاركم؟"),r({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:s==="en"?"Pricing":"الأسعار"}),m.jsx("button",{onClick:()=>{t(s==="en"?"Do you offer airport transfers?":"هل تقدمون خدمة النقل من وإلى المطار؟"),r({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:s==="en"?"Airport Transfers":"النقل من المطار"}),m.jsx("button",{onClick:()=>{t(s==="en"?"What areas do you serve?":"ما هي المناطق التي تخدمونها؟"),r({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:s==="en"?"Service Areas":"مناطق الخدمة"}),m.jsx("button",{onClick:()=>{t(s==="en"?"How do I make a reservation?":"كيف يمكنني إجراء حجز؟"),r({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:s==="en"?"Reservation Process":"عملية الحجز"}),m.jsx("button",{onClick:()=>{t(s==="en"?"Do you offer VIP services?":"هل تقدمون خدمات كبار الشخصيات؟"),r({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:s==="en"?"VIP Services":"خدمات كبار الشخصيات"}),m.jsx("button",{onClick:()=>{t(s==="en"?"What payment methods do you accept?":"ما هي طرق الدفع التي تقبلونها؟"),r({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:s==="en"?"Payment Methods":"طرق الدفع"})]})})]})]})},Ha=async(n,e=null,t=null)=>{try{const i=[];e&&i.push({role:"system",content:e}),i.push(...n);const r="https://mouhcine.benmotrade.workers.dev/",s=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"qwen/qwen3-32b",messages:i,temperature:.1,max_tokens:200,top_p:.1})});if(!s.ok)throw console.error(`API error: ${s.status} - ${await s.text()}`),t&&t(!1),new Error(`API error: ${s.status}`);const o=await s.json();return t&&t(!0),o.choices[0].message.content}catch(i){return console.error("Error in callOpenRouterAPI:",i),console.log("API call failed, falling back to simulated response"),t&&t(!1),PY(n,e)}},PY=(n,e=null)=>{var i,r,s,o,a,l;const t=n.length>0?n[n.length-1].content.toLowerCase():"";if(e&&e.includes("intent classifier"))return t.includes("book")||t.includes("reservation")||t.includes("schedule")||t.includes("ride")||t.includes("pickup")?"booking":t.includes("contact")||t.includes("email")||t.includes("call")||t.includes("talk to")?"contact":"general";if(e&&e.includes("contact your company"))return"I'd be happy to help you get in touch with our team. Could you please tell me your name?";if(e&&e.includes("booking request"))return"I'd be delighted to help you book our chauffeur service. Where would you like to be picked up?";if(e&&e.includes("thank you message")&&e.includes("contact form"))return`Thank you, ${((i=e.match(/for (.*?) who/))==null?void 0:i[1])||"there"}! Your message has been sent successfully. Our team will review it and get back to you soon.`;if(e&&e.includes("booking confirmation")){const c=((r=e.match(/for (.*?) who/))==null?void 0:r[1])||"there",d=((s=e.match(/Pickup: (.*?)$/m))==null?void 0:s[1])||"your location",f=((o=e.match(/Date: (.*?)$/m))==null?void 0:o[1])||"the requested date";return`Thank you for your booking, ${c}! Your chauffeur service from ${d} on ${f} has been confirmed. Our team will contact you shortly with final details. We look forward to providing you with an exceptional travel experience.`}if(e&&e.includes("conversational response that acknowledges")){(a=e.match(/provided: (.*?):/))!=null&&a[1];const c=((l=e.match(/ask them for their (.*?)\\./))==null?void 0:l[1])||"";if(c==="destination")return"Perfect! Now, where would you like to go from there?";if(c==="time")return"Got it. And what time would you like to be picked up?";if(c==="vehicleType")return"Thanks for that information. We have several luxury vehicles available. Would you prefer a Mercedes S-Class, BMW 7 Series, or Mercedes V-Class?";if(c==="name")return"Great! Now I just need some information to complete your booking. What's your full name?";if(c==="specialRequests")return"Almost done! Do you have any special requests for your journey, such as child seats or wheelchair access?"}return t.includes("price")||t.includes("cost")||t.includes("rate")?"Competitive rates tailored to your needs. S-Class from €80/hour, BMW 7 Series from €75/hour, V-Class from €90/hour. Contact: +49 176 3145 4340":t.includes("airport")||t.includes("transfer")?"Premium airport transfers with real-time flight tracking and 60 minutes waiting time for international flights. Contact: +49 176 3145 4340":t.includes("vehicle")||t.includes("car")||t.includes("mercedes")||t.includes("bmw")?"Our fleet includes **Mercedes S-Class**, **BMW 7 Series**, and **Mercedes V-Class** vehicles—each offering comfort, style, and top-tier safety. Contact: +49 176 3145 4340":t.includes("chauffeur")||t.includes("driver")?"Professional multilingual chauffeurs, formally dressed and trained in discretion and local knowledge. Contact: +49 176 3145 4340":t.includes("tour")||t.includes("sightseeing")||t.includes("tourism")?"Premium guided tours available: City Explorer (€300), Shopping Excursion (€450), Coastal Journey (€600), Cultural Heritage (€500). Contact: +49 176 3145 4340":"Thank you for reaching out to Premium Chauffeur Service. Our fleet includes **Mercedes S-Class**, **BMW 7 Series**, and **Mercedes V-Class** vehicles. 24/7 support via +49 176 3145 4340 or info@premium-chauffer.com."},LY=async n=>{try{return(await fetch("https://formspree.io/f/myzerjwz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,_subject:"New Contact Request from Chat Bot"})})).ok}catch(e){return console.error("Error submitting contact form:",e),!1}},NY=async n=>{try{return(await fetch("https://formspree.io/f/myzerjwz",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,_subject:"New Booking Request from Chat Bot"})})).ok}catch(e){return console.error("Error submitting booking form:",e),!1}},UT={en:[{title:"About Us",content:"We are a premium transportation and chauffeur service offering luxury vehicles including Mercedes S-Class, BMW 7 Series, and Mercedes V-Class. Our services include chauffeur service, airport transfers, VIP services, and customized tourism packages. With over 10 years of experience, we pride ourselves on exceptional service, professional chauffeurs, and immaculate vehicles. Our mission is to provide the ultimate luxury transportation experience with attention to every detail."},{title:"Our Vehicles",content:"We offer a fleet of luxury vehicles including Mercedes S-Class, BMW 7 Series, and Mercedes V-Class. Each vehicle is meticulously maintained, regularly serviced, and thoroughly cleaned before every journey. All vehicles feature premium leather interiors, climate control, complimentary Wi-Fi, bottled water, and charging ports. Our vehicles are equipped with the latest safety features and are fully insured for your peace of mind."},{title:"Mercedes S-Class",content:"The Mercedes S-Class is our flagship luxury sedan, representing the pinnacle of comfort and sophistication. Features include: handcrafted Nappa leather seats with heating, cooling, and massage functions; 4-zone climate control; ambient lighting with 64 colors; panoramic sunroof; MBUX infotainment system with AI voice assistant; Burmester 4D surround sound; and advanced driver assistance systems. The S-Class accommodates up to 3 passengers with 2 medium-sized suitcases. Ideal for business executives, airport transfers, and special occasions like weddings and anniversaries."},{title:"BMW 7 Series",content:"The BMW 7 Series combines luxury with dynamic performance. Features include: premium Dakota leather seats with memory and massage functions; BMW iDrive system with gesture control; Harman Kardon surround sound; panoramic glass roof with LED light graphics; ambient air package with fragrance control; and executive lounge seating with extended legroom. The 7 Series offers a more sporty driving experience while maintaining exceptional comfort. It accommodates up to 3 passengers with 2 large suitcases. Perfect for executives who appreciate both luxury and performance."},{title:"Mercedes V-Class",content:"The Mercedes V-Class is our premium luxury van, providing exceptional space and comfort. Features include: configurable seating for up to 7 passengers; premium leather seats with individual climate control; panoramic roof; privacy glass; sliding doors with electric closing; ambient lighting; and advanced sound insulation for a quiet ride. The V-Class offers generous luggage space even at full passenger capacity (up to 4 large suitcases). Ideal for group travel, family outings, corporate teams, and airport transfers with multiple passengers or extensive luggage."},{title:"Vehicle Comparison",content:"When choosing between our vehicles: The Mercedes S-Class offers the highest level of luxury and comfort for up to 3 passengers, perfect for VIP transportation and special occasions. The BMW 7 Series provides a balance of luxury and sporty performance for up to 3 passengers, ideal for executives who appreciate responsive driving. The Mercedes V-Class accommodates up to 7 passengers with extensive luggage space, making it perfect for groups, families, or clients with substantial luggage requirements. All vehicles feature professional chauffeurs, premium amenities, and immaculate presentation."},{title:"Our Services",content:"We offer a comprehensive range of premium transportation services designed to meet diverse needs. Our core services include chauffeur service for business and leisure travel, airport transfers with flight tracking, VIP and executive transportation, tourism and sightseeing tours, event transportation for weddings and special occasions, corporate travel solutions, and multi-day hire options. Each service is customizable to your specific requirements, ensuring a personalized experience that exceeds expectations."},{title:"Chauffeur Service",content:"Our professional chauffeurs are the cornerstone of our service excellence. They undergo rigorous background checks, professional training, and regular assessments. All chauffeurs are multilingual (speaking at least English, German, and Arabic), knowledgeable about local areas and attractions, and trained in etiquette and discretion. They arrive 15 minutes early for every pickup, assist with luggage, and can adapt routes based on traffic conditions. Our chauffeurs are dressed in formal attire and maintain the highest standards of professionalism at all times."},{title:"Airport Transfer",content:"Our airport transfer service provides seamless transportation to and from all major airports. We monitor flight arrivals in real-time to adjust for early arrivals or delays, ensuring your chauffeur is waiting when you land. For arrivals, your chauffeur will meet you inside the terminal with a personalized sign and assist with luggage. We include 60 minutes of complimentary waiting time for international flights and 30 minutes for domestic flights. Our service includes terminal-to-door service, ensuring a stress-free start or end to your journey."},{title:"Airport Transfers",content:"Our premium airport transfer service ensures a smooth transition between the airport and your destination. We serve all major international and regional airports with punctual, reliable service. Your chauffeur tracks your flight in real-time and adjusts for any delays or early arrivals. For arrivals, your chauffeur will greet you inside the terminal with a personalized sign, assist with luggage, and escort you to your waiting vehicle. We provide 60 minutes of complimentary waiting time for international flights and 30 minutes for domestic flights. All transfers include bottled water, Wi-Fi, and reading materials to enhance your comfort."},{title:"VIP Service",content:"Our VIP service offers the highest level of luxury, privacy, and personalization. We can arrange for security personnel, coordinate with event organizers, and provide customized amenities based on your preferences. VIP service includes priority booking, dedicated account management, premium vehicle options with enhanced features, and chauffeurs specially trained in security protocols and discretion. We can accommodate last-minute changes and special requests, ensuring a seamless experience for high-profile clients, executives, and those requiring additional privacy or security measures."},{title:"VIP Services",content:"Our exclusive VIP services cater to clients who require the utmost in luxury, discretion, and personalization. This premium offering includes priority scheduling, dedicated account management, and chauffeurs with specialized training in security and privacy protocols. We can arrange additional security personnel if required, coordinate with event staff or personal assistants, and customize the vehicle with specific amenities based on client preferences. Our VIP service ensures complete confidentiality and can accommodate last-minute changes or special requests with minimal notice. Perfect for celebrities, executives, diplomats, and high-net-worth individuals."},{title:"Tourism Services",content:"Our tourism services combine luxury transportation with expert local knowledge to create memorable experiences. We offer guided tours to popular destinations, shopping excursions to premium outlets and boutiques, cultural tours of historical sites and museums, and customized itineraries based on your interests. Our chauffeurs double as knowledgeable guides, providing insights about local history, culture, and hidden gems. All tourism services include a luxury vehicle with amenities, flexible scheduling to adjust the pace as needed, and recommendations for dining and activities."},{title:"Tourism Packages",content:"We offer several premium tourism packages designed to showcase the best experiences in the region. Our packages include: City Explorer (4-hour city tour of major landmarks and districts), Shopping Excursion (6-hour luxury shopping experience at premium destinations), Coastal Journey (full-day tour along scenic coastal routes with stops at beaches and towns), and Cultural Heritage (exploration of historical sites and museums). All packages include a luxury vehicle with professional chauffeur, bottled water, Wi-Fi, flexible itinerary adjustments, and insider recommendations for dining and activities."},{title:"Tour Packages",content:"Our carefully curated tour packages offer exceptional experiences combining luxury transportation with expert guidance. Choose from our City Explorer package (4-hour tour of urban highlights), Shopping Excursion (6-hour premium shopping experience), Coastal Journey (full-day scenic coastal tour), or Cultural Heritage tour (immersion in historical and cultural sites). Each package includes a luxury vehicle with professional chauffeur who serves as both driver and knowledgeable guide, complimentary refreshments, Wi-Fi, and the flexibility to customize the experience based on your interests. Prices range from €300 to €600 depending on duration and itinerary."},{title:"City Explorer Package",content:"Our City Explorer package is a 4-hour guided tour of the city's main attractions designed to provide a comprehensive overview for first-time visitors or those with limited time. Your chauffeur will take you to iconic landmarks, scenic viewpoints, popular districts, and hidden gems that most tourists miss. The tour includes brief stops for photos and short walks at key locations, with commentary on historical significance and local culture. This package accommodates up to 3 passengers in an S-Class or 7 passengers in a V-Class, and includes bottled water, Wi-Fi, and flexible routing based on your interests. Price starts at €300."},{title:"Shopping Excursion Package",content:"The Shopping Excursion is a 6-hour luxury shopping experience tailored to serious shoppers and fashion enthusiasts. Your chauffeur will take you to premium shopping districts, luxury boutiques, designer outlets, and exclusive shopping centers based on your preferences. The chauffeur will assist with carrying bags, store recommendations, and can arrange for purchases to be delivered to your hotel if needed. The package includes refreshment breaks, lunch recommendations, and the flexibility to spend more time at preferred locations. Your purchases remain secure in the vehicle while you continue shopping. Price starts at €450."},{title:"Coastal Journey Package",content:"The Coastal Journey is a full-day tour (8-10 hours) along the scenic coastal routes, offering breathtaking views and memorable experiences. Visit beautiful beaches, charming seaside towns, coastal viewpoints, and local attractions. The itinerary includes scheduled stops for photos, leisure time at beaches or towns, and a lunch break at a recommended seafood restaurant (meal cost not included). Your chauffeur will provide commentary on points of interest and local history throughout the journey. This package is ideal for nature lovers and photography enthusiasts seeking to experience the coastal beauty at a relaxed pace. Price starts at €600."},{title:"Cultural Heritage Package",content:"The Cultural Heritage tour is an immersive full-day experience (8 hours) focusing on historical sites, museums, architectural landmarks, and cultural attractions. Your knowledgeable chauffeur will provide detailed commentary on the historical significance and cultural context of each location. The tour can be customized based on specific interests such as medieval history, religious sites, art, or architecture. The package includes admission recommendations, flexible timing at each site, and suggestions for authentic local dining experiences. This tour is perfect for history enthusiasts and those seeking deeper insights into the region's cultural heritage. Price starts at €500."},{title:"Contact Information",content:"You can reach our customer service team through multiple channels: Phone: +49 176 3145 4340 (available 24/7), Email: info@premium-chauffer.com, WhatsApp: +49 176 3145 4340, or through the contact form on our website. Our office is open Monday to Friday from 9:00 AM to 6:00 PM, but our booking and support services are available 24/7 for urgent requests. For immediate assistance, we recommend calling our direct line. All inquiries receive a response within 2 hours during business hours or by the next business morning for after-hours contacts."},{title:"Contact Us",content:"Our dedicated customer service team is available to assist you 24/7 through multiple channels. For immediate assistance, call us at +49 176 3145 4340. You can also reach us via email at info@premium-chauffer.com, WhatsApp at +49 176 3145 4340, or through the contact form on our website. Our multilingual team speaks English, German, and Arabic to ensure clear communication. For booking inquiries, service questions, or special requests, we aim to respond within 2 hours during business hours. Our physical office is located in central Munich, though most client interactions are handled remotely for your convenience."},{title:"Booking Process",content:"Booking our services is simple and convenient. You can book through our website using the online reservation form, call our booking line at +49 176 3145 4340, email your request to bookings@premium-chauffer.com, or use WhatsApp. To complete a booking, we require the date and time of service, pickup location, destination (if applicable), number of passengers, amount of luggage, preferred vehicle type, and any special requirements. For airport pickups, we also need flight details. Once we receive your request, we'll confirm availability and provide a quote within 2 hours. After your approval, you'll receive a booking confirmation with all details and chauffeur contact information."},{title:"Reservation Process",content:"Our reservation process is designed to be straightforward and efficient. You can make a reservation through our website, by phone (+49 176 3145 4340), email (bookings@premium-chauffer.com), or WhatsApp. We require essential information including service date and time, pickup location, destination, passenger count, luggage details, and any special requirements. For airport pickups, please provide flight information for tracking. Once we receive your request, our team will confirm availability and send a detailed quote within 2 hours. Upon your approval, we'll process the reservation and send a confirmation email with all relevant details. For last-minute bookings, we recommend calling directly for the fastest response."},{title:"Pricing",content:"Our pricing structure is transparent and based on several factors: vehicle type (S-Class, BMW 7 Series, or V-Class), service duration, distance traveled, time of day (standard or premium hours), and any special requirements. We offer hourly rates starting from €80 per hour for S-Class, €75 for BMW 7 Series, and €90 for V-Class. Half-day rates (4 hours) start from €300, and full-day rates (8 hours) from €550. Airport transfers have fixed rates based on destination, starting from €120. For tourism packages, prices range from €300 to €600 depending on duration and itinerary. All prices include professional chauffeur, fuel, insurance, and standard amenities. Additional services like extra waiting time or specific amenities may incur additional charges."},{title:"Service Areas",content:"We provide our premium chauffeur services throughout major metropolitan areas and their surrounding regions. Our primary service areas include Munich, Berlin, Frankfurt, Hamburg, and Cologne/Düsseldorf in Germany. We also operate in neighboring countries including Austria (Vienna, Salzburg), Switzerland (Zurich, Geneva), France (Strasbourg, Paris), and the Benelux region. For long-distance journeys between cities or countries, we offer competitive rates and experienced chauffeurs familiar with international travel requirements. If you're unsure whether we service your specific location, please contact our customer service team who can confirm availability and provide options for your journey."},{title:"Payment Methods",content:"We accept a variety of payment methods to accommodate our international clientele. These include major credit cards (Visa, MasterCard, American Express), bank transfers (domestic and international), PayPal, and cash payments (for certain services). For corporate clients, we offer invoice payment with net-30 terms upon credit approval. Prepayment is required for first-time clients and certain premium services. For tourism packages and multi-day bookings, we typically require a 50% deposit at the time of booking with the balance due before service begins. All transactions are secure, and we provide detailed receipts for all payments."}],ar:[{title:"من نحن",content:"نحن خدمة نقل وسائقين متميزة نقدم سيارات فاخرة تشمل مرسيدس S-Class، وBMW الفئة السابعة، ومرسيدس V-Class. تشمل خدماتنا خدمة السائق، ونقل المطار، وخدمات كبار الشخصيات."},{title:"خدمات السيارات",content:"نقدم مجموعة من السيارات الفاخرة بما في ذلك مرسيدس S-Class، وBMW الفئة السابعة، ومرسيدس V-Class. تأتي كل سيارة مع سائق محترف وتتم صيانتها وفقًا لأعلى المعايير."},{title:"مرسيدس S-Class",content:"مرسيدس S-Class هي سيارتنا الرائدة الفاخرة، تمثل قمة الراحة والتطور. تتميز بمقاعد جلد نابا مصنوعة يدويًا مع وظائف التدفئة والتبريد والتدليك، تحكم في المناخ رباعي المناطق، إضاءة محيطة بـ 64 لونًا، فتحة سقف بانورامية، ونظام صوت محيطي متطور. تستوعب حتى 3 ركاب مع حقيبتين متوسطتي الحجم. مثالية للتنفيذيين، ونقل المطار، والمناسبات الخاصة."},{title:"BMW الفئة السابعة",content:"تجمع BMW الفئة السابعة بين الفخامة والأداء الديناميكي. تتميز بمقاعد جلدية فاخرة مع وظائف الذاكرة والتدليك، نظام BMW iDrive مع التحكم بالإيماءات، نظام صوت محيطي، سقف زجاجي بانورامي، وتقنيات متطورة للراحة. توفر تجربة قيادة رياضية مع الحفاظ على الراحة الاستثنائية. تستوعب حتى 3 ركاب مع حقيبتين كبيرتين. مثالية للتنفيذيين الذين يقدرون الفخامة والأداء."},{title:"مرسيدس V-Class",content:"مرسيدس V-Class هي سيارتنا الفان الفاخرة، توفر مساحة واسعة وراحة استثنائية. تتميز بمقاعد قابلة للتعديل تستوعب حتى 7 ركاب، مقاعد جلدية فاخرة مع تحكم فردي بالمناخ، سقف بانورامي، زجاج للخصوصية، أبواب منزلقة مع إغلاق كهربائي، وعزل صوتي متقدم. توفر مساحة واسعة للأمتعة حتى مع وجود كامل الركاب (تصل إلى 4 حقائب كبيرة). مثالية للسفر الجماعي، والرحلات العائلية، وفرق الشركات، ونقل المطار."},{title:"مقارنة السيارات",content:"عند الاختيار بين سياراتنا: توفر مرسيدس S-Class أعلى مستوى من الفخامة والراحة لما يصل إلى 3 ركاب، مثالية لنقل كبار الشخصيات والمناسبات الخاصة. توفر BMW الفئة السابعة توازنًا بين الفخامة والأداء الرياضي لما يصل إلى 3 ركاب، مثالية للتنفيذيين الذين يقدرون القيادة المستجيبة. تستوعب مرسيدس V-Class ما يصل إلى 7 ركاب مع مساحة واسعة للأمتعة، مما يجعلها مثالية للمجموعات والعائلات. جميع السيارات تأتي مع سائقين محترفين ومزايا فاخرة."},{title:"خدمة السائق",content:"سائقونا المحترفون مدربون على تقديم خدمة استثنائية. هم دقيقون، ومتحفظون، وعلى دراية بالمنطقة المحلية. جميع السائقين يتحدثون لغات متعددة ويرتدون الزي الرسمي."},{title:"خدمة نقل المطار",content:"نقدم خدمات نقل موثوقة من وإلى جميع المطارات الرئيسية. يتتبع سائقونا وصول الرحلات في الوقت الفعلي لضمان انتظارهم لك عند الهبوط. نشمل 60 دقيقة من وقت الانتظار للرحلات الدولية."},{title:"خدمة كبار الشخصيات",content:"تقدم خدمة كبار الشخصيات لدينا أعلى مستوى من الفخامة والتحفظ. يمكننا ترتيب أفراد الأمن، والتنسيق مع منظمي الفعاليات، وتقديم خدمات مخصصة لتلبية متطلباتك المحددة."},{title:"خدمات السياحة",content:"نقدم جولات مصحوبة بمرشدين إلى الوجهات الشهيرة، وجولات التسوق، والمدن الترفيهية، وزيارات المزارع. سائقونا على دراية بالمعالم السياحية المحلية ويمكنهم تقديم توصيات بناءً على اهتماماتك."},{title:"باقات السياحة",content:"نقدم العديد من باقات السياحة المميزة بما في ذلك مستكشف المدينة (جولة مدينة لمدة 4 ساعات)، ورحلة التسوق (تجربة تسوق فاخرة لمدة 6 ساعات)، ورحلة ساحلية (جولة ساحلية ليوم كامل)، والتراث الثقافي (جولة المواقع التاريخية). تشمل جميع الباقات سيارة فاخرة مع سائق محترف، ومياه معبأة، وخدمة واي فاي."},{title:"باقة مستكشف المدينة",content:"باقة مستكشف المدينة هي جولة مرشدة لمدة 4 ساعات لأهم معالم المدينة. سيأخذك السائق إلى المعالم الشهيرة، ونقاط المشاهدة الخلابة، والأحياء الشعبية. مثالية للزوار لأول مرة الذين يرغبون في الحصول على نظرة عامة على المدينة. تبدأ الأسعار من 300 يورو."},{title:"باقة رحلة التسوق",content:"رحلة التسوق هي تجربة تسوق فاخرة لمدة 6 ساعات. سيأخذك السائق إلى مناطق التسوق الراقية، والمتاجر الفاخرة، ومنافذ المصممين. سيساعد السائق في حمل الحقائب ويمكنه التوصية بأفضل المتاجر بناءً على تفضيلاتك. تبدأ الأسعار من 450 يورو."},{title:"باقة الرحلة الساحلية",content:"الرحلة الساحلية هي جولة ليوم كامل على طول الطرق الساحلية الخلابة. قم بزيارة الشواطئ الجميلة، والبلدات الساحلية الساحرة، واستمتع بإطلالات خلابة على المحيط. تتضمن وقتًا لتناول الغداء في مطعم مأكولات بحرية موصى به. تبدأ الأسعار من 600 يورو."},{title:"باقة التراث الثقافي",content:"تركز جولة التراث الثقافي على المواقع التاريخية، والمتاحف، والمعالم الثقافية. تعرف على التاريخ الغني للمنطقة وأهميتها الثقافية مع تعليق من سائقك المطلع. تبدأ الأسعار من 500 يورو ليوم كامل."},{title:"معلومات الاتصال",content:"يمكنك الوصول إلينا عبر الهاتف، أو البريد الإلكتروني، أو من خلال نموذج الاتصال على موقعنا. نحن متاحون على مدار الساعة طوال أيام الأسبوع للمساعدة في الحجوزات والاستفسارات."},{title:"عملية الحجز",content:"لحجز خدماتنا، يمكنك استخدام نموذج الاتصال على موقعنا، أو الاتصال بنا مباشرة، أو إرسال بريد إلكتروني. نحتاج إلى التاريخ، والوقت، وموقع الالتقاط، والوجهة، وعدد الركاب، وأي متطلبات خاصة."},{title:"الأسعار",content:"تعتمد أسعارنا على نوع السيارة، ومدة الرحلة، والمسافة. نقدم أسعارًا بالساعة، ونصف يوم، ويوم كامل. يرجى الاتصال بنا للحصول على عرض سعر مخصص."}]},BY=(n,e="en",t=3)=>{const i=n.toLowerCase();return(UT[e]||UT.en).map(o=>{const a=o.title.toLowerCase(),l=o.content.toLowerCase();let c=0;return i.split(" ").forEach(d=>{d.length>2&&(a.includes(d)&&(c+=2),l.includes(d)&&(c+=1))}),{...o,relevance:c}}).filter(o=>o.relevance>0).sort((o,a)=>a.relevance-o.relevance).slice(0,t)},DY=()=>{const[n,e]=D.useState("en"),t=Pd[n],[i,r]=D.useState(!1),[s,o]=D.useState(!1),[a,l]=D.useState([{role:"assistant",content:Pd[n].initialGreeting,read:!0}]),[c,d]=D.useState(""),[f,p]=D.useState(!1),[g,x]=D.useState(null),[w,A]=D.useState({}),[v,S]=D.useState(0),[_,b]=D.useState(!0),[C,T]=D.useState([{role:"assistant",content:Pd[n].initialGreeting}]),[N,B]=D.useState(!0),P=D.useRef(null),L=D.useRef(null),z=D.useRef(null),ee=()=>{const j=n==="en"?"ar":"en";e(j),a.length===1&&(l([{role:"assistant",content:Pd[j].initialGreeting,read:!0}]),T([{role:"assistant",content:Pd[j].initialGreeting}]))},K=()=>{r(!i)},Q=()=>{o(!s)};D.useEffect(()=>{P.current&&(P.current.scrollIntoView({behavior:"smooth"}),i&&setTimeout(()=>{l(q=>q.map(Y=>Y.role==="assistant"&&!Y.read?{...Y,read:!0}:Y))},1e3))},[a,i]),D.useEffect(()=>{i&&L.current&&L.current.focus()},[i]),D.useEffect(()=>{c.trim().length>0?B(!1):a.length===1&&B(!0)},[c,a.length]);const Z=async(j,q)=>{const Y=j.toLowerCase();if(Y.includes("contact")||Y.includes("talk to someone")||Y.includes("speak to a representative")||Y.includes("get in touch")||Y.includes("send a message")||Y.includes("leave my details")||Y.includes("email you")||Y.includes("phone number")||Y.includes("call you")||Y.includes("need a contact")||Y.includes("contact information")||Y.includes("contact number")||Y.includes("contact info")||Y.includes("real person")||Y.includes("human assistant")||Y.includes("speak to human")||Y.includes("speak with human")||Y.includes("talk to human")||Y.includes("talk with human")||Y.includes("contact your team")||Y.includes("reach out")||Y.includes("اتصال")||Y.includes("تواصل")||Y.includes("التحدث")||Y.includes("ممثل")||Y.includes("رسالة")||Y.includes("بريد إلكتروني")||Y.includes("معلوماتي")||Y.includes("رقم الهاتف")||Y.includes("شخص حقيقي")||Y.includes("مساعد بشري"))return"contact";if(Y.includes("book")||Y.includes("reservation")||Y.includes("schedule a ride")||Y.includes("arrange transport")||Y.includes("hire a car")||Y.includes("need a chauffeur")||Y.includes("make an appointment")||Y.includes("reserve")||Y.includes("pickup")||Y.includes("حجز")||Y.includes("حجوزات")||Y.includes("موعد")||Y.includes("سيارة")||Y.includes("سائق")||Y.includes("نقل")||Y.includes("رحلة")||Y.includes("توصيل"))return"booking";try{const ue=`You are an intent classifier for a transportation and chauffeur service chatbot.
The user may be writing in English or Arabic.

Analyze the user's message and determine if they want to:
1. Make a booking/reservation (return "booking")
2. Contact the company (return "contact")
3. Just ask a general question (return "general")

Return ONLY ONE of these three values: "booking", "contact", or "general". No other text.`,ye=q.slice(-5).map(Ee=>({role:Ee.role,content:Ee.content}));ye.push({role:"user",content:j});const Ce=(await Ha(ye,ue,b)).trim().toLowerCase();return Ce.includes("booking")?"booking":Ce.includes("contact")?"contact":"general"}catch(ue){return console.error("Error detecting intent with AI:",ue),"general"}},se=async j=>{const q=j.toLowerCase();if(q.includes("contact information")||q.includes("contact info")||q.includes("need contact")||q.includes("want contact")||q.includes("real person")||q.includes("human assistant")||q.includes("speak to human")||q.includes("talk to human")||q.includes("contact number")||q.includes("phone number")){const we={role:"assistant",content:n==="en"?"Contact us: +49 176 3145 4340 or info@premium-chauffer.com (available 24/7)":"معلومات الاتصال: +49 176 3145 4340 أو info@premium-chauffer.com (متاح على مدار الساعة)",read:!1,showDirectContact:!0};l(Ce=>[...Ce,we]),T(Ce=>[...Ce,we]);return}const Y=[{field:"name",prompt:t.contactFormGreeting},{field:"email",prompt:t.contactFormEmail},{field:"message",prompt:t.contactFormMessage},{field:"confirm",prompt:t.contactFormConfirm}];if(v===0){const ye=`You are Alexander Weber, Executive Manager of Premium Chauffeur Service.

CRITICAL INSTRUCTIONS - FOLLOW EXACTLY:
- EXTREMELY CONCISE response - maximum 2 sentences only
- Respond in ${n==="en"?"English":"Arabic"} only
- Include ONLY this contact information: "+49 176 3145 4340 or info@premium-chauffer.com"
- Ask for their name in a direct way
- NO long explanations or paragraphs

EXACT RESPONSE FORMAT:
"Thank you for contacting Premium Chauffeur Service. Please share your name so our team can assist you. Contact: +49 176 3145 4340"`;try{const Ce={role:"assistant",content:await Ha([{role:"user",content:j}],ye,b),showDirectContact:!0};l(Ee=>[...Ee,Ce]),T(Ee=>[...Ee,Ce]),A({}),S(1)}catch(we){console.error("Error generating contact form greeting:",we),l(Ce=>[...Ce,{role:"assistant",content:Y[0].prompt,showDirectContact:!0}]),A({}),S(1)}return}const ue={...w};if(v<=Y.length){const ye=v-1,we=Y[ye];if(we.field==="confirm"){if(j.toLowerCase().includes("yes")||j.toLowerCase().includes("sure")||j.toLowerCase().includes("ok")||j.toLowerCase().includes("send")){p(!0);const Be=await LY(ue);if(p(!1),Be)try{const Ae=`You are Alexander Weber, Executive Manager of Premium Chauffeur Service.

CRITICAL INSTRUCTIONS - FOLLOW EXACTLY:
- EXTREMELY CONCISE response - maximum 2 sentences only
- Respond in ${n==="en"?"English":"Arabic"} only
- Thank ${ue.name} by name
- Confirm message received
- NO long explanations

EXACT RESPONSE FORMAT:
"Thank you, ${ue.name}! Your message has been received and our team will contact you shortly. ✓"`,U=await Ha([],Ae,b);l(de=>[...de,{role:"assistant",content:U}]),T(de=>[...de,{role:"assistant",content:U}])}catch{const U={role:"assistant",content:t.contactFormSuccess.replace("{name}",ue.name).replace("{email}",ue.email),read:!1};l(de=>[...de,U]),T(de=>[...de,U])}else l(Ae=>[...Ae,{role:"assistant",content:t.contactFormError.replace("{name}",ue.name),read:!1}]);x(null),S(0),A({})}else l(Be=>[...Be,{role:"assistant",content:t.contactFormCancelled.replace("{name}",ue.name),read:!1}]),x(null),S(0),A({});return}ue[we.field]=j,A(ue);const Ce=Y[v];if(Ce){let Ee=Ce.prompt;Object.keys(ue).forEach(Ae=>{Ee=Ee.replace(`{${Ae}}`,ue[Ae])});const Be={role:"assistant",content:Ee};l(Ae=>[...Ae,Be]),T(Ae=>[...Ae,Be]),S(v+1)}}},ie=async j=>{const q=j.toLowerCase();if(q.includes("contact information")||q.includes("contact info")||q.includes("need contact")||q.includes("want contact")||q.includes("real person")||q.includes("human assistant")||q.includes("speak to human")||q.includes("talk to human")||q.includes("contact number")||q.includes("phone number")){const we={role:"assistant",content:n==="en"?"Contact us: +49 176 3145 4340 or info@premium-chauffer.com (available 24/7)":"معلومات الاتصال: +49 176 3145 4340 أو info@premium-chauffer.com (متاح على مدار الساعة)",read:!1,showDirectContact:!0};l(Ce=>[...Ce,we]),T(Ce=>[...Ce,we]);return}const Y=[{field:"startLocation",prompt:t.bookingFormGreeting},{field:"destination",prompt:t.bookingFormDestination},{field:"date",prompt:t.bookingFormDate},{field:"time",prompt:t.bookingFormTime},{field:"passengers",prompt:t.bookingFormPassengers},{field:"vehicleType",prompt:t.bookingFormVehicle},{field:"name",prompt:t.bookingFormName},{field:"email",prompt:t.bookingFormEmail},{field:"phone",prompt:t.bookingFormPhone},{field:"specialRequests",prompt:t.bookingFormSpecialRequests},{field:"confirm",prompt:t.bookingFormConfirm}];if(v===0){const ye=`You are Alexander Weber, Executive Manager of Premium Chauffeur Service.

CRITICAL INSTRUCTIONS - FOLLOW EXACTLY:
- EXTREMELY CONCISE response - maximum 2 sentences only
- Respond in ${n==="en"?"English":"Arabic"} only
- Ask ONLY for pickup location
- NO long explanations or paragraphs

EXACT RESPONSE FORMAT:
"Thank you for choosing Premium Chauffeur Service. Please provide your pickup location to begin your booking."`;try{const Ce={role:"assistant",content:await Ha([{role:"user",content:j}],ye,b)};l(Ee=>[...Ee,Ce]),T(Ee=>[...Ee,Ce]),A({}),S(1)}catch(we){console.error("Error generating booking form greeting:",we),l(Ce=>[...Ce,{role:"assistant",content:Y[0].prompt}]),A({}),S(1)}return}const ue={...w};if(v<=Y.length){const ye=v-1,we=Y[ye];if(we.field==="confirm"){if(j.toLowerCase().includes("yes")||j.toLowerCase().includes("sure")||j.toLowerCase().includes("ok")||j.toLowerCase().includes("confirm")||j.toLowerCase().includes("book")){p(!0);const Be=await NY(ue);if(p(!1),Be)try{const Ae=`You are Alexander Weber, Executive Manager of Premium Chauffeur Service.

CRITICAL INSTRUCTIONS - FOLLOW EXACTLY:
- EXTREMELY CONCISE response - maximum 2 sentences only
- Respond in ${n==="en"?"English":"Arabic"} only
- Thank ${ue.name} by name
- Mention ONLY date and vehicle type
- NO long explanations

EXACT RESPONSE FORMAT:
"Booking confirmed, ${ue.name}! Your ${ue.vehicleType} will arrive on ${ue.date} at ${ue.time}. Our team will contact you shortly with final details. ✓"`,U=await Ha([],Ae,b);l(de=>[...de,{role:"assistant",content:U}]),T(de=>[...de,{role:"assistant",content:U}])}catch{const U={role:"assistant",content:t.bookingFormSuccess.replace("{name}",ue.name).replace("{vehicleType}",ue.vehicleType).replace("{date}",ue.date).replace("{time}",ue.time).replace("{email}",ue.email),read:!1};l(de=>[...de,U]),T(de=>[...de,U])}else l(Ae=>[...Ae,{role:"assistant",content:t.bookingFormError.replace("{name}",ue.name),read:!1}]);x(null),S(0),A({})}else l(Be=>[...Be,{role:"assistant",content:t.bookingFormCancelled.replace("{name}",ue.name),read:!1}]),x(null),S(0),A({});return}if(we.field==="vehicleType"){const Ee=j.toLowerCase();let Be="";if(Ee.includes("s-class")||Ee.includes("s class")||Ee.includes("mercedes s"))Be="Mercedes S-Class";else if(Ee.includes("bmw")||Ee.includes("7 series"))Be="BMW 7 Series";else if(Ee.includes("v-class")||Ee.includes("v class")||Ee.includes("mercedes v")||Ee.includes("van"))Be="Mercedes V-Class";else{l(Ae=>[...Ae,{role:"assistant",content:t.bookingFormVehicleError,read:!1}]);return}ue[we.field]=Be}else ue[we.field]=j;A(ue);const Ce=Y[v];if(Ce){let Ee=Ce.prompt;Object.keys(ue).forEach(Be=>{Ee=Ee.replace(`{${Be}}`,ue[Be])});try{if(["destination","time","vehicleType","name","specialRequests"].includes(Ce.field)){const Be=`You are a helpful assistant for a premium transportation service.
The user is in the middle of making a booking and has just provided: ${we.field}: ${ue[we.field]}.
Now you need to ask them for their ${Ce.field}.

LANGUAGE:
- The user is communicating in ${n==="en"?"English":"Arabic"}
- You MUST respond in ${n==="en"?"English":"Arabic"} only

The standard prompt would be: "${Ee}"

Rewrite this as a more natural, conversational response that acknowledges what they just told you and smoothly transitions to asking for the next piece of information.
Keep it concise (1-2 sentences).`,U={role:"assistant",content:await Ha([],Be,b)};l(de=>[...de,U]),T(de=>[...de,U])}else{const Be={role:"assistant",content:Ee};l(Ae=>[...Ae,Be]),T(Ae=>[...Ae,Be])}}catch(Be){console.error("Error generating conversational transition:",Be);const Ae={role:"assistant",content:Ee};l(U=>[...U,Ae]),T(U=>[...U,Ae])}S(v+1)}}},O=j=>{const q=j?t.feedbackThanksPositive:t.feedbackThanksNegative;l(ue=>[...ue,{role:"assistant",content:q,read:!1}]);const Y=a.length-1;l(ue=>ue.map((ye,we)=>we===Y?{...ye,showFeedback:!1}:ye))},J=async j=>{const q=j,Y=q.toLowerCase(),ue={role:"user",content:q};if(l(ye=>[...ye,ue]),T(ye=>[...ye,ue]),p(!0),Y.includes("contact information")||Y.includes("contact info")||Y.includes("need contact")||Y.includes("want contact")||Y.includes("real person")||Y.includes("human assistant")||Y.includes("speak to human")||Y.includes("talk to human")||Y.includes("contact number")||Y.includes("phone number")){const we={role:"assistant",content:n==="en"?"Contact us: +49 176 3145 4340 or info@premium-chauffer.com (available 24/7)":"معلومات الاتصال: +49 176 3145 4340 أو info@premium-chauffer.com (متاح على مدار الساعة)",read:!1,showDirectContact:!0};l(Ce=>[...Ce,we]),T(Ce=>[...Ce,we]),p(!1);return}try{if(g==="contact"){await se(q),p(!1);return}else if(g==="booking"){await ie(q),p(!1);return}const ye=await Z(q,C);if(ye==="contact"){x("contact"),await se(q),p(!1);return}else if(ye==="booking"){x("booking"),await ie(q),p(!1);return}const we=BY(q,n),Ce=q.toLowerCase().includes("vehicle")||q.toLowerCase().includes("car")||q.toLowerCase().includes("mercedes")||q.toLowerCase().includes("bmw"),Ee=q.toLowerCase().includes("contact")||q.toLowerCase().includes("phone")||q.toLowerCase().includes("email")||q.toLowerCase().includes("whatsapp")||q.toLowerCase().includes("reach")||q.toLowerCase().includes("call");let Be=`You are Alexander Weber, Executive Manager of Premium Chauffeur Service.

CRITICAL INSTRUCTIONS - FOLLOW EXACTLY:
- EXTREMELY CONCISE responses - maximum 2-3 short sentences only
- Respond in ${n==="en"?"English":"Arabic"} only
- NO long explanations or paragraphs
- DIRECT answers only
- Use ** for emphasis (e.g., **Mercedes S-Class**)
- ONE emoji maximum per response
- DO NOT include contact information unless specifically asked for it
${Ee?"- For contact requests, mention that contact options will appear below your message":""}

${Ce?"VEHICLE QUESTION DETECTED - USE THIS EXACT RESPONSE FORMAT:":"EXACT RESPONSE FORMAT:"}
${Ce?'"Our fleet includes **Mercedes S-Class**, **BMW 7 Series**, and **Mercedes V-Class** vehicles—each offering comfort, style, and top-tier safety."':Ee?'"You can reach our team via phone, email, or WhatsApp. Contact options will appear below this message."':'"[Concise answer to question in 1-2 sentences]"'}

REMEMBER: EXTREME BREVITY IS MANDATORY. Your entire response should be 2-3 lines maximum.

SERVICES INFORMATION:
Here is detailed information about our services that you can use to answer questions:`;we.length>0?we.forEach(Me=>{Be+=`

${Me.title}:
${Me.content}`}):n==="en"?Be+=`

We offer premium chauffeur services including:
- Luxury vehicles (Mercedes S-Class, BMW 7 Series, Mercedes V-Class)
- Airport transfers
- VIP services
- Tourism and sightseeing
- Corporate transportation`:Be+=`

نقدم خدمات سائق متميزة تشمل:
- سيارات فاخرة (مرسيدس S-Class، BMW الفئة السابعة، مرسيدس V-Class)
- خدمات نقل المطار
- خدمات كبار الشخصيات
- السياحة ومشاهدة المعالم
- خدمات النقل للشركات`;const Ae=C.slice(-5).map(Me=>({role:Me.role,content:Me.content})),U=await Ha(Ae,Be,b),de=Ee||U.toLowerCase().includes("contact us directly")||U.toLowerCase().includes("contact our team")||U.toLowerCase().includes("reach out to us")||U.toLowerCase().includes("get in touch with us")||U.toLowerCase().includes("call us")||U.toLowerCase().includes("send us an email")||U.toLowerCase().includes("whatsapp")||U.toLowerCase().includes("contact options")||U.toLowerCase().includes("التواصل معنا مباشرة")||U.toLowerCase().includes("الاتصال بفريقنا")||U.toLowerCase().includes("التواصل معنا")||U.toLowerCase().includes("اتصل بنا")||U.toLowerCase().includes("أرسل لنا بريدًا إلكترونيًا")||U.toLowerCase().includes("واتساب"),pe={role:"assistant",content:U,read:!1,showFeedback:!0,showDirectContact:de};l(Me=>[...Me,pe]),T(Me=>[...Me,pe])}catch(ye){console.error("Error processing message:",ye);const we={role:"assistant",content:t.generalError,read:!1,showDirectContact:!0};l(Ce=>[...Ce,we]),T(Ce=>[...Ce,we])}finally{p(!1)}},V=j=>{j.preventDefault(),c.trim()&&!f&&(J(c.trim()),d(""))},ne=()=>{const j={role:"assistant",content:t.initialGreeting,read:!0};l([j]),T([j]),x(null),S(0),A({}),B(!0)};return m.jsxs(m.Fragment,{children:[s&&m.jsx(RY,{messages:a,inputValue:c,setInputValue:d,isLoading:f,handleSubmit:V,language:n,t,aiConnected:_,showQuickReplies:N,handleFeedback:O,clearChat:ne,toggleLanguage:ee,onClose:Q}),i&&!s&&m.jsxs("div",{className:"fixed bottom-24 right-6 z-40 w-96 sm:w-[450px] md:w-[500px] h-[600px] bg-black-100 rounded-lg shadow-xl flex flex-col overflow-hidden border border-secondary",style:{boxShadow:"0 0 20px rgba(0, 0, 0, 0.5), 0 0 10px rgba(212, 175, 55, 0.3)",animation:"fadeIn 0.3s ease-out",direction:n==="ar"?"rtl":"ltr"},children:[m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-black-200 to-black-100 border-b border-secondary",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 mr-2 text-secondary ${_?"ai-connected":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})]}),m.jsxs("div",{className:"flex items-center cursor-pointer group",onClick:Q,title:"Open full-page chat",children:[m.jsx("h3",{className:"font-medium text-secondary group-hover:text-gold-200 transition-colors duration-300",children:t.chatTitle}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1 text-secondary group-hover:text-gold-200 transition-colors duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})})]})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{onClick:ee,className:"p-1 hover:bg-black-200 rounded transition-colors duration-300","aria-label":"Switch language",title:"Switch language",children:m.jsx("span",{className:"text-secondary text-sm font-medium",children:t.switchLanguage})}),m.jsx("button",{onClick:ne,className:"p-1 hover:bg-black-200 rounded transition-colors duration-300","aria-label":"Clear chat",title:t.clearChat,children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),m.jsxs("div",{className:"flex-1 p-4 overflow-y-auto bg-black-100",ref:z,children:[a.map((j,q)=>m.jsx("div",{className:`mb-4 ${j.role==="user"?n==="ar"?"text-left":"text-right":n==="ar"?"text-right":"text-left"}`,children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:`inline-block p-3 rounded-lg max-w-[80%] ${j.role==="user"?n==="ar"?"bg-tertiary border border-secondary text-white-100 rounded-bl-none":"bg-tertiary border border-secondary text-white-100 rounded-br-none":n==="ar"?"bg-black-200 border border-gold-200 text-white-100 rounded-br-none":"bg-black-200 border border-gold-200 text-white-100 rounded-bl-none"}`,style:{animation:"slideIn 0.3s ease-out",animationDelay:`${q*.1}s`},children:j.content}),j.role==="user"&&m.jsx("div",{className:"text-xs text-gold-200 mt-1 mr-1 text-right",children:q<a.length-1&&a[q+1].role==="assistant"?m.jsxs("span",{className:"flex items-center justify-end",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),t.readReceipt]}):m.jsxs("span",{className:"flex items-center justify-end",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})}),t.sentReceipt]})}),j.role==="assistant"&&j.showFeedback&&m.jsxs("div",{className:"mt-2 flex justify-start space-x-2",children:[m.jsxs("button",{onClick:()=>O(!0),className:"flex items-center px-2 py-1 bg-black-200 border border-gold-200 text-gold-200 rounded-lg hover:bg-black-300 transition-colors duration-300 text-xs","aria-label":"Helpful",title:"This was helpful",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),t.helpful]}),m.jsxs("button",{onClick:()=>O(!1),className:"flex items-center px-2 py-1 bg-black-200 border border-gold-200 text-gold-200 rounded-lg hover:bg-black-300 transition-colors duration-300 text-xs","aria-label":"Not helpful",title:"This was not helpful",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2"})}),t.notHelpful]})]}),j.role==="assistant"&&j.showDirectContact&&m.jsx("div",{className:"mt-3",children:m.jsx(kD,{language:n})})]})},q)),f&&m.jsx("div",{className:"text-left mb-4",children:m.jsx("div",{className:"inline-block p-3 rounded-lg max-w-[80%] bg-black-200 border border-gold-200 text-white-100 rounded-bl-none",style:{animation:"fadeIn 0.3s ease-out"},children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-sm text-gold-200 mr-2",children:t.typingIndicator}),m.jsxs("div",{className:"flex space-x-1",children:[m.jsx("div",{className:"w-2 h-2 bg-secondary rounded-full animate-typing"}),m.jsx("div",{className:"w-2 h-2 bg-secondary rounded-full animate-typing",style:{animationDelay:"0.2s"}}),m.jsx("div",{className:"w-2 h-2 bg-secondary rounded-full animate-typing",style:{animationDelay:"0.4s"}})]})]})})}),N&&a.length===1&&m.jsxs("div",{className:"mt-4 mb-2 flex flex-wrap gap-2 justify-center",style:{animation:"fadeIn 0.5s ease-out"},children:[m.jsx("button",{onClick:()=>{d(n==="en"?"I'd like to book a chauffeur service":"أرغب في حجز خدمة سائق"),V({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:t.bookChauffeur}),m.jsx("button",{onClick:()=>{d(n==="en"?"I need contact information":"أحتاج معلومات الاتصال"),V({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:t.contactUs}),m.jsx("button",{onClick:()=>{d(n==="en"?"What vehicles do you offer?":"ما هي السيارات التي تقدمونها؟"),V({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:t.ourVehicles}),m.jsx("button",{onClick:()=>{d(n==="en"?"Tell me about your services":"أخبرني عن خدماتكم"),V({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:t.ourServices}),m.jsx("button",{onClick:()=>{d(n==="en"?"What tourism packages do you offer?":"ما هي باقات السياحة التي تقدمونها؟"),V({preventDefault:()=>{}})},className:"px-3 py-2 bg-black-200 border border-secondary text-secondary rounded-lg hover:bg-black-300 transition-colors duration-300 text-sm",children:t.tourPackages})]}),m.jsx("div",{ref:P})]}),m.jsx("form",{onSubmit:V,className:"p-4 border-t border-secondary bg-black-200",children:m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("input",{ref:L,type:"text",value:c,onChange:j=>d(j.target.value),placeholder:t.inputPlaceholder,className:"flex-1 p-2 bg-tertiary border border-gold-200 text-white-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary",style:{animation:"borderPulse 3s infinite"},disabled:f}),m.jsx("button",{type:"submit",className:"p-2 bg-black-100 border border-secondary text-secondary rounded-lg hover:bg-black-200 focus:outline-none focus:ring-2 focus:ring-secondary disabled:opacity-50 transition-colors duration-300",disabled:!c.trim()||f,children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}),!s&&m.jsx("button",{onClick:K,className:`fixed bottom-6 right-6 z-50 flex items-center justify-center w-16 h-16
                    rounded-full bg-black-100 border-2 border-secondary text-secondary shadow-lg cursor-pointer
                    hover:bg-black-200 transition-all duration-300`,style:{boxShadow:"0 0 15px rgba(212, 175, 55, 0.5)",animation:"textGlow 3s infinite alternate"},"aria-label":i?"Close chat":"Open chat",children:i?m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})]})};const IY=()=>{const[n,e]=D.useState(!1),t=()=>{e(!n)},r=`https://wa.me/4917631454340?text=${encodeURIComponent("Hello, I'm interested in your premium chauffeur services.")}`,s=encodeURIComponent("Inquiry about Premium Chauffeur Services"),o=encodeURIComponent(`Hello,

I'm interested in your premium chauffeur services.

Best regards,`),a=`mailto:info@premium-chauffer.com?subject=${s}&body=${o}`,l="tel:+4917631454340",c="https://instagram.com/premium_chauffeur";return m.jsxs("div",{className:"social-bubble-container",children:[m.jsxs("div",{className:`main-bubble ${n?"open":""}`,onClick:t,title:n?"Close":"Contact Us",children:[m.jsx("span",{className:"bubble-icon",children:n?m.jsx(SY,{}):m.jsx(yY,{})}),m.jsx("span",{className:"bubble-tooltip",children:n?"Close":"Contact Us"})]}),m.jsxs("div",{className:`social-icons ${n?"open":""}`,children:[m.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"social-icon whatsapp",title:"WhatsApp",children:m.jsx(mS,{})}),m.jsx("a",{href:a,className:"social-icon email",title:"Email",children:m.jsx(gS,{})}),m.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"social-icon instagram",title:"Instagram",children:m.jsx(DD,{})}),m.jsx("a",{href:l,className:"social-icon phone",title:"Call Us",children:m.jsx(vS,{})})]})]})},kY=()=>{const e=Ru().pathname==="/";return D.useEffect(()=>{const t=()=>{document.fullscreenElement&&(document.documentElement.style.backgroundColor="#000000",document.body.style.backgroundColor="#000000")};return document.addEventListener("fullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t)}},[]),m.jsxs("div",{className:"relative z-0 bg-black black-gold-bg min-h-screen",children:[m.jsx("div",{className:"gold-pulse"}),m.jsx("div",{className:"gold-pulse"}),m.jsx("div",{className:"gold-pulse"}),m.jsx(RD,{}),m.jsx(YK,{}),m.jsx("div",{className:`relative z-10 ${e?"pt-0":"pt-[100px]"}`,children:m.jsx(ZF,{})}),m.jsx(TY,{}),m.jsx(DY,{}),m.jsx(IY,{})]})},FY=()=>m.jsxs("div",{className:"black-gold-bg",children:[m.jsx("div",{className:"relative z-0",children:m.jsx(cK,{})}),m.jsx("div",{id:"carpool",className:"relative z-10 bg-black section-transition",children:m.jsx(ZK,{})}),m.jsx("div",{id:"services",className:"relative z-10 bg-black section-transition",children:m.jsx(sY,{})}),m.jsx("div",{id:"tourism",className:"relative z-10 bg-black section-transition",children:m.jsx(aY,{})}),m.jsx("div",{id:"contact",className:"relative z-10 bg-black section-transition",children:m.jsx(ID,{})})]}),OY=()=>{ni.preload("/Mercedes_S_class/scene.gltf");const{scene:n}=ni("/Mercedes_S_class/scene.gltf");return pn.useEffect(()=>{n.scale.set(.5,.5,.5)},[n]),pn.useEffect(()=>{n.traverse(e=>{e.isMesh&&(e.castShadow=!1,e.receiveShadow=!1,e.material&&(e.material.precision="highp",e.material.fog=!1,e.material.dithering=!1,e.material.flatShading=!1,e.material.map&&(e.material.map.anisotropy=16,e.material.map.generateMipmaps=!0,e.material.map.minFilter=Vt,e.material.map.magFilter=Vt)))})},[n]),m.jsxs("mesh",{children:[m.jsx("ambientLight",{intensity:.4})," ",m.jsx("directionalLight",{position:[-5,8,5],intensity:.9,castShadow:!1,"shadow-bias":-1e-4}),m.jsx("spotLight",{position:[10,10,10],angle:.2,penumbra:.2,intensity:.7,castShadow:!1}),m.jsx("pointLight",{position:[-10,0,-10],intensity:.25,color:"#ffffff",distance:50}),m.jsx("primitive",{object:n,scale:.5,position:[0,-.5,0],rotation:[0,Math.PI/3.5,0],userData:{keepSize:!0}})]})},UY=()=>{const[n,e]=D.useState(!1),[t,i]=D.useState(0),[r,s]=D.useState(!1),o=["/src/assets/S_Class/s1.jpg","/src/assets/S_Class/s2.jpg","/src/assets/S_Class/s3.jpg","/src/assets/S_Class/s4.jpg"],a="https://images.unsplash.com/photo-1563720223185-11003d516935?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80",l=()=>{s(!r)};return D.useEffect(()=>{const c=window.matchMedia("(max-width: 500px)");e(c.matches);const d=f=>{e(f.matches)};return c.addEventListener("change",d),()=>{c.removeEventListener("change",d)}},[]),m.jsx("div",{className:"carpool-container black-gold-bg",children:m.jsxs("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:[m.jsxs(He.div,{variants:Xt("","",.1,1),className:"carpool-frame",children:[m.jsxs(He.div,{variants:wi(),className:"carpool-header",children:[m.jsx("p",{className:"carpool-subtitle",children:"Premium Vehicle"}),m.jsx("h2",{className:"carpool-title",children:"Mercedes S-Class"}),m.jsx("p",{className:"carpool-description",children:"The pinnacle of luxury sedans, offering unparalleled comfort and sophisticated design."})]}),m.jsx("div",{className:"model-container",children:m.jsxs(T0,{frameloop:"demand",dpr:window.devicePixelRatio>2?2:window.devicePixelRatio,camera:{position:[3.5,.5,3.5],fov:18,near:.1,far:1e3},gl:{preserveDrawingBuffer:!0,antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp",depth:!0,stencil:!1},performance:{min:.5},children:[m.jsxs(D.Suspense,{fallback:m.jsx(Xw,{}),children:[m.jsx(Ww,{enableZoom:!1,enablePan:!1,maxPolarAngle:Math.PI/1.6,minPolarAngle:Math.PI/2.4,autoRotate:!0,autoRotateSpeed:1.3,rotateSpeed:.7,enableDamping:!0,dampingFactor:.1}),m.jsx(OY,{})]}),m.jsx(R0,{all:!0})]})})]}),m.jsxs(He.div,{variants:Xt("","",.2,1),className:"car-info-section",children:[m.jsx("h3",{className:"section-title",children:"Gallery"}),m.jsxs("div",{className:"modern-gallery-container",children:[m.jsx("div",{className:"modern-gallery-main",onClick:l,children:m.jsx(He.img,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},src:o[t],alt:"Mercedes S-Class Featured",onError:c=>{c.target.onerror=null,c.target.src=a}},t)}),m.jsx("div",{className:"modern-gallery-thumbnails",children:o.map((c,d)=>m.jsx("div",{className:`modern-gallery-thumb ${t===d?"active":""}`,onClick:()=>i(d),children:m.jsx("img",{src:c,alt:`Mercedes S-Class ${d+1}`,onError:f=>{f.target.onerror=null,f.target.src=a}})},d))}),r&&m.jsx(He.div,{className:"fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:m.jsxs("div",{className:"relative w-full max-w-6xl",children:[m.jsx("button",{className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full w-10 h-10 flex items-center justify-center border border-[#D4AF37] hover:bg-opacity-70 z-10",onClick:l,children:"✕"}),m.jsx("img",{src:o[t],alt:"Mercedes S-Class Fullscreen",className:"max-h-[80vh] w-auto mx-auto object-cover p-2",onError:c=>{c.target.onerror=null,c.target.src=a}}),m.jsx("div",{className:"flex justify-center mt-4 gap-2",children:o.map((c,d)=>m.jsx("div",{className:`w-32 h-24 cursor-pointer rounded-md overflow-hidden border-2 ${t===d?"border-[#D4AF37]":"border-gray-600"} flex items-center justify-center p-1`,onClick:f=>{f.stopPropagation(),i(d)},children:m.jsx("img",{src:c,alt:`Mercedes S-Class Thumbnail ${d+1}`,className:"w-full h-full object-cover",onError:f=>{f.target.onerror=null,f.target.src=a}})},`fullscreen-thumb-${d}`))})]})})]})]}),m.jsx("div",{className:"cta-container",children:m.jsxs("div",{className:"car-info-section",children:[m.jsx("h3",{className:"section-title",children:"Premium Services & Luxury Experience"}),m.jsxs("div",{className:"specs-grid mb-6",children:[m.jsx("div",{className:"specs-category",children:m.jsxs("ul",{className:"specs-list",children:[m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Professional chauffeur service"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Complimentary Wi-Fi onboard"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Premium refreshments"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Daily newspapers and magazines"]})]})}),m.jsx("div",{className:"specs-category",children:m.jsxs("ul",{className:"specs-list",children:[m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Advanced driver assistance systems for maximum safety"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Premium Burmester® surround sound system"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Ambient lighting with 64 colors"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Spacious cabin with executive rear seating"]})]})})]}),m.jsx("p",{className:"section-content",children:"Book your premium Mercedes S-Class chauffeur service today and enjoy the ultimate in comfort and style."}),m.jsx("div",{className:"flex justify-center mt-6",children:m.jsx(qt,{to:"/contact",className:"cta-button",children:"Book Now"})})]})})]})})},jY=()=>{ni.preload("/Bmw_7/scene.gltf");const{scene:n}=ni("/Bmw_7/scene.gltf");return pn.useEffect(()=>{n.scale.set(.5,.5,.5)},[n]),pn.useEffect(()=>{n.traverse(e=>{e.isMesh&&(e.castShadow=!1,e.receiveShadow=!1,e.material&&(e.material.precision="highp",e.material.fog=!1,e.material.dithering=!1,e.material.flatShading=!1,e.material.map&&(e.material.map.anisotropy=16,e.material.map.generateMipmaps=!0,e.material.map.minFilter=Vt,e.material.map.magFilter=Vt)))})},[n]),m.jsxs("mesh",{children:[m.jsx("ambientLight",{intensity:.4})," ",m.jsx("directionalLight",{position:[-5,10,5],intensity:.9,castShadow:!1,"shadow-bias":-1e-4}),m.jsx("spotLight",{position:[15,15,5],angle:.2,penumbra:.2,intensity:.7,castShadow:!1}),m.jsx("pointLight",{position:[-10,0,-5],intensity:.25,color:"#ffffff",distance:50}),m.jsx("primitive",{object:n,scale:.5,position:[0,-.5,0],rotation:[0,Math.PI/4,0],userData:{keepSize:!0}})]})},zY=()=>{const[n,e]=D.useState(!1),[t,i]=D.useState(0),[r,s]=D.useState(!1),o=["/src/assets/BMW7/BMW1.jpg","/src/assets/BMW7/BMW2.jpg","/src/assets/BMW7/BMW3.jpg","/src/assets/BMW7/BMW4.jpg"],a="https://images.unsplash.com/photo-1523983388277-336a66bf9bcd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80",l=()=>{s(!r)};return D.useEffect(()=>{const c=window.matchMedia("(max-width: 500px)");e(c.matches);const d=f=>{e(f.matches)};return c.addEventListener("change",d),()=>{c.removeEventListener("change",d)}},[]),m.jsx("div",{className:"carpool-container black-gold-bg",children:m.jsxs("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:[m.jsxs(He.div,{variants:Xt("","",.1,1),className:"carpool-frame",children:[m.jsxs(He.div,{variants:wi(),className:"carpool-header",children:[m.jsx("p",{className:"carpool-subtitle",children:"Premium Vehicle"}),m.jsx("h2",{className:"carpool-title",children:"BMW 7 Series"}),m.jsx("p",{className:"carpool-description",children:"The perfect fusion of luxury and driving dynamics with exceptional comfort."})]}),m.jsx("div",{className:"model-container",children:m.jsxs(T0,{frameloop:"demand",dpr:window.devicePixelRatio>2?2:window.devicePixelRatio,camera:{position:[3.5,.5,3.5],fov:18,near:.1,far:1e3},gl:{preserveDrawingBuffer:!0,antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp",depth:!0,stencil:!1},performance:{min:.5},children:[m.jsxs(D.Suspense,{fallback:m.jsx(Xw,{}),children:[m.jsx(Ww,{enableZoom:!1,enablePan:!1,maxPolarAngle:Math.PI/1.6,minPolarAngle:Math.PI/2.4,autoRotate:!0,autoRotateSpeed:1.3,rotateSpeed:.7,enableDamping:!0,dampingFactor:.1}),m.jsx(jY,{})]}),m.jsx(R0,{all:!0})]})})]}),m.jsxs(He.div,{variants:Xt("","",.2,1),className:"car-info-section",children:[m.jsx("h3",{className:"section-title",children:"Gallery"}),m.jsxs("div",{className:"modern-gallery-container",children:[m.jsx("div",{className:"modern-gallery-main",onClick:l,children:m.jsx(He.img,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},src:o[t],alt:"BMW 7 Series Featured",onError:c=>{c.target.onerror=null,c.target.src=a}},t)}),m.jsx("div",{className:"modern-gallery-thumbnails",children:o.map((c,d)=>m.jsx("div",{className:`modern-gallery-thumb ${t===d?"active":""}`,onClick:()=>i(d),children:m.jsx("img",{src:c,alt:`BMW 7 Series ${d+1}`,onError:f=>{f.target.onerror=null,f.target.src=a}})},d))}),r&&m.jsx(He.div,{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:m.jsxs("div",{className:"relative w-full max-w-6xl",children:[m.jsx("button",{className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full w-10 h-10 flex items-center justify-center border border-[#D4AF37] hover:bg-opacity-70 z-10",onClick:l,children:"✕"}),m.jsx("img",{src:o[t],alt:"BMW 7 Series Fullscreen",className:"max-h-[80vh] w-auto mx-auto object-cover p-2",onError:c=>{c.target.onerror=null,c.target.src=a}}),m.jsx("div",{className:"flex justify-center mt-4 gap-2",children:o.map((c,d)=>m.jsx("div",{className:`w-32 h-24 cursor-pointer rounded-md overflow-hidden border-2 ${t===d?"border-[#D4AF37]":"border-gray-600"} flex items-center justify-center p-1`,onClick:f=>{f.stopPropagation(),i(d)},children:m.jsx("img",{src:c,alt:`BMW 7 Series Thumbnail ${d+1}`,className:"w-full h-full object-cover",onError:f=>{f.target.onerror=null,f.target.src=a}})},`fullscreen-thumb-${d}`))})]})})]})]}),m.jsx("div",{className:"cta-container",children:m.jsxs("div",{className:"car-info-section",children:[m.jsx("h3",{className:"section-title",children:"Premium Services & Driving Luxury"}),m.jsxs("div",{className:"specs-grid mb-6",children:[m.jsx("div",{className:"specs-category",children:m.jsxs("ul",{className:"specs-list",children:[m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Professional chauffeur service"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Complimentary Wi-Fi onboard"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Premium refreshments"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Daily newspapers and magazines"]})]})}),m.jsx("div",{className:"specs-category",children:m.jsxs("ul",{className:"specs-list",children:[m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," BMW iDrive system with gesture control"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Bowers & Wilkins Diamond Surround Sound System"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Panoramic Sky Lounge LED roof"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Rear-seat entertainment system with touch command tablet"]})]})})]}),m.jsx("p",{className:"section-content",children:"Book your premium BMW 7 Series chauffeur service today and enjoy the perfect blend of performance and luxury."}),m.jsx("div",{className:"flex justify-center mt-6",children:m.jsx(qt,{to:"/contact",className:"cta-button",children:"Book Now"})})]})})]})})},HY=()=>{try{ni.preload("/Mercedes_ V_Cclass/scene.gltf");const{scene:n}=ni("/Mercedes_ V_Cclass/scene.gltf");return pn.useEffect(()=>{n.scale.set(.5,.5,.5)},[n]),pn.useEffect(()=>{n.traverse(e=>{e.isMesh&&(e.castShadow=!1,e.receiveShadow=!1,e.material&&(e.material.precision="highp",e.material.fog=!1,e.material.dithering=!1,e.material.flatShading=!1,e.material.map&&(e.material.map.anisotropy=16,e.material.map.generateMipmaps=!0,e.material.map.minFilter=Vt,e.material.map.magFilter=Vt)))})},[n]),m.jsxs("mesh",{children:[m.jsx("ambientLight",{intensity:.4})," ",m.jsx("directionalLight",{position:[-5,5,5],intensity:.9,castShadow:!1,"shadow-bias":-1e-4}),m.jsx("spotLight",{position:[10,15,10],angle:.2,penumbra:.2,intensity:.7,castShadow:!1}),m.jsx("pointLight",{position:[-10,0,-10],intensity:.25,color:"#ffffff",distance:50}),m.jsx("primitive",{object:n,scale:.5,position:[0,-.5,0],rotation:[0,Math.PI/4,0],userData:{keepSize:!0}})]})}catch(n){return console.error("Error loading V-Class model:",n),m.jsxs("mesh",{children:[m.jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),m.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),m.jsx("pointLight",{intensity:1}),m.jsxs("group",{position:[0,-1.2,0],rotation:[0,Math.PI/4,0],children:[m.jsxs("mesh",{position:[0,0,0],children:[m.jsx("boxGeometry",{args:[3,1.4,1.8]}),m.jsx("meshStandardMaterial",{color:"#444444",metalness:.8,roughness:.2})]}),m.jsxs("mesh",{position:[1.5,-.2,0],children:[m.jsx("boxGeometry",{args:[.6,1.1,1.8]}),m.jsx("meshStandardMaterial",{color:"#444444",metalness:.8,roughness:.2})]}),m.jsxs("mesh",{position:[0,.5,0],scale:[.98,.5,.98],children:[m.jsx("boxGeometry",{args:[3,.8,1.8]}),m.jsx("meshStandardMaterial",{color:"#aaddff",metalness:.9,roughness:.1})]}),m.jsxs("mesh",{position:[1.2,-.6,1],rotation:[Math.PI/2,0,0],children:[m.jsx("cylinderGeometry",{args:[.4,.4,.25,32]}),m.jsx("meshStandardMaterial",{color:"#111111"})]}),m.jsxs("mesh",{position:[1.2,-.6,-1],rotation:[Math.PI/2,0,0],children:[m.jsx("cylinderGeometry",{args:[.4,.4,.25,32]}),m.jsx("meshStandardMaterial",{color:"#111111"})]}),m.jsxs("mesh",{position:[-1.2,-.6,1],rotation:[Math.PI/2,0,0],children:[m.jsx("cylinderGeometry",{args:[.4,.4,.25,32]}),m.jsx("meshStandardMaterial",{color:"#111111"})]}),m.jsxs("mesh",{position:[-1.2,-.6,-1],rotation:[Math.PI/2,0,0],children:[m.jsx("cylinderGeometry",{args:[.4,.4,.25,32]}),m.jsx("meshStandardMaterial",{color:"#111111"})]})]})]})}},GY=()=>{const[n,e]=D.useState(!1),[t,i]=D.useState(0),[r,s]=D.useState(!1),o=["/src/assets/V_Class/V1.jpg","/src/assets/V_Class/V2.jpg","/src/assets/V_Class/V3.jpg","/src/assets/V_Class/V4.jpg"],a="https://images.unsplash.com/photo-1551446591-142875a901a1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80",l=()=>{s(!r)};return D.useEffect(()=>{const c=window.matchMedia("(max-width: 500px)");e(c.matches);const d=f=>{e(f.matches)};return c.addEventListener("change",d),()=>{c.removeEventListener("change",d)}},[]),m.jsx("div",{className:"carpool-container black-gold-bg",children:m.jsxs("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:[m.jsxs(He.div,{variants:Xt("","",.1,1),className:"carpool-frame",children:[m.jsxs(He.div,{variants:wi(),className:"carpool-header",children:[m.jsx("p",{className:"carpool-subtitle",children:"Premium Vehicle"}),m.jsx("h2",{className:"carpool-title",children:"Mercedes V-Class"}),m.jsx("p",{className:"carpool-description",children:"Spacious luxury MPV perfect for group travel with exceptional comfort."})]}),m.jsx("div",{className:"model-container",children:m.jsxs(T0,{frameloop:"demand",dpr:window.devicePixelRatio>2?2:window.devicePixelRatio,camera:{position:[3.5,.5,3.5],fov:18,near:.1,far:1e3},gl:{preserveDrawingBuffer:!0,antialias:!0,alpha:!0,powerPreference:"high-performance",precision:"highp",depth:!0,stencil:!1},performance:{min:.5},children:[m.jsxs(D.Suspense,{fallback:m.jsx(Xw,{}),children:[m.jsx(Ww,{enableZoom:!1,enablePan:!1,maxPolarAngle:Math.PI/1.6,minPolarAngle:Math.PI/2.4,autoRotate:!0,autoRotateSpeed:1.3,rotateSpeed:.7,enableDamping:!0,dampingFactor:.1}),m.jsx(HY,{})]}),m.jsx(R0,{all:!0})]})})]}),m.jsxs(He.div,{variants:Xt("","",.2,1),className:"car-info-section",children:[m.jsx("h3",{className:"section-title",children:"Gallery"}),m.jsxs("div",{className:"modern-gallery-container",children:[m.jsx("div",{className:"modern-gallery-main",onClick:l,children:m.jsx(He.img,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},src:o[t],alt:"Mercedes V-Class Featured",onError:c=>{c.target.onerror=null,c.target.src=a}},t)}),m.jsx("div",{className:"modern-gallery-thumbnails",children:o.map((c,d)=>m.jsx("div",{className:`modern-gallery-thumb ${t===d?"active":""}`,onClick:()=>i(d),children:m.jsx("img",{src:c,alt:`Mercedes V-Class ${d+1}`,onError:f=>{f.target.onerror=null,f.target.src=a}})},d))}),r&&m.jsx(He.div,{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:m.jsxs("div",{className:"relative w-full max-w-6xl",children:[m.jsx("button",{className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full w-10 h-10 flex items-center justify-center border border-[#D4AF37] hover:bg-opacity-70 z-10",onClick:l,children:"✕"}),m.jsx("img",{src:o[t],alt:"Mercedes V-Class Fullscreen",className:"max-h-[80vh] w-auto mx-auto object-cover p-2",onError:c=>{c.target.onerror=null,c.target.src=a}}),m.jsx("div",{className:"flex justify-center mt-4 gap-2",children:o.map((c,d)=>m.jsx("div",{className:`w-32 h-24 cursor-pointer rounded-md overflow-hidden border-2 ${t===d?"border-[#D4AF37]":"border-gray-600"} flex items-center justify-center p-1`,onClick:f=>{f.stopPropagation(),i(d)},children:m.jsx("img",{src:c,alt:`Mercedes V-Class Thumbnail ${d+1}`,className:"w-full h-full object-cover",onError:f=>{f.target.onerror=null,f.target.src=a}})},`fullscreen-thumb-${d}`))})]})})]})]}),m.jsx("div",{className:"cta-container",children:m.jsxs("div",{className:"car-info-section",children:[m.jsx("h3",{className:"section-title",children:"Premium Services & Group Travel"}),m.jsxs("div",{className:"specs-grid mb-6",children:[m.jsx("div",{className:"specs-category",children:m.jsxs("ul",{className:"specs-list",children:[m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Professional chauffeur service"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Complimentary Wi-Fi onboard"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Premium refreshments"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Daily newspapers and magazines"]})]})}),m.jsx("div",{className:"specs-category",children:m.jsxs("ul",{className:"specs-list",children:[m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Premium leather upholstery with ambient lighting"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Burmester® surround sound system"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Panoramic sliding sunroof"]}),m.jsxs("li",{className:"specs-item",children:[m.jsx("span",{className:"specs-item-icon",children:"•"})," Electric sliding doors for easy access"]})]})})]}),m.jsx("p",{className:"section-content",children:"Book your premium Mercedes V-Class chauffeur service today and enjoy spacious luxury for your group or family."}),m.jsx("div",{className:"flex justify-center mt-6",children:m.jsx(qt,{to:"/contact",className:"cta-button",children:"Book Now"})})]})})]})})},VY=()=>{const{t:n}=ln(),{dir:e}=vn();return m.jsxs("div",{className:"relative w-full h-auto mx-auto",children:[m.jsxs("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:[m.jsxs(He.div,{variants:wi(),children:[m.jsx("p",{className:`${Ct.sectionSubText} text-center text-[#D4AF37]`,children:n("service-pages.common.our-services")}),m.jsx("h2",{className:`${Ct.sectionHeadText} text-center`,children:n("service-pages.chauffeur-service.title")})]}),m.jsx(He.p,{variants:Xt("","",.1,1),className:"mt-4 text-white text-[17px] max-w-3xl leading-[30px] text-center mx-auto",style:{direction:e},children:n("service-pages.chauffeur-service.description")}),m.jsxs("div",{className:"mt-10 bg-black rounded-2xl p-8 border border-[#D4AF37]",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] text-center",style:{direction:e},children:n("service-pages.common.service-features")}),m.jsxs("ul",{className:"mt-5 list-disc ml-5 space-y-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:[m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"})," ",e==="rtl"?"سائقون محترفون بزي رسمي مع تدريب مكثف":"Professional, uniformed chauffeurs with extensive training"]}),m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"})," ",e==="rtl"?"خدمة دقيقة المواعيد مع مراقبة الرحلات في الوقت الفعلي للاستقبال من المطار":"Punctual service with real-time flight monitoring for airport pickups"]}),m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"})," ",e==="rtl"?"وسائل راحة مجانية تشمل المياه المعبأة وخدمة الواي فاي والصحف":"Complimentary amenities including bottled water, Wi-Fi, and newspapers"]}),m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"})," ",e==="rtl"?"خيارات حجز مرنة للخدمة بالساعة أو اليومية أو الأسبوعية":"Flexible booking options for hourly, daily, or weekly service"]}),m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"})," ",e==="rtl"?"دعم العملاء وتوفر الخدمة على مدار الساعة طوال أيام الأسبوع":"24/7 customer support and service availability"]})]})]}),m.jsxs("div",{className:"mt-20",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] mb-6 text-center",style:{direction:e},children:n("service-pages.chauffeur-service.experience-title")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.jsxs(He.div,{variants:Xt("right","spring",.3,.75),className:"rounded-lg overflow-hidden shadow-lg border border-[#D4AF37]",children:[m.jsx("img",{src:fK,alt:n("service-pages.chauffeur-service.professional-chauffeurs"),className:"w-full h-64 object-cover"}),m.jsxs("div",{className:"p-4 bg-black",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[18px]",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.chauffeur-service.professional-chauffeurs")}),m.jsx("p",{className:"text-white text-[14px] mt-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.chauffeur-service.professional-chauffeurs-desc")})]})]}),m.jsxs(He.div,{variants:Xt("up","spring",.4,.75),className:"rounded-lg overflow-hidden shadow-lg border border-[#D4AF37]",children:[m.jsx("img",{src:pK,alt:n("service-pages.chauffeur-service.luxury-vehicles"),className:"w-full h-64 object-cover"}),m.jsxs("div",{className:"p-4 bg-black",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[18px]",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.chauffeur-service.luxury-vehicles")}),m.jsx("p",{className:"text-white text-[14px] mt-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.chauffeur-service.luxury-vehicles-desc")})]})]}),m.jsxs(He.div,{variants:Xt("left","spring",.5,.75),className:"rounded-lg overflow-hidden shadow-lg border border-[#D4AF37]",children:[m.jsx("img",{src:mK,alt:n("service-pages.chauffeur-service.personalized-service"),className:"w-full h-64 object-cover"}),m.jsxs("div",{className:"p-4 bg-black",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[18px]",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.chauffeur-service.personalized-service")}),m.jsx("p",{className:"text-white text-[14px] mt-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.chauffeur-service.personalized-service-desc")})]})]})]})]}),m.jsxs("div",{className:"mt-10 bg-black rounded-2xl p-8 border border-[#D4AF37]",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] text-center",style:{direction:e},children:n("service-pages.common.service-options")}),m.jsxs("div",{className:"mt-5 grid grid-cols-1 md:grid-cols-2 gap-10",children:[m.jsxs("div",{className:"bg-black p-5 rounded-2xl border border-[#D4AF37]",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[20px] text-center",style:{direction:e},children:n("service-pages.chauffeur-service.business-travel")}),m.jsx("p",{className:"mt-2 text-white text-[16px] text-center",style:{direction:e},children:n("service-pages.chauffeur-service.business-travel-desc")})]}),m.jsxs("div",{className:"bg-black p-5 rounded-2xl border border-[#D4AF37]",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[20px] text-center",style:{direction:e},children:n("service-pages.chauffeur-service.special-occasions")}),m.jsx("p",{className:"mt-2 text-white text-[16px] text-center",style:{direction:e},children:n("service-pages.chauffeur-service.special-occasions-desc")})]}),m.jsxs("div",{className:"bg-black p-5 rounded-2xl border border-[#D4AF37]",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[20px] text-center",style:{direction:e},children:n("service-pages.chauffeur-service.city-tours")}),m.jsx("p",{className:"mt-2 text-white text-[16px] text-center",style:{direction:e},children:n("service-pages.chauffeur-service.city-tours-desc")})]}),m.jsxs("div",{className:"bg-black p-5 rounded-2xl border border-[#D4AF37]",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[20px] text-center",style:{direction:e},children:n("service-pages.chauffeur-service.vip-service")}),m.jsx("p",{className:"mt-2 text-white text-[16px] text-center",style:{direction:e},children:n("service-pages.chauffeur-service.vip-service-desc")})]})]})]}),m.jsx("div",{className:"mt-10 flex justify-center",children:m.jsx(qt,{to:"/contact",className:"bg-black py-3 px-8 rounded-xl outline-none w-fit text-[#D4AF37] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:n("service-pages.common.book-now")})})]}),m.jsx(gf,{})]})};class WY extends pn.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),console.error("Error caught by ErrorBoundary:",e,t)}render(){return this.state.hasError?m.jsxs("div",{className:"error-boundary p-4 bg-black border border-red-500 rounded-lg",children:[m.jsx("h2",{className:"text-red-500 text-xl mb-2",children:"Something went wrong"}),m.jsx("p",{className:"text-white mb-4",children:"Please try refreshing the page or contact support if the issue persists."}),m.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Refresh Page"})]}):this.props.children}}const XY=()=>{const{t:n}=ln(),{dir:e}=vn();return m.jsx("div",{className:"relative w-full h-auto mx-auto",children:m.jsxs("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:[m.jsxs(He.div,{variants:wi(),children:[m.jsx("p",{className:`${Ct.sectionSubText} text-center text-[#D4AF37]`,children:n("service-pages.common.our-services")}),m.jsx("h2",{className:`${Ct.sectionHeadText} text-center`,children:n("service-pages.airport-transfer.title")})]}),m.jsx(He.p,{variants:Xt("","",.1,1),className:"mt-4 text-white text-[17px] max-w-3xl leading-[30px] text-center mx-auto",style:{direction:e},children:n("service-pages.airport-transfer.description")}),m.jsxs("div",{className:"mt-10 bg-black rounded-2xl p-8 border border-[#D4AF37]",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] text-center",style:{direction:e},children:n("service-pages.common.service-features")}),m.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:Array.isArray(n("service-pages.airport-transfer.features"))?n("service-pages.airport-transfer.features").map((t,i)=>m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"})," ",t]},i)):m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"})," Loading features..."]})})]}),m.jsxs("div",{className:"mt-20",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] mb-6 text-center",style:{direction:e},children:n("service-pages.airport-transfer.services-title")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs(He.div,{variants:Xt("right","spring",.3,.75),className:"rounded-lg overflow-hidden shadow-lg border border-[#D4AF37]",children:[m.jsx("img",{src:gK,alt:n("service-pages.airport-transfer.meet-greet"),className:"w-full h-64 object-cover"}),m.jsxs("div",{className:"p-4 bg-black",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[18px]",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.airport-transfer.meet-greet")}),m.jsx("p",{className:"text-white text-[14px] mt-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.airport-transfer.meet-greet-desc")})]})]}),m.jsxs(He.div,{variants:Xt("up","spring",.4,.75),className:"rounded-lg overflow-hidden shadow-lg border border-[#D4AF37]",children:[m.jsx("img",{src:vK,alt:n("service-pages.airport-transfer.luxury-vehicles"),className:"w-full h-64 object-cover"}),m.jsxs("div",{className:"p-4 bg-black",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[18px]",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.airport-transfer.luxury-vehicles")}),m.jsx("p",{className:"text-white text-[14px] mt-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.airport-transfer.luxury-vehicles-desc")})]})]}),m.jsxs(He.div,{variants:Xt("left","spring",.5,.75),className:"rounded-lg overflow-hidden shadow-lg border border-[#D4AF37]",children:[m.jsx("img",{src:xK,alt:n("service-pages.airport-transfer.vip-terminal"),className:"w-full h-64 object-cover"}),m.jsxs("div",{className:"p-4 bg-black",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[18px]",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.airport-transfer.vip-terminal")}),m.jsx("p",{className:"text-white text-[14px] mt-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.airport-transfer.vip-terminal-desc")})]})]})]})]}),m.jsxs("div",{className:"mt-10 bg-black rounded-2xl p-8 border border-[#D4AF37]",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] text-center",style:{direction:e},children:n("service-pages.airport-transfer.airports-title")}),m.jsxs("div",{className:"mt-5 grid grid-cols-1 md:grid-cols-2 gap-10",children:[m.jsxs("div",{className:"bg-black p-5 rounded-2xl border border-[#D4AF37]",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[20px] text-center",style:{direction:e},children:n("service-pages.airport-transfer.major-airports")}),m.jsx("ul",{className:"mt-2 space-y-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:Array.isArray(n("service-pages.airport-transfer.major-airports-list"))?n("service-pages.airport-transfer.major-airports-list").map((t,i)=>m.jsxs("li",{className:"text-white text-[16px] flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"})," ",t]},i)):m.jsxs("li",{className:"text-white text-[16px] flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"})," Loading airports..."]})})]}),m.jsxs("div",{className:"bg-black p-5 rounded-2xl border border-[#D4AF37]",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[20px] text-center",style:{direction:e},children:n("service-pages.airport-transfer.regional-airports")}),m.jsx("ul",{className:"mt-2 space-y-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:Array.isArray(n("service-pages.airport-transfer.regional-airports-list"))?n("service-pages.airport-transfer.regional-airports-list").map((t,i)=>m.jsxs("li",{className:"text-white text-[16px] flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"})," ",t]},i)):m.jsxs("li",{className:"text-white text-[16px] flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"})," Loading regional airports..."]})})]})]})]}),m.jsxs("div",{className:"mt-10 bg-black rounded-2xl p-8 border border-[#D4AF37]",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] text-center",style:{direction:e},children:n("service-pages.airport-transfer.booking-process")}),m.jsx("ol",{className:"mt-5 list-decimal ml-5 space-y-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:Array.isArray(n("service-pages.airport-transfer.booking-steps"))?n("service-pages.airport-transfer.booking-steps").map((t,i)=>m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider flex items-center",children:[m.jsxs("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:[i+1,"."]})," ",t]},i)):m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"1."})," Loading booking steps..."]})})]}),m.jsx("div",{className:"mt-10 flex justify-center",children:m.jsx(qt,{to:"/contact",className:"bg-black py-3 px-8 rounded-xl outline-none w-fit text-[#D4AF37] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:n("service-pages.common.book-now")})})]})})},JY=()=>m.jsx(WY,{children:m.jsx(XY,{})}),KY=()=>{const{t:n}=ln(),{dir:e}=vn();return m.jsx("div",{className:"relative w-full h-auto mx-auto",children:m.jsxs("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:[m.jsxs(He.div,{variants:wi(),children:[m.jsx("p",{className:`${Ct.sectionSubText} text-center text-[#D4AF37]`,children:n("service-pages.common.our-services")}),m.jsx("h2",{className:`${Ct.sectionHeadText} text-center`,children:n("service-pages.vip-service.title")})]}),m.jsx(He.p,{variants:Xt("","",.1,1),className:"mt-4 text-white text-[17px] max-w-3xl leading-[30px] text-center mx-auto",style:{direction:e},children:n("service-pages.vip-service.description")}),m.jsxs("div",{className:"mt-10 bg-black rounded-2xl p-8 border border-[#D4AF37]",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] text-center",style:{direction:e},children:n("service-pages.common.service-features")}),m.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.vip-service.features").map((t,i)=>m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"})," ",t]},i))})]}),m.jsxs("div",{className:"mt-20",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] mb-6 text-center",style:{direction:e},children:n("service-pages.vip-service.services-title")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs(He.div,{variants:Xt("right","spring",.3,.75),className:"rounded-lg overflow-hidden shadow-lg border border-[#D4AF37]",children:[m.jsx("img",{src:PT,alt:n("service-pages.vip-service.security"),className:"w-full h-64 object-cover"}),m.jsxs("div",{className:"p-4 bg-black",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[18px]",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.vip-service.security")}),m.jsx("p",{className:"text-white text-[14px] mt-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.vip-service.security-desc")})]})]}),m.jsxs(He.div,{variants:Xt("up","spring",.4,.75),className:"rounded-lg overflow-hidden shadow-lg border border-[#D4AF37]",children:[m.jsx("img",{src:yK,alt:n("service-pages.vip-service.privacy"),className:"w-full h-64 object-cover"}),m.jsxs("div",{className:"p-4 bg-black",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[18px]",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.vip-service.privacy")}),m.jsx("p",{className:"text-white text-[14px] mt-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.vip-service.privacy-desc")})]})]}),m.jsxs(He.div,{variants:Xt("left","spring",.5,.75),className:"rounded-lg overflow-hidden shadow-lg border border-[#D4AF37]",children:[m.jsx("img",{src:PT,alt:n("service-pages.vip-service.luxury"),className:"w-full h-64 object-cover"}),m.jsxs("div",{className:"p-4 bg-black",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[18px]",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.vip-service.luxury")}),m.jsx("p",{className:"text-white text-[14px] mt-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:n("service-pages.vip-service.luxury-desc")})]})]})]})]}),m.jsxs("div",{className:"mt-10 bg-black rounded-2xl p-8 border border-[#D4AF37]",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] text-center",style:{direction:e},children:n("service-pages.vip-service.options-title")}),m.jsxs("div",{className:"mt-5 grid grid-cols-1 md:grid-cols-2 gap-10",children:[m.jsxs("div",{className:"bg-black p-5 rounded-2xl border border-[#D4AF37]",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[20px] text-center",style:{direction:e},children:n("service-pages.vip-service.protection")}),m.jsx("p",{className:"mt-2 text-white text-[16px] text-center",style:{direction:e},children:n("service-pages.vip-service.protection-desc")})]}),m.jsxs("div",{className:"bg-black p-5 rounded-2xl border border-[#D4AF37]",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[20px] text-center",style:{direction:e},children:n("service-pages.vip-service.celebrity")}),m.jsx("p",{className:"mt-2 text-white text-[16px] text-center",style:{direction:e},children:n("service-pages.vip-service.celebrity-desc")})]}),m.jsxs("div",{className:"bg-black p-5 rounded-2xl border border-[#D4AF37]",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[20px] text-center",style:{direction:e},children:e==="rtl"?"الخدمة الدبلوماسية":"Diplomatic Service"}),m.jsx("p",{className:"mt-2 text-white text-[16px] text-center",style:{direction:e},children:e==="rtl"?"نقل متخصص للبعثات الدبلوماسية مع سائقين مدربين على البروتوكول وترتيبات قوافل آمنة عند الحاجة.":"Specialized transportation for diplomatic missions with protocol-trained chauffeurs and secure convoy arrangements when required."})]}),m.jsxs("div",{className:"bg-black p-5 rounded-2xl border border-[#D4AF37]",children:[m.jsx("h4",{className:"text-[#D4AF37] font-semibold text-[20px] text-center",style:{direction:e},children:e==="rtl"?"تجربة فاخرة للغاية":"Ultra-Luxury Experience"}),m.jsx("p",{className:"mt-2 text-white text-[16px] text-center",style:{direction:e},children:e==="rtl"?"أقصى درجات النقل الفاخر مع سيارات فاخرة وخدمة شخصية ووسائل راحة حصرية لتجربة لا مثيل لها.":"The ultimate in luxury transportation with premium vehicles, personalized service, and exclusive amenities for an unparalleled experience."})]})]})]}),m.jsxs("div",{className:"mt-10 bg-black rounded-2xl p-8 border border-[#D4AF37]",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] text-center",style:{direction:e},children:e==="rtl"?"الأمان والخصوصية:":"Security & Privacy:"}),m.jsx("p",{className:"mt-4 text-white text-[17px] max-w-3xl leading-[30px] text-center mx-auto",style:{direction:e},children:e==="rtl"?"نحن ندرك أهمية التمييز والأمان لعملائنا من كبار الشخصيات. تشمل جميع خدمات كبار الشخصيات لدينا:":"We understand the importance of discretion and security for our VIP clients. All our VIP services include:"}),m.jsxs("ul",{className:"mt-5 list-disc ml-5 space-y-2",style:{direction:e,textAlign:e==="rtl"?"right":"left"},children:[m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"}),e==="rtl"?"بروتوكولات سرية صارمة واتفاقيات عدم إفشاء موقعة":"Strict confidentiality protocols and signed NDAs"]}),m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"}),e==="rtl"?"قنوات اتصال آمنة":"Secure communication channels"]}),m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"}),e==="rtl"?"تخطيط متقدم للطرق لتجنب التعرض العام":"Advanced route planning to avoid public exposure"]}),m.jsxs("li",{className:"text-white text-[17px] pl-1 tracking-wider flex items-center",children:[m.jsx("span",{className:`${e==="rtl"?"ml-2":"mr-2"} text-[#D4AF37]`,children:"•"}),e==="rtl"?"سيارات بزجاج خصوصية وميزات أمان معززة":"Vehicles with privacy glass and enhanced security features"]})]})]}),m.jsx("div",{className:"mt-10 flex justify-center",children:m.jsx(qt,{to:"/contact",className:"bg-black py-3 px-8 rounded-xl outline-none w-fit text-[#D4AF37] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:n("service-pages.common.inquire")})})]})})},YY=n=>[{name:n("tourism-pages.popular-destinations.destinations.munich.name"),description:n("tourism-pages.popular-destinations.destinations.munich.description"),image:SK,gallery:[bD,LT]},{name:n("tourism-pages.popular-destinations.destinations.hamburg.name"),description:n("tourism-pages.popular-destinations.destinations.hamburg.description"),image:MK,gallery:[NT]},{name:n("tourism-pages.popular-destinations.destinations.frankfurt.name"),description:n("tourism-pages.popular-destinations.destinations.frankfurt.description"),image:bK,gallery:[GA]},{name:n("tourism-pages.popular-destinations.destinations.heidelberg.name"),description:n("tourism-pages.popular-destinations.destinations.heidelberg.description"),image:LT,gallery:[]},{name:n("tourism-pages.popular-destinations.destinations.black-forest.name"),description:n("tourism-pages.popular-destinations.destinations.black-forest.description"),image:GA,gallery:[]},{name:n("tourism-pages.popular-destinations.destinations.baden-baden.name"),description:n("tourism-pages.popular-destinations.destinations.baden-baden.description"),image:NT,gallery:[]}],qY=({name:n,description:e,image:t,index:i})=>{const{t:r}=ln(),{dir:s}=vn();return m.jsxs(He.div,{variants:Xt("up","spring",i*.5,.75),className:"bg-black p-5 rounded-2xl sm:w-[360px] w-full border border-[#D4AF37]",children:[m.jsx("div",{className:"relative w-full h-[230px]",children:m.jsx("img",{src:t,alt:n,className:"w-full h-full object-cover rounded-2xl border border-[#D4AF37]"})}),m.jsxs("div",{className:"mt-5",style:{textAlign:s==="rtl"?"right":"left",minHeight:"120px"},children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px]",children:n}),m.jsx("p",{className:"mt-2 text-white text-[14px]",children:e})]}),m.jsx("div",{className:"mt-4 flex justify-center",children:m.jsx(qt,{to:"/contact",className:"bg-black py-2 px-4 rounded-xl outline-none w-fit text-[#D4AF37] text-[14px] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:r("common.bookTour")})})]})},QY=()=>{const{t:n}=ln(),{dir:e}=vn(),t=YY(n);return m.jsxs("div",{className:"relative w-full h-auto mx-auto",children:[m.jsxs("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:[m.jsxs(He.div,{variants:wi(),children:[m.jsx("p",{className:`${Ct.sectionSubText} text-center text-[#D4AF37]`,children:n("tourism-pages.popular-destinations.subtitle")}),m.jsx("h2",{className:`${Ct.sectionHeadText} text-center`,children:n("tourism-pages.popular-destinations.title")})]}),m.jsx(He.p,{variants:Xt("","",.1,1),className:"mt-4 text-white text-[17px] max-w-3xl leading-[30px] text-center mx-auto",style:{direction:e},children:n("tourism-pages.popular-destinations.description")}),m.jsx("div",{className:"mt-20 flex flex-wrap gap-7 justify-center",children:t.map((i,r)=>m.jsx(qY,{index:r,...i},`destination-${r}`))}),m.jsxs("div",{className:"mt-10 bg-black rounded-2xl p-8 border border-[#D4AF37]",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] text-center",children:n("tourism-pages.popular-destinations.custom-tours")}),m.jsx("p",{className:"mt-4 text-white text-[17px] max-w-3xl leading-[30px] text-center mx-auto",style:{direction:e},children:n("tourism-pages.popular-destinations.custom-tours-description")}),m.jsx("div",{className:"mt-5 flex justify-center",children:m.jsx(qt,{to:"/contact",className:"bg-black py-3 px-8 rounded-xl outline-none w-fit text-[#D4AF37] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:n("common.planCustomTour")})})]})]}),m.jsx(gf,{})]})},$Y=n=>[{name:n("tourism-pages.shopping-tours.destinations.la-vallee.name"),description:n("tourism-pages.shopping-tours.destinations.la-vallee.description"),image:FK,gallery:[BT]},{name:n("tourism-pages.shopping-tours.destinations.serravalle.name"),description:n("tourism-pages.shopping-tours.destinations.serravalle.description"),image:OK,gallery:[UK]},{name:n("tourism-pages.shopping-tours.destinations.metzingen.name"),description:n("tourism-pages.shopping-tours.destinations.metzingen.description"),image:CD,gallery:[jK]},{name:n("tourism-pages.shopping-tours.destinations.wertheim.name"),description:n("tourism-pages.shopping-tours.destinations.wertheim.description"),image:zK,gallery:[HK]},{name:n("tourism-pages.shopping-tours.destinations.roermond.name"),description:n("tourism-pages.shopping-tours.destinations.roermond.description"),image:GK,gallery:[VK]},{name:n("tourism-pages.shopping-tours.destinations.ingolstadt.name"),description:n("tourism-pages.shopping-tours.destinations.ingolstadt.description"),image:BT,gallery:[]}],ZY=({name:n,description:e,image:t,index:i})=>{const{t:r}=ln(),{dir:s}=vn();return m.jsxs(He.div,{variants:Xt("up","spring",i*.5,.75),className:"bg-black p-5 rounded-2xl sm:w-[360px] w-full border border-[#D4AF37]",children:[m.jsx("div",{className:"relative w-full h-[230px]",children:m.jsx("img",{src:t,alt:n,className:"w-full h-full object-cover rounded-2xl border border-[#D4AF37]"})}),m.jsxs("div",{className:"mt-5",style:{textAlign:s==="rtl"?"right":"left",minHeight:"120px"},children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px]",children:n}),m.jsx("p",{className:"mt-2 text-white text-[14px]",children:e})]}),m.jsx("div",{className:"mt-4 flex justify-center",children:m.jsx(qt,{to:"/contact",className:"bg-black py-2 px-4 rounded-xl outline-none w-fit text-[#D4AF37] text-[14px] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:r("common.bookTour")})})]})},eq=()=>{const{t:n}=ln(),{dir:e}=vn(),t=$Y(n);return m.jsxs("div",{className:"relative w-full h-auto mx-auto",children:[m.jsxs("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:[m.jsxs(He.div,{variants:wi(),children:[m.jsx("p",{className:`${Ct.sectionSubText} text-center text-[#D4AF37]`,children:n("tourism-pages.shopping-tours.subtitle")}),m.jsx("h2",{className:`${Ct.sectionHeadText} text-center`,children:n("tourism-pages.shopping-tours.title")})]}),m.jsx(He.p,{variants:Xt("","",.1,1),className:"mt-4 text-white text-[17px] max-w-3xl leading-[30px] text-center mx-auto",style:{direction:e},children:n("tourism-pages.shopping-tours.description")}),m.jsx("div",{className:"mt-20 flex flex-wrap gap-7 justify-center",children:t.map((i,r)=>m.jsx(ZY,{index:r,...i},`shopping-${r}`))}),m.jsxs("div",{className:"mt-10 bg-black rounded-2xl p-8 border border-[#D4AF37]",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] text-center",children:n("tourism-pages.shopping-tours.custom-tours")}),m.jsx("p",{className:"mt-4 text-white text-[17px] max-w-3xl leading-[30px] text-center mx-auto",style:{direction:e},children:n("tourism-pages.shopping-tours.custom-tours-description")}),m.jsx("div",{className:"mt-5 flex justify-center",children:m.jsx(qt,{to:"/contact",className:"bg-black py-3 px-8 rounded-xl outline-none w-fit text-[#D4AF37] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:n("common.planCustomTour")})})]})]}),m.jsx(gf,{})]})},tq=n=>[{name:n("tourism-pages.theme-parks.parks.disneyland.name"),description:n("tourism-pages.theme-parks.parks.disneyland.description"),image:EK,gallery:[CK]},{name:n("tourism-pages.theme-parks.parks.europa-park.name"),description:n("tourism-pages.theme-parks.parks.europa-park.description"),image:TK,gallery:[RK]},{name:n("tourism-pages.theme-parks.parks.phantasialand.name"),description:n("tourism-pages.theme-parks.parks.phantasialand.description"),image:ED,gallery:[PK]},{name:n("tourism-pages.theme-parks.parks.heide-park.name"),description:n("tourism-pages.theme-parks.parks.heide-park.description"),image:LK,gallery:[NK]},{name:n("tourism-pages.theme-parks.parks.legoland.name"),description:n("tourism-pages.theme-parks.parks.legoland.description"),image:BK,gallery:[DK]},{name:n("tourism-pages.theme-parks.parks.movie-park.name"),description:n("tourism-pages.theme-parks.parks.movie-park.description"),image:IK,gallery:[kK]}],nq=({name:n,description:e,image:t,index:i})=>{const{t:r}=ln(),{dir:s}=vn();return m.jsxs(He.div,{variants:Xt("up","spring",i*.5,.75),className:"bg-black p-5 rounded-2xl sm:w-[360px] w-full border border-[#D4AF37]",children:[m.jsx("div",{className:"relative w-full h-[230px]",children:m.jsx("img",{src:t,alt:n,className:"w-full h-full object-cover rounded-2xl border border-[#D4AF37]"})}),m.jsxs("div",{className:"mt-5",style:{textAlign:s==="rtl"?"right":"left",minHeight:"120px"},children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px]",children:n}),m.jsx("p",{className:"mt-2 text-white text-[14px]",children:e})]}),m.jsx("div",{className:"mt-4 flex justify-center",children:m.jsx(qt,{to:"/contact",className:"bg-black py-2 px-4 rounded-xl outline-none w-fit text-[#D4AF37] text-[14px] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:r("common.bookTour")})})]})},iq=()=>{const{t:n}=ln(),{dir:e}=vn(),t=tq(n);return m.jsxs("div",{className:"relative w-full h-auto mx-auto",children:[m.jsxs("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:[m.jsxs(He.div,{variants:wi(),children:[m.jsx("p",{className:`${Ct.sectionSubText} text-center text-[#D4AF37]`,children:n("tourism-pages.theme-parks.subtitle")}),m.jsx("h2",{className:`${Ct.sectionHeadText} text-center`,children:n("tourism-pages.theme-parks.title")})]}),m.jsx(He.p,{variants:Xt("","",.1,1),className:"mt-4 text-white text-[17px] max-w-3xl leading-[30px] text-center mx-auto",style:{direction:e},children:n("tourism-pages.theme-parks.description")}),m.jsx("div",{className:"mt-20 flex flex-wrap gap-7 justify-center",children:t.map((i,r)=>m.jsx(nq,{index:r,...i},`park-${r}`))}),m.jsxs("div",{className:"mt-10 bg-black rounded-2xl p-8 border border-[#D4AF37]",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] text-center",children:n("tourism-pages.theme-parks.custom-tours")}),m.jsx("p",{className:"mt-4 text-white text-[17px] max-w-3xl leading-[30px] text-center mx-auto",style:{direction:e},children:n("tourism-pages.theme-parks.custom-tours-description")}),m.jsx("div",{className:"mt-5 flex justify-center",children:m.jsx(qt,{to:"/contact",className:"bg-black py-3 px-8 rounded-xl outline-none w-fit text-[#D4AF37] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:n("common.planCustomTour")})})]})]}),m.jsx(gf,{})]})},rq=n=>[{name:n("tourism-pages.farms.farms.ferienhof-konig.name"),description:n("tourism-pages.farms.farms.ferienhof-konig.description"),image:"https://via.placeholder.com/400x300?text=Ferienhof+Konig"},{name:n("tourism-pages.farms.farms.wohlfuhlhof-zeh.name"),description:n("tourism-pages.farms.farms.wohlfuhlhof-zeh.description"),image:"https://via.placeholder.com/400x300?text=Wohlfuhlhof+Zeh"},{name:n("tourism-pages.farms.farms.staller-ferienhof.name"),description:n("tourism-pages.farms.farms.staller-ferienhof.description"),image:"https://via.placeholder.com/400x300?text=Staller+Ferienhof"},{name:n("tourism-pages.farms.farms.huberhof.name"),description:n("tourism-pages.farms.farms.huberhof.description"),image:"https://via.placeholder.com/400x300?text=Huberhof"},{name:n("tourism-pages.farms.farms.marchenbauernhof.name"),description:n("tourism-pages.farms.farms.marchenbauernhof.description"),image:"https://via.placeholder.com/400x300?text=Marchenbauernhof"},{name:n("tourism-pages.farms.farms.biohof-schlossberg.name"),description:n("tourism-pages.farms.farms.biohof-schlossberg.description"),image:"https://via.placeholder.com/400x300?text=Biohof+Schlossberg"}],sq=({name:n,description:e,image:t,index:i})=>{const{t:r}=ln(),{dir:s}=vn();return m.jsxs(He.div,{variants:Xt("up","spring",i*.5,.75),className:"bg-black p-5 rounded-2xl sm:w-[360px] w-full border border-[#D4AF37]",children:[m.jsx("div",{className:"relative w-full h-[230px]",children:m.jsx("img",{src:t,alt:n,className:"w-full h-full object-cover rounded-2xl border border-[#D4AF37]"})}),m.jsxs("div",{className:"mt-5",style:{textAlign:s==="rtl"?"right":"left",minHeight:"120px"},children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px]",children:n}),m.jsx("p",{className:"mt-2 text-white text-[14px]",children:e})]}),m.jsx("div",{className:"mt-4 flex justify-center",children:m.jsx(qt,{to:"/contact",className:"bg-black py-2 px-4 rounded-xl outline-none w-fit text-[#D4AF37] text-[14px] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:r("common.bookTour")})})]})},oq=()=>{const{t:n}=ln(),{dir:e}=vn(),t=rq(n);return m.jsxs("div",{className:"relative w-full h-auto mx-auto",children:[m.jsxs("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:[m.jsxs(He.div,{variants:wi(),children:[m.jsx("p",{className:`${Ct.sectionSubText} text-center text-[#D4AF37]`,children:n("tourism-pages.farms.subtitle")}),m.jsx("h2",{className:`${Ct.sectionHeadText} text-center`,children:n("tourism-pages.farms.title")})]}),m.jsx(He.p,{variants:Xt("","",.1,1),className:"mt-4 text-white text-[17px] max-w-3xl leading-[30px] text-center mx-auto",style:{direction:e},children:n("tourism-pages.farms.description")}),m.jsx("div",{className:"mt-20 flex flex-wrap gap-7 justify-center",children:t.map((i,r)=>m.jsx(sq,{index:r,...i},`farm-${r}`))}),m.jsxs("div",{className:"mt-10 bg-black rounded-2xl p-8 border border-[#D4AF37]",children:[m.jsx("h3",{className:"text-[#D4AF37] font-bold text-[24px] text-center",children:n("tourism-pages.farms.custom-tours")}),m.jsx("p",{className:"mt-4 text-white text-[17px] max-w-3xl leading-[30px] text-center mx-auto",style:{direction:e},children:n("tourism-pages.farms.custom-tours-description")}),m.jsx("div",{className:"mt-5 flex justify-center",children:m.jsx(qt,{to:"/contact",className:"bg-black py-3 px-8 rounded-xl outline-none w-fit text-[#D4AF37] font-bold shadow-md border border-[#D4AF37] hover:shadow-[0_0_10px_#D4AF37] transition-all duration-300",children:n("common.planCustomTour")})})]})]}),m.jsx(gf,{})]})},aq=()=>{const{t:n}=ln();return m.jsx("div",{className:"relative z-0",children:m.jsxs("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:[m.jsxs(He.div,{variants:wi(),children:[m.jsx("p",{className:Ct.sectionSubText,children:n("contact.subtitle")}),m.jsx("h2",{className:Ct.sectionHeadText,children:n("contact.title")})]}),m.jsx(ID,{})]})})},lq=()=>m.jsx("div",{className:"relative w-full h-auto mx-auto",children:m.jsxs("div",{className:`${Ct.padding} max-w-7xl mx-auto relative z-0`,children:[m.jsxs(He.div,{variants:wi(),children:[m.jsx("p",{className:Ct.sectionSubText,children:"Legal Information"}),m.jsx("h2",{className:Ct.sectionHeadText,children:"Privacy Policy"})]}),m.jsxs(He.div,{variants:Xt("","",.1,1),className:"mt-10 text-secondary text-[17px] max-w-3xl leading-[30px]",children:[m.jsx("h3",{className:"text-white text-[24px] font-bold mb-4",children:"1. Introduction"}),m.jsx("p",{className:"mb-6",children:'Premium Transport ("we", "our", or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or use our transportation services.'}),m.jsx("h3",{className:"text-white text-[24px] font-bold mb-4",children:"2. Information We Collect"}),m.jsx("p",{className:"mb-3",children:"We may collect information about you in various ways, including:"}),m.jsxs("ul",{className:"list-disc pl-6 mb-6 space-y-2",children:[m.jsx("li",{children:"Personal Data: Name, email address, phone number, postal address, payment information."}),m.jsx("li",{children:"Usage Data: Information about how you use our website and services."}),m.jsx("li",{children:"Cookies and Tracking Technologies: Information collected through cookies and similar technologies."})]}),m.jsx("h3",{className:"text-white text-[24px] font-bold mb-4",children:"3. How We Use Your Information"}),m.jsx("p",{className:"mb-3",children:"We may use the information we collect for various purposes, including:"}),m.jsxs("ul",{className:"list-disc pl-6 mb-6 space-y-2",children:[m.jsx("li",{children:"To provide and maintain our services"}),m.jsx("li",{children:"To process and complete transactions"}),m.jsx("li",{children:"To send you service-related notifications"}),m.jsx("li",{children:"To respond to your inquiries and provide customer support"}),m.jsx("li",{children:"To improve our website and services"}),m.jsx("li",{children:"To comply with legal obligations"})]}),m.jsx("h3",{className:"text-white text-[24px] font-bold mb-4",children:"4. Disclosure of Your Information"}),m.jsx("p",{className:"mb-3",children:"We may share your information with:"}),m.jsxs("ul",{className:"list-disc pl-6 mb-6 space-y-2",children:[m.jsx("li",{children:"Service providers who perform services on our behalf"}),m.jsx("li",{children:"Business partners with whom we offer co-branded services"}),m.jsx("li",{children:"Legal authorities when required by law"})]}),m.jsx("h3",{className:"text-white text-[24px] font-bold mb-4",children:"5. Your Rights"}),m.jsx("p",{className:"mb-3",children:"Depending on your location, you may have certain rights regarding your personal data, including:"}),m.jsxs("ul",{className:"list-disc pl-6 mb-6 space-y-2",children:[m.jsx("li",{children:"The right to access your personal data"}),m.jsx("li",{children:"The right to rectify inaccurate personal data"}),m.jsx("li",{children:"The right to request deletion of your personal data"}),m.jsx("li",{children:"The right to restrict processing of your personal data"}),m.jsx("li",{children:"The right to data portability"})]}),m.jsx("h3",{className:"text-white text-[24px] font-bold mb-4",children:"6. Contact Us"}),m.jsxs("p",{className:"mb-6",children:["If you have any questions about this Privacy Policy, please contact us at:",m.jsx("br",{}),"Email: privacy@premium-transport.com",m.jsx("br",{}),"Address: Luxusstraße 123, 10115 Berlin, Germany"]}),m.jsxs("p",{className:"text-[14px] italic",children:["Last updated: ",new Date().toLocaleDateString()]})]})]})}),FD=document.createElement("style");FD.innerHTML=`
  html, body, #root {
    background-color: #000000 !important;
    min-height: 100vh;
    overflow-x: hidden;
  }
`;document.head.appendChild(FD);const cq=()=>m.jsx(lO,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:m.jsx(tO,{children:m.jsxs(un,{path:"/",element:m.jsx(kY,{}),children:[m.jsx(un,{index:!0,element:m.jsx(FY,{})}),m.jsxs(un,{path:"carpool",children:[m.jsx(un,{index:!0,element:m.jsx(nY,{})}),m.jsx(un,{path:"mercedes-sclass",element:m.jsx(UY,{})}),m.jsx(un,{path:"bmw-7",element:m.jsx(zY,{})}),m.jsx(un,{path:"mercedes-vclass",element:m.jsx(GY,{})})]}),m.jsxs(un,{path:"services",children:[m.jsx(un,{index:!0,element:m.jsx(rY,{})}),m.jsx(un,{path:"chauffeurservice",element:m.jsx(VY,{})}),m.jsx(un,{path:"airporttransfer",element:m.jsx(JY,{})}),m.jsx(un,{path:"vip-service",element:m.jsx(KY,{})})]}),m.jsxs(un,{path:"tourism",children:[m.jsx(un,{index:!0,element:m.jsx(oY,{})}),m.jsx(un,{path:"beliebte-zielorte",element:m.jsx(QY,{})}),m.jsx(un,{path:"shoppingtours",element:m.jsx(eq,{})}),m.jsx(un,{path:"freizeitparks",element:m.jsx(iq,{})}),m.jsx(un,{path:"bauernhofe",element:m.jsx(oq,{})})]}),m.jsx(un,{path:"tourism-section",element:m.jsx(d2,{to:"/tourism"})}),m.jsx(un,{path:"contact",element:m.jsx(aq,{})}),m.jsx(un,{path:"privacy-policy",element:m.jsx(lq,{})}),m.jsx(un,{path:"*",element:m.jsx(d2,{to:"/"})})]})})}),ft=n=>typeof n=="string",Ld=()=>{let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t},jT=n=>n==null?"":""+n,uq=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},dq=/###/g,zT=n=>n&&n.indexOf("###")>-1?n.replace(dq,"."):n,HT=n=>!n||ft(n),rh=(n,e,t)=>{const i=ft(e)?e.split("."):e;let r=0;for(;r<i.length-1;){if(HT(n))return{};const s=zT(i[r]);!n[s]&&t&&(n[s]=new t),Object.prototype.hasOwnProperty.call(n,s)?n=n[s]:n={},++r}return HT(n)?{}:{obj:n,k:zT(i[r])}},GT=(n,e,t)=>{const{obj:i,k:r}=rh(n,e,Object);if(i!==void 0||e.length===1){i[r]=t;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=rh(n,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=rh(n,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=t},hq=(n,e,t,i)=>{const{obj:r,k:s}=rh(n,e,Object);r[s]=r[s]||[],r[s].push(t)},Wg=(n,e)=>{const{obj:t,k:i}=rh(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},fq=(n,e,t)=>{const i=Wg(n,t);return i!==void 0?i:Wg(e,t)},OD=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?ft(n[i])||n[i]instanceof String||ft(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):OD(n[i],e[i],t):n[i]=e[i]);return n},Mc=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var pq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const mq=n=>ft(n)?n.replace(/[&<>"'\/]/g,e=>pq[e]):n;class gq{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const vq=[" ",",","?","!",";"],xq=new gq(20),yq=(n,e,t)=>{e=e||"",t=t||"";const i=vq.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(i.length===0)return!0;const r=xq.getRegExp(`(${i.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!r.test(n);if(!s){const o=n.indexOf(t);o>0&&!r.test(n.substring(0,o))&&(s=!0)}return s},VA=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let r=n;for(let s=0;s<i.length;){if(!r||typeof r!="object")return;let o,a="";for(let l=s;l<i.length;++l)if(l!==s&&(a+=t),a+=i[l],o=r[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<i.length-1)continue;s+=l-s+1;break}r=o}return r},Xg=n=>n==null?void 0:n.replace("_","-"),Aq={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,i;(i=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||i.call(t,console,e)}};class Jg{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Aq,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,r){return r&&!this.debug?null:(ft(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Jg(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Jg(this.logger,e)}}var ys=new Jg;class U0{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const r=this.observers[i].get(t)||0;this.observers[i].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a.apply(a,[e,...i])})}}class VT extends U0{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){var c,d;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],i&&(Array.isArray(i)?a.push(...i):ft(i)&&s?a.push(...i.split(s)):a.push(i)));const l=Wg(this.data,a);return!l&&!t&&!i&&e.indexOf(".")>-1&&(e=a[0],t=a[1],i=a.slice(2).join(".")),l||!o||!ft(i)?l:VA((d=(c=this.data)==null?void 0:c[e])==null?void 0:d[t],i,s)}addResource(e,t,i,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,t];i&&(a=a.concat(o?i.split(o):i)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),GT(this.data,a,r),s.silent||this.emit("added",e,t,i,r)}addResources(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in i)(ft(i[s])||Array.isArray(i[s]))&&this.addResource(e,t,s,i[s],{silent:!0});r.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=i,i=t,t=a[1]),this.addNamespaces(t);let l=Wg(this.data,a)||{};o.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?OD(l,i,s):l={...l,...i},GT(this.data,a,l),o.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var UD={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,r){return n.forEach(s=>{var o;e=((o=this.processors[s])==null?void 0:o.process(e,t,i,r))??e}),e}};const WT={},XT=n=>!ft(n)&&typeof n!="boolean"&&typeof n!="number";class Kg extends U0{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),uq(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ys.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,t);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const o=i&&e.indexOf(i)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!yq(e,i,r);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:ft(s)?[s]:s};const c=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(r)}return{key:e,namespaces:ft(s)?[s]:s}}translate(e,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),l=a[a.length-1],c=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((c==null?void 0:c.toLowerCase())==="cimode"){if(d){const z=t.nsSeparator||this.options.nsSeparator;return r?{res:`${l}${z}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${z}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:o}const f=this.resolve(e,t);let p=f==null?void 0:f.res;const g=(f==null?void 0:f.usedKey)||o,x=(f==null?void 0:f.exactUsedKey)||o,w=["[object Number]","[object Function]","[object RegExp]"],A=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,S=t.count!==void 0&&!ft(t.count),_=Kg.hasDefaultValue(t),b=S?this.pluralResolver.getSuffix(c,t.count,t):"",C=t.ordinal&&S?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",T=S&&!t.ordinal&&t.count===0,N=T&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${b}`]||t[`defaultValue${C}`]||t.defaultValue;let B=p;v&&!p&&_&&(B=N);const P=XT(B),L=Object.prototype.toString.apply(B);if(v&&B&&P&&w.indexOf(L)<0&&!(ft(A)&&Array.isArray(B))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,B,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(f.res=z,f.usedParams=this.getUsedParamsDetails(t),f):z}if(s){const z=Array.isArray(B),ee=z?[]:{},K=z?x:g;for(const Q in B)if(Object.prototype.hasOwnProperty.call(B,Q)){const Z=`${K}${s}${Q}`;_&&!p?ee[Q]=this.translate(Z,{...t,defaultValue:XT(N)?N[Q]:void 0,joinArrays:!1,ns:a}):ee[Q]=this.translate(Z,{...t,joinArrays:!1,ns:a}),ee[Q]===Z&&(ee[Q]=B[Q])}p=ee}}else if(v&&ft(A)&&Array.isArray(p))p=p.join(A),p&&(p=this.extendTranslation(p,e,t,i));else{let z=!1,ee=!1;!this.isValidLookup(p)&&_&&(z=!0,p=N),this.isValidLookup(p)||(ee=!0,p=o);const Q=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ee?void 0:p,Z=_&&N!==p&&this.options.updateMissing;if(ee||z||Z){if(this.logger.log(Z?"updateKey":"missingKey",c,l,o,Z?N:p),s){const J=this.resolve(o,{...t,keySeparator:!1});J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let se=[];const ie=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ie&&ie[0])for(let J=0;J<ie.length;J++)se.push(ie[J]);else this.options.saveMissingTo==="all"?se=this.languageUtils.toResolveHierarchy(t.lng||this.language):se.push(t.lng||this.language);const O=(J,V,ne)=>{var q;const j=_&&ne!==p?ne:Q;this.options.missingKeyHandler?this.options.missingKeyHandler(J,l,V,j,Z,t):(q=this.backendConnector)!=null&&q.saveMissing&&this.backendConnector.saveMissing(J,l,V,j,Z,t),this.emit("missingKey",J,l,V,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?se.forEach(J=>{const V=this.pluralResolver.getSuffixes(J,t);T&&t[`defaultValue${this.options.pluralSeparator}zero`]&&V.indexOf(`${this.options.pluralSeparator}zero`)<0&&V.push(`${this.options.pluralSeparator}zero`),V.forEach(ne=>{O([J],o+ne,t[`defaultValue${ne}`]||N)})}):O(se,o,N))}p=this.extendTranslation(p,e,t,f,i),ee&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${l}:${o}`),(ee||z)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,z?p:void 0,t))}return r?(f.res=p,f.usedParams=this.getUsedParamsDetails(t),f):p}extendTranslation(e,t,i,r,s){var c,d;var o=this;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const f=ft(e)&&(((d=i==null?void 0:i.interpolation)==null?void 0:d.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(f){const x=e.match(this.interpolator.nestingRegexp);p=x&&x.length}let g=i.replace&&!ft(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,i.lng||this.language||r.usedLng,i),f){const x=e.match(this.interpolator.nestingRegexp),w=x&&x.length;p<w&&(i.nest=!1)}!i.lng&&r&&r.res&&(i.lng=this.language||r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var x=arguments.length,w=new Array(x),A=0;A<x;A++)w[A]=arguments[A];return(s==null?void 0:s[0])===w[0]&&!i.context?(o.logger.warn(`It seems you are nesting recursively key: ${w[0]} in key: ${t[0]}`),null):o.translate(...w,t)},i)),i.interpolation&&this.interpolator.reset()}const a=i.postProcess||this.options.postProcess,l=ft(a)?[a]:a;return e!=null&&(l!=null&&l.length)&&i.applyPostProcessor!==!1&&(e=UD.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,r,s,o,a;return ft(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(i))return;const c=this.extractFromKey(l,t),d=c.key;r=d;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=t.count!==void 0&&!ft(t.count),g=p&&!t.ordinal&&t.count===0,x=t.context!==void 0&&(ft(t.context)||typeof t.context=="number")&&t.context!=="",w=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);f.forEach(A=>{var v,S;this.isValidLookup(i)||(a=A,!WT[`${w[0]}-${A}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((S=this.utils)!=null&&S.hasLoadedNamespace(a))&&(WT[`${w[0]}-${A}`]=!0,this.logger.warn(`key "${r}" for languages "${w.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(_=>{var T;if(this.isValidLookup(i))return;o=_;const b=[d];if((T=this.i18nFormat)!=null&&T.addLookupKeys)this.i18nFormat.addLookupKeys(b,d,_,A,t);else{let N;p&&(N=this.pluralResolver.getSuffix(_,t.count,t));const B=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(b.push(d+N),t.ordinal&&N.indexOf(P)===0&&b.push(d+N.replace(P,this.options.pluralSeparator)),g&&b.push(d+B)),x){const L=`${d}${this.options.contextSeparator}${t.context}`;b.push(L),p&&(b.push(L+N),t.ordinal&&N.indexOf(P)===0&&b.push(L+N.replace(P,this.options.pluralSeparator)),g&&b.push(L+B))}}let C;for(;C=b.pop();)this.isValidLookup(i)||(s=C,i=this.getResource(_,A,C,t))}))})}),{res:i,usedKey:r,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i){var s;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,t,i,r):this.resourceStore.getResource(e,t,i,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!ft(e.replace);let r=i?e.replace:e;if(i&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!i){r={...r};for(const s of t)delete r[s]}return r}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class JT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ys.create("languageUtils")}getScriptPartFromCode(e){if(e=Xg(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Xg(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(ft(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const r=this.getScriptPartFromCode(i);if(this.isSupportedCode(r))return t=r;const s=this.getLanguagePartFromCode(i);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),ft(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],s=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ft(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):ft(e)&&s(this.formatLanguageCode(e)),i.forEach(o=>{r.indexOf(o)<0&&s(this.formatLanguageCode(o))}),r}}const KT={zero:0,one:1,two:2,few:3,many:4,other:5},YT={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class _q{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ys.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=Xg(e==="dev"?"en":e),r=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:i,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(i,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),YT;if(!e.match(/-|_/))return YT;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,t)}return this.pluralRulesCache[s]=o,o}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),(i==null?void 0:i.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(r=>`${t}${r}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((r,s)=>KT[r]-KT[s]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,i);return r?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const qT=function(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=fq(n,e,t);return!s&&r&&ft(t)&&(s=VA(n,t,i),s===void 0&&(s=VA(e,t,i))),s},Oy=n=>n.replace(/\$/g,"$$$$");class wq{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ys.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(i=>i),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:r,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:g,nestingSuffix:x,nestingSuffixEscaped:w,nestingOptionsSeparator:A,maxReplaces:v,alwaysFormat:S}=e.interpolation;this.escape=t!==void 0?t:mq,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?Mc(s):o||"{{",this.suffix=a?Mc(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?Mc(p):g||Mc("$t("),this.nestingSuffix=x?Mc(x):w||Mc(")"),this.nestingOptionsSeparator=A||",",this.maxReplaces=v||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>(t==null?void 0:t.source)===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,r){var g;let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=x=>{if(x.indexOf(this.formatSeparator)<0){const S=qT(t,l,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,i,{...r,...t,interpolationkey:x}):S}const w=x.split(this.formatSeparator),A=w.shift().trim(),v=w.join(this.formatSeparator).trim();return this.format(qT(t,l,A,this.options.keySeparator,this.options.ignoreJSONStructure),v,i,{...r,...t,interpolationkey:A})};this.resetRegExp();const d=(r==null?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((g=r==null?void 0:r.interpolation)==null?void 0:g.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>Oy(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?Oy(this.escape(x)):Oy(x)}].forEach(x=>{for(a=0;s=x.regex.exec(e);){const w=s[1].trim();if(o=c(w),o===void 0)if(typeof d=="function"){const v=d(e,s,r);o=ft(v)?v:""}else if(r&&Object.prototype.hasOwnProperty.call(r,w))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${e}`),o="";else!ft(o)&&!this.useRawValueToEscape&&(o=jT(o));const A=x.safeValue(o);if(e=e.replace(s[0],A),f?(x.regex.lastIndex+=o.length,x.regex.lastIndex-=s[0].length):x.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,s,o;const a=(l,c)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const f=l.split(new RegExp(`${d}[ ]*{`));let p=`{${f[1]}`;l=f[0],p=this.interpolate(p,o);const g=p.match(/'/g),x=p.match(/"/g);(((g==null?void 0:g.length)??0)%2===0&&!x||x.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),c&&(o={...c,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,w),`${l}${d}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;r=this.nestingRegexp.exec(e);){let l=[];o={...i},o=o.replace&&!ft(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const d=r[1].split(this.formatSeparator).map(f=>f.trim());r[1]=d.shift(),l=d,c=!0}if(s=t(a.call(this,r[1].trim(),o),o),s&&r[0]===e&&!ft(s))return s;ft(s)||(s=jT(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),c&&(s=l.reduce((d,f)=>this.format(d,f,i.lng,{...i,interpolationkey:r[1].trim()}),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}}const Sq=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();t[d]||(t[d]=c),c==="false"&&(t[d]=!1),c==="true"&&(t[d]=!0),isNaN(c)||(t[d]=parseInt(c,10))}})}return{formatName:e,formatOptions:t}},bc=n=>{const e={};return(t,i,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s={...s,[r.interpolationkey]:void 0});const o=i+JSON.stringify(s);let a=e[o];return a||(a=n(Xg(i),r),e[o]=a),a(t)}};class Mq{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ys.create("formatter"),this.options=e,this.formats={number:bc((t,i)=>{const r=new Intl.NumberFormat(t,{...i});return s=>r.format(s)}),currency:bc((t,i)=>{const r=new Intl.NumberFormat(t,{...i,style:"currency"});return s=>r.format(s)}),datetime:bc((t,i)=>{const r=new Intl.DateTimeFormat(t,{...i});return s=>r.format(s)}),relativetime:bc((t,i)=>{const r=new Intl.RelativeTimeFormat(t,{...i});return s=>r.format(s,i.range||"day")}),list:bc((t,i)=>{const r=new Intl.ListFormat(t,{...i});return s=>r.format(s)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=bc(t)}format(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{var f;const{formatName:c,formatOptions:d}=Sq(l);if(this.formats[c]){let p=a;try{const g=((f=r==null?void 0:r.formatParams)==null?void 0:f[r.interpolationkey])||{},x=g.locale||g.lng||r.locale||r.lng||i;p=this.formats[c](a,x,{...d,...r,...g})}catch(g){this.logger.warn(g)}return p}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const bq=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class Eq extends U0{constructor(e,t,i){var s,o;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=ys.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,i,r.backend,r)}queueLoad(e,t,i,r){const s={},o={},a={},l={};return e.forEach(c=>{let d=!0;t.forEach(f=>{const p=`${c}|${f}`;!i.reload&&this.store.hasResourceBundle(c,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,d=!1,o[p]===void 0&&(o[p]=!0),s[p]===void 0&&(s[p]=!0),l[f]===void 0&&(l[f]=!0)))}),d||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,i){const r=e.split("|"),s=r[0],o=r[1];t&&this.emit("failedLoading",s,o,t),!t&&i&&this.store.addResourceBundle(s,o,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const a={};this.queue.forEach(l=>{hq(l.loaded,[s],o),bq(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const d=l.loaded[c];d.length&&d.forEach(f=>{a[c][f]===void 0&&(a[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:s,callback:o});return}this.readingCalls++;const a=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&d&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,r+1,s*2,o)},s);return}o(c,d)},l=this.backend[i].bind(this.backend);if(l.length===2){try{const c=l(e,t);c&&typeof c.then=="function"?c.then(d=>a(null,d)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,t,a)}prepareLoading(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();ft(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ft(t)&&(t=[t]);const s=this.queueLoad(e,t,i,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),r=i[0],s=i[1];this.read(r,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${t}loading namespace ${s} for language ${r} failed`,o),!o&&a&&this.logger.log(`${t}loaded namespace ${s} for language ${r}`,a),this.loaded(e,o,a)})}saveMissing(e,t,i,r,s){var l,c,d,f,p;let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if((p=this.backend)!=null&&p.create){const g={...o,isUpdate:s},x=this.backend.create.bind(this.backend);if(x.length<6)try{let w;x.length===5?w=x(e,t,i,r,g):w=x(e,t,i,r),w&&typeof w.then=="function"?w.then(A=>a(null,A)).catch(a):a(null,w)}catch(w){a(w)}else x(e,t,i,r,a,g)}!e||!e[0]||this.store.addResource(e[0],t,i,r)}}}const QT=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),ft(n[1])&&(e.defaultValue=n[1]),ft(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),$T=n=>{var e,t;return ft(n.ns)&&(n.ns=[n.ns]),ft(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),ft(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Dm=()=>{},Cq=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Uh extends U0{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=$T(e),this.services={},this.logger=ys,this.modules={external:[]},Cq(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),t.defaultNS==null&&t.ns&&(ft(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=QT();this.options={...r,...this.options,...$T(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?ys.init(s(this.modules.logger),this.options):ys.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=Mq;const f=new JT(this.options);this.store=new VT(this.options.resources,this.options);const p=this.services;p.logger=ys,p.resourceStore=this.store,p.languageUtils=f,p.pluralResolver=new _q(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(p.formatter=s(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new wq(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new Eq(s(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(g){for(var x=arguments.length,w=new Array(x>1?x-1:0),A=1;A<x;A++)w[A-1]=arguments[A];e.emit(g,...w)}),this.modules.languageDetector&&(p.languageDetector=s(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=s(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new Kg(this.services,this.options),this.translator.on("*",function(g){for(var x=arguments.length,w=new Array(x>1?x-1:0),A=1;A<x;A++)w[A-1]=arguments[A];e.emit(g,...w)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Dm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const l=Ld(),c=()=>{const d=(f,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(p),i(f,p)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e){var s,o;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dm;const r=ft(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if((r==null?void 0:r.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};r?l(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(c)})}else i(null)}reloadResources(e,t,i){const r=Ld();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=Dm),this.services.backendConnector.reload(e,t,s=>{r.resolve(),i(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&UD.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const r=Ld();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?this.isLanguageChangingTo===e&&(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve(function(){return i.t(...arguments)}),t&&t(l,function(){return i.t(...arguments)})},a=l=>{var f,p;!e&&!l&&this.services.languageDetector&&(l=[]);const c=ft(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(ft(l)?[l]:l);d&&(this.language||s(d),this.translator.language||this.translator.changeLanguage(d),(p=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||p.call(f,d)),this.loadResources(d,g=>{o(g,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,t,i){var r=this;const s=function(o,a){let l;if(typeof a!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),f=2;f<c;f++)d[f-2]=arguments[f];l=r.options.overloadTranslationOptionHandler([o,a].concat(d))}else l={...a};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||i||s.keyPrefix);const p=r.options.keySeparator||".";let g;return l.keyPrefix&&Array.isArray(o)?g=o.map(x=>`${l.keyPrefix}${p}${x}`):g=l.keyPrefix?`${l.keyPrefix}${p}${o}`:o,r.t(g,l)};return ft(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=i,s}t(){var r;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(r=this.translator)==null?void 0:r.translate(...t)}exists(){var r;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(t.precheck){const a=t.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(i,e)&&(!r||o(s,e)))}loadNamespaces(e,t){const i=Ld();return this.options.ns?(ft(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),t&&t(r)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=Ld();ft(e)&&(e=[e]);const r=this.options.preload||[],s=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=r.concat(s),this.loadResources(o=>{i.resolve(),t&&t(o)}),i):(t&&t(),Promise.resolve())}dir(e){var r,s;if(e||(e=this.resolvedLanguage||(((r=this.languages)==null?void 0:r.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=((s=this.services)==null?void 0:s.languageUtils)||new JT(QT());return t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Uh(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dm;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},s=new Uh(r);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i){const a=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((d,f)=>(d[f]={...l[c][f]},d),l[c]),l),{});s.store=new VT(a,r),s.services.resourceStore=s.store}return s.translator=new Kg(s.services,r),s.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];s.emit(a,...c)}),s.init(r,t),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Si=Uh.createInstance();Si.createInstance=Uh.createInstance;Si.createInstance;Si.dir;Si.init;Si.loadResources;Si.reloadResources;Si.use;Si.changeLanguage;Si.getFixedT;Si.t;Si.exists;Si.setDefaultNamespace;Si.hasLoadedNamespace;Si.loadNamespaces;Si.loadLanguages;const{slice:Tq,forEach:Rq}=[];function Pq(n){return Rq.call(Tq.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function Lq(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const ZT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Nq=function(n,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(e);let s=`${n}=${r}`;if(i.maxAge>0){const o=i.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(o)}`}if(i.domain){if(!ZT.test(i.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${i.domain}`}if(i.path){if(!ZT.test(i.path))throw new TypeError("option path is invalid");s+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(s+="; HttpOnly"),i.secure&&(s+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(s+="; Partitioned"),s},e3={create(n,e,t,i){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+t*60*1e3)),i&&(r.domain=i),document.cookie=Nq(n,encodeURIComponent(e),r)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let i=0;i<t.length;i++){let r=t[i];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return r.substring(e.length,r.length)}return null},remove(n){this.create(n,"",-1)}};var Bq={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return e3.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:i,cookieDomain:r,cookieOptions:s}=e;t&&typeof document<"u"&&e3.create(t,n,i,r,s)}},Dq={name:"querystring",lookup(n){var i;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&((i=window.location.hash)==null?void 0:i.indexOf("?"))>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const o=r.substring(1).split("&");for(let a=0;a<o.length;a++){const l=o[a].indexOf("=");l>0&&o[a].substring(0,l)===e&&(t=o[a].substring(l+1))}}return t}};let Ec=null;const t3=()=>{if(Ec!==null)return Ec;try{if(Ec=typeof window<"u"&&window.localStorage!==null,!Ec)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Ec=!1}return Ec};var Iq={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&t3())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&t3()&&window.localStorage.setItem(t,n)}};let Cc=null;const n3=()=>{if(Cc!==null)return Cc;try{if(Cc=typeof window<"u"&&window.sessionStorage!==null,!Cc)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Cc=!1}return Cc};var kq={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&n3())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&n3()&&window.sessionStorage.setItem(t,n)}},Fq={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:i,language:r}=navigator;if(t)for(let s=0;s<t.length;s++)e.push(t[s]);i&&e.push(i),r&&e.push(r)}return e.length>0?e:void 0}},Oq={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(t=i.getAttribute("lang")),t}},Uq={name:"path",lookup(n){var r;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(r=t[typeof e=="number"?e:0])==null?void 0:r.replace("/",""):void 0}},jq={name:"subdomain",lookup(n){var r,s;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,i=typeof window<"u"&&((s=(r=window.location)==null?void 0:r.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[t]}};let jD=!1;try{document.cookie,jD=!0}catch{}const zD=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];jD||zD.splice(1,1);const zq=()=>({order:zD,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class HD{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Pq(t,this.options||{},zq()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(Bq),this.addDetector(Dq),this.addDetector(Iq),this.addDetector(kq),this.addDetector(Fq),this.addDetector(Oq),this.addDetector(Uq),this.addDetector(jq)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(i=>{if(this.detectors[i]){let r=this.detectors[i].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(t=t.concat(r))}}),t=t.filter(i=>i!=null&&!Lq(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}HD.type="languageDetector";const Hq={en:{translation:{navbar:{carpool:"Carpool",services:"Services",tourism:"Tourism",contact:"Contact"},carpool:{title:"Carpool",subtitle:"Premium Vehicles",description:"Our premium carpool service offers comfortable and reliable transportation options for groups of all sizes. Whether you're traveling for business or leisure, our fleet of luxury vehicles ensures a smooth and enjoyable journey. We prioritize safety, punctuality, and customer satisfaction with every ride.",viewDetails:"Click to view details","mercedes-sclass":"Mercedes S-Class","bmw-7":"BMW 7","mercedes-vclass":"Mercedes V-Class"},services:{title:"Our Services",subtitle:"Premium Transportation",chauffeurservice:"Chauffeur Service",airporttransfer:"Airport Transfer","vip-service":"VIP Service"},tourism:{title:"Tourism Packages",subtitle:"Luxury Travel Experiences",description:"Discover our exclusive tourism packages designed to provide unforgettable experiences. Each package includes luxury transportation in our premium vehicles, expert guides, and carefully selected accommodations for your comfort.",exploreCategories:"Explore Our Tourism Categories:","beliebte-zielorte":"Popular Destinations","beliebte-zielorte-desc":"Discover Germany's most beloved tourist attractions and landmarks.",shoppingtours:"Shopping Tours","shoppingtours-desc":"Exclusive shopping experiences at Germany's finest retail destinations.",freizeitparks:"Theme Parks","freizeitparks-desc":"Visit Germany's best theme parks and amusement attractions.",bauernhofe:"Farms","bauernhofe-desc":"Experience authentic German farm life and rural traditions."},hero:{title:"PREMIUM CHAUFFEUR SERVICE",subtitle:"Ihr Partner für exklusiven Limousinenservice",typewriter:["Luxus Limousinenservice","Business Chauffeur Service","Executive Transfer Service","VIP Chauffeur Service","Airport Transfer Service","Mercedes S-Klasse mit Fahrer","24h Premium Fahrservice"]},footer:{copyright:"© {{year}} Premium Chauffeur Services. All rights reserved.",address:"Address",phone:"Phone",email:"Email",quickLinks:"Quick Links",legal:"Legal",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",cookiePolicy:"Cookie Policy",imprint:"Imprint",companyInfo:"Premium transportation services for discerning clients."},contact:{title:"Contact Us",subtitle:"Get in touch",name:"Your Name",email:"Your Email",message:"Your Message",send:"Send",sending:"Sending...",success:"Thank you! We will get back to you as soon as possible.",error:"Something went wrong. Please try again."},common:{readMore:"Read More",learnMore:"Learn More",bookNow:"Book Now",bookTour:"Book This Tour",ourVehicles:"Our Vehicles",clickToView:"Click to view details",planCustomTour:"Plan Your Custom Tour"},booking:{title:"Booking Request",step1:"Step 1: Travel Details",step2:"Step 2: Vehicle & Extras",step3:"Step 3: Personal Details",step4:"Confirmation",startLocation:"Start Location",startLocationPlaceholder:"e.g. Berlin Central Station",service:"Service",servicePlaceholder:"Please select a service",otherService:"Other",customServicePlaceholder:"Please enter your desired service",destination:"Destination",destinationPlaceholder:"Please select a destination",otherDestination:"Other",customDestinationPlaceholder:"Please enter your destination",date:"Date",time:"Time",duration:"Duration (Days)",day:"Day",days:"Days",moreThan7Days:"More than 7 days",passengers:"Number of Passengers",person:"Person",people:"People",moreThan8People:"More than 8 people",next:"Next",back:"Back",vehicleType:"Vehicle Type",upTo3People:"Up to 3 people",premiumVehicle:"Premium vehicle",upTo8People:"Up to 8 people",extras:"Extras",wifi:"WiFi in vehicle",wheelchair:"Wheelchair",childSeat:"Child seat",tourGuide:"Tour guide",name:"Name",namePlaceholder:"Your full name",email:"Email",emailPlaceholder:"Your email address",phone:"Phone",phonePlaceholder:"Your phone number",notes:"Notes",notesPlaceholder:"Additional information or requests for your tour",privacyPolicy:"I have read and accept the",privacyPolicyLink:"privacy policy",requestTour:"Request Tour",successMessage:"Your request has been successfully sent!",errorMessage:"There was an error submitting your booking. Please try again later."},vehicles:{"mercedes-sclass":{title:"Mercedes S-Class",subtitle:"Premium Vehicle","cta-title":"Ready to Experience Luxury?","cta-description":"Book your premium Mercedes S-Class chauffeur service today and enjoy the ultimate in comfort and style."},"bmw-7":{title:"BMW 7 Series",subtitle:"Premium Vehicle","cta-title":"Experience Ultimate Driving Luxury","cta-description":"Book your premium BMW 7 Series chauffeur service today and enjoy the perfect blend of performance and luxury."},"mercedes-vclass":{title:"Mercedes V-Class",subtitle:"Premium Vehicle","cta-title":"Perfect for Group Travel","cta-description":"Book your premium Mercedes V-Class chauffeur service today and enjoy spacious luxury for your group or family."}},"service-details":{executive:{title:"Executive Chauffeur Service",company:"Premium Chauffeur | Business Travel",date:"Available 24/7",points:["Professional chauffeur service for executives and business professionals with luxury Mercedes S-Class and BMW 7 Series vehicles.","Discreet, reliable transportation with experienced drivers who understand the needs of corporate clients.","Complimentary amenities including Wi-Fi, refreshments, and daily newspapers for productive travel time."]},airport:{title:"Airport Transfer Service",company:"Premium Chauffeur | Airport Transfers",date:"All Major Airports",points:["Seamless airport transfers with flight monitoring and adjusted pickup times for early arrivals or delays.","Meet and greet service with luggage assistance and priority pickup at all major European airports.","Comfortable, stress-free transportation in luxury vehicles after long flights with 60 minutes of complimentary waiting time."]},group:{title:"Group Transportation",company:"Premium Chauffeur | Group Travel",date:"Up to 7 Passengers",points:["Spacious Mercedes V-Class vehicles for comfortable group transportation with ample luggage space.","Perfect for family vacations, corporate teams, or small group tours with personalized service.","Wheelchair accessible options available with professional assistance for passengers with mobility needs."]}},"service-pages":{common:{"our-services":"Our Services","book-now":"Book Now",inquire:"Inquire About Service","service-features":"Service Features:","service-options":"Service Options:"},"chauffeur-service":{title:"Chauffeur Service",description:"Experience the ultimate in luxury transportation with our premium chauffeur service. Our professional drivers are dedicated to providing exceptional service, ensuring your journey is comfortable, safe, and tailored to your specific needs.","experience-title":"Our Premium Chauffeur Experience:","professional-chauffeurs":"Professional Chauffeurs","professional-chauffeurs-desc":"Our uniformed chauffeurs provide exceptional service with attention to detail.","luxury-vehicles":"Luxury Vehicles","luxury-vehicles-desc":"Travel in comfort with our premium vehicles equipped with amenities for a relaxing journey.","personalized-service":"Personalized Service","personalized-service-desc":"Customized transportation solutions tailored to your specific requirements and preferences.","business-travel":"Business Travel","business-travel-desc":"Perfect for executives and business professionals. Our chauffeurs ensure you arrive at meetings, conferences, and corporate events on time and in style.","special-occasions":"Special Occasions","special-occasions-desc":"Make your special day even more memorable with our luxury chauffeur service for weddings, anniversaries, and other celebrations.","airport-transfers":"Airport Transfers","airport-transfers-desc":"Stress-free transportation to and from airports with flight monitoring and adjusted pickup times for early arrivals or delays.","city-tours":"City Tours","city-tours-desc":"Explore cities with a knowledgeable chauffeur who can provide insights and recommendations for an enhanced experience.","vip-service":"VIP Service","vip-service-desc":"Exclusive service for VIPs with enhanced privacy, security, and personalized attention to detail."},"airport-transfer":{title:"Airport Transfer",description:"Start and end your journey in comfort and style with our premium airport transfer service. We provide seamless transportation to and from airports, ensuring a stress-free travel experience with our professional chauffeurs and luxury vehicles.",features:["Flight monitoring to adjust for early arrivals or delays","Meet and greet service with personalized welcome sign","Assistance with luggage handling","Comfortable, climate-controlled luxury vehicles","Complimentary waiting time (45 minutes for domestic, 60 minutes for international flights)"],"services-title":"Premium Airport Transfer Services:","meet-greet":"Meet & Greet","meet-greet-desc":"Our chauffeurs will meet you at the arrivals hall with a personalized welcome sign.","luxury-vehicles":"Luxury Vehicles","luxury-vehicles-desc":"Travel in comfort with our premium vehicles equipped with amenities for a relaxing journey.","vip-terminal":"VIP Terminal Access","vip-terminal-desc":"Enjoy expedited service with our VIP terminal access at select airports.","airports-title":"Airports We Serve:","major-airports":"Major International Airports","major-airports-list":["Frankfurt Airport (FRA)","Munich Airport (MUC)","Berlin Brandenburg Airport (BER)","Düsseldorf Airport (DUS)"],"regional-airports":"Regional Airports","regional-airports-list":["Stuttgart Airport (STR)","Cologne Bonn Airport (CGN)","Hamburg Airport (HAM)","Nuremberg Airport (NUE)"],"booking-process":"Booking Process:","booking-steps":["Provide your flight details and pickup/drop-off locations","Select your preferred vehicle","Receive confirmation with chauffeur details","Enjoy your stress-free airport transfer"]},"vip-service":{title:"VIP Service",description:"Our exclusive VIP service offers the highest level of luxury, privacy, and security for discerning clients. From celebrities and executives to diplomats and high-profile individuals, we provide discreet, personalized transportation with enhanced security measures and premium amenities.","services-title":"Exclusive VIP Services:",security:"Enhanced Security","security-desc":"Comprehensive security protocols for high-profile clients requiring discretion and protection.",privacy:"Complete Privacy","privacy-desc":"Tinted windows, privacy partitions, and confidentiality agreements ensure your journey remains private.",luxury:"Ultimate Luxury","luxury-desc":"Premium vehicles with exclusive amenities tailored to your preferences for an unparalleled experience.","options-title":"VIP Service Options:",protection:"Executive Protection","protection-desc":"Comprehensive security service with trained personnel and secure vehicles for high-profile clients requiring enhanced protection.",celebrity:"Celebrity Transportation","celebrity-desc":"Discreet, secure transportation for celebrities and public figures with privacy and security as top priorities.",features:["Professionally trained chauffeurs with security expertise","Secure vehicle fleet with enhanced safety features","Confidentiality agreements and NDAs for all staff","Advanced route planning to avoid public exposure","Vehicles with privacy glass and enhanced security features"]}},legal:{"privacy-policy":{title:"Privacy Policy",subtitle:"Legal Information"}},"tourism-pages":{"popular-destinations":{title:"Popular Destinations",subtitle:"Tourism Services",description:"Discover Germany's most beloved destinations with our premium transportation services. Our expert chauffeurs will take you to iconic landmarks, historical sites, and breathtaking natural wonders in comfort and style. Customize your journey or choose from our curated selection of popular destinations.","custom-tours":"Custom Tours:","custom-tours-description":"Can't find what you're looking for? We specialize in creating custom tours tailored to your interests and preferences. Contact us to design your perfect German adventure with a luxury transportation experience.",destinations:{munich:{name:"Munich",description:"Bavarian metropolis with a view of the Alps, the Frauenkirche with characteristic onion domes, and the English Garden, one of the largest urban parks in the world."},hamburg:{name:"Hamburg",description:"The Hanseatic city impresses with its maritime flair, the Elbphilharmonie, and the UNESCO World Heritage Speicherstadt with neo-Gothic brick buildings and canals."},frankfurt:{name:"Frankfurt am Main",description:"Impressive skyline and international flair characterize the banking metropolis with contrasts between modern skyscrapers and historical treasures."},heidelberg:{name:"Heidelberg",description:"Romantic university town with a picturesque old town and famous castle that majestically towers over the city."},"black-forest":{name:"Black Forest",description:"Picturesque region with dense forests, traditional villages, cuckoo clocks, and the Feldberg (1,493m), the highest mountain in the low mountain range."},"baden-baden":{name:"Baden-Baden",description:"Elegant spa town with thermal baths, world-famous casino, and the Lichtentaler Allee, a 2.3 km long park along the Oos River."}}},"shopping-tours":{title:"Shopping Tours",subtitle:"Tourism Services",description:"Experience exclusive shopping adventures with our premium chauffeur service. Visit Europe's most prestigious outlet villages and shopping destinations in comfort and style. Our professional drivers will handle all logistics while you focus on finding the perfect items.","custom-tours":"Custom Shopping Experiences:","custom-tours-description":"Looking for a personalized shopping experience? We can create custom shopping tours based on your preferences, whether you're interested in luxury brands, local boutiques, or specific items.",destinations:{"la-vallee":{name:"La Vallée Village (Paris)",description:"Luxurious outlet near Disneyland Paris with over 110 designer brands including Armani, Burberry, and Gucci."},serravalle:{name:"Serravalle Designer Outlet (Milan)",description:"Italy's largest outlet center with over 300 luxury brands in typical Italian style."},metzingen:{name:"Outletcity Metzingen",description:"Europe's largest outlet and hometown of Hugo Boss with the world's largest BOSS outlet."},wertheim:{name:"Wertheim Village",description:"Idyllically located on the Main river with over 110 boutiques of international brands in traditional Franconian village architecture."},roermond:{name:"Roermond Designer Outlet (Netherlands)",description:"One of the largest outlets in the Benelux countries with over 150 stores in a picturesque Dutch village setting."},ingolstadt:{name:"Ingolstadt Village",description:"Exclusive outlet with over 110 boutiques of international designers in a Bavarian ambiance, just 50 minutes from Munich."}}},"theme-parks":{title:"Theme Parks",subtitle:"Tourism Services",description:"Enjoy a stress-free visit to Europe's best theme parks with our premium transportation service. Our professional chauffeurs will handle all driving and parking logistics, allowing you to focus on creating unforgettable memories with your family or friends.","custom-tours":"Multi-Park Tours:","custom-tours-description":"Looking to experience multiple theme parks during your stay? We offer custom multi-park tour packages with luxury transportation between destinations, premium accommodations, and personalized itineraries. Contact us to create your perfect amusement park adventure.",parks:{disneyland:{name:"Disneyland Paris (France)",description:"Europe's largest theme park spans 2,100 hectares with Disneyland Park and Walt Disney Studios Park."},"europa-park":{name:"Europa-Park (Rust)",description:"Multiple-time winner of 'Best Theme Park in the World', featuring 15 European themed areas with country-specific architecture."},phantasialand:{name:"Phantasialand (Brühl)",description:"Known for innovative roller coasters and themed areas like 'Klugheim' with detailed design."},"heide-park":{name:"Heide Park Resort (Soltau)",description:"Northern Germany's largest theme park with legendary attractions and themed accommodations."},legoland:{name:"LEGOLAND Deutschland (Günzburg)",description:"Ideal for families with younger children with over 60 attractions in eight themed areas."},"movie-park":{name:"Movie Park Germany (Bottrop)",description:"Film-themed park with Hollywood flair and six themed areas such as 'Hollywood Street Set' and 'Nickland'."}}},farms:{title:"Farms",subtitle:"Tourism Services",description:"Discover authentic rural experiences at Germany's most charming farms with our premium transportation service. Our professional chauffeurs will take you on a comfortable journey to experience traditional farming, local produce, and the peaceful countryside.","custom-tours":"Custom Farm Tours:","custom-tours-description":"Interested in specific agricultural experiences? We can arrange custom farm tours focusing on vineyards, organic farming, animal experiences, or traditional crafts. Contact us to plan your perfect rural adventure.",farms:{"ferienhof-konig":{name:"Ferienhof König (Baden-Württemberg)",description:"Award-winning organic farm with a view of Lake Constance and spacious grounds."},"wohlfuhlhof-zeh":{name:"Wohlfühlhof Zeh e.V. (Allgäu)",description:"Therapeutic farm with a special focus on animal-assisted therapies for children."},"staller-ferienhof":{name:"Staller Ferienhof",description:"Voted Germany's most popular holiday farm in 2017 and 2020, with traditional Bavarian style."},huberhof:{name:"Ferienparadies Huberhof (Chiemgau)",description:"Organic farm with diverse offerings for families and its own cheese and sausage production."},marchenbauernhof:{name:"Märchenbauernhof Weidelshof (Hessen)",description:"Particularly family-friendly farm with fairy-tale design and themed vacation apartments."},"biohof-schlossberg":{name:"Biohof Schlossberg (Bayern)",description:"Traditional farm focusing on ecological agriculture and direct marketing of regional products."}}}},"tourism-details":{popular_cities:{title:"Popular Destinations",subtitle:"Premium Chauffeur | Tourism Services",points:["Discover Germany's most beloved tourist attractions and landmarks with our luxury transportation services.","Visit iconic cities like Berlin, Munich, Frankfurt, and Hamburg with a professional chauffeur.","Customize your itinerary to include historical sites, cultural attractions, and natural wonders."]},shopping_tours:{title:"Shopping Tours",subtitle:"Premium Chauffeur | Tourism Services",points:["Exclusive shopping experiences at Germany's finest retail destinations with VIP transportation.","Visit premium outlet villages, luxury department stores, and boutique shopping districts.","Enjoy door-to-door service with a professional chauffeur who handles all logistics and packages."]},theme_parks:{title:"Theme Parks",subtitle:"Premium Chauffeur | Tourism Services",points:["Visit Germany's best theme parks and amusement attractions with comfortable luxury transportation.","Skip the parking hassles and enjoy direct drop-off and pick-up service at the entrance.","Perfect for families with children, with child seats available upon request."]},farms:{title:"Farm Experiences",subtitle:"Premium Chauffeur | Tourism Services",points:["Experience authentic German farm life and rural traditions with our guided farm tours.","Visit traditional farms, vineyards, and countryside attractions with luxury transportation.","Enjoy farm-to-table dining experiences and local product shopping with convenient transportation."]}}}},ar:{translation:{navbar:{carpool:"أسطول السيارات",services:"الخدمات",tourism:"السياحة",contact:"اتصل بنا"},carpool:{title:"أسطولنا الفاخر",subtitle:"سيارات فاخرة",description:"توفر خدمة السائق الفاخر لدينا خيارات نقل مريحة وموثوقة لمجموعات من جميع الأحجام. سواء كنت مسافرًا للعمل أو للترفيه، فإن أسطولنا من السيارات الفاخرة يضمن رحلة سلسة وممتعة. نحن نعطي الأولوية للسلامة والدقة في المواعيد ورضا العملاء في كل رحلة.",viewDetails:"انقر لعرض التفاصيل","mercedes-sclass":"مرسيدس الفئة S","bmw-7":"بي إم دبليو الفئة 7","mercedes-vclass":"مرسيدس الفئة V"},services:{title:"خدماتنا المميزة",subtitle:"خدمات نقل فاخرة",description:"نقدم خدمات نقل فاخرة مصممة خصيصًا لتلبية احتياجاتك. من خدمة السائق الخاص إلى خدمة المطار وخدمة كبار الشخصيات، نحن نضمن تجربة سفر استثنائية.",chauffeurservice:"خدمة سائق فاخر",airporttransfer:"خدمة نقل من المطار","vip-service":"خدمة نقل كبار الشخصيات"},tourism:{title:"خدمات السياحة",subtitle:"استكشف بأناقة",description:"اكتشف باقات السياحة الحصرية المصممة لتوفير تجارب لا تُنسى. تتضمن كل حزمة نقلًا فاخرًا في سياراتنا الفاخرة ومرشدين خبراء وأماكن إقامة مختارة بعناية لراحتك.",exploreCategories:"استكشف فئات السياحة لدينا:","beliebte-zielorte":"الوجهات الشهيرة","beliebte-zielorte-desc":"اكتشف أكثر المعالم السياحية شهرة في أوروبا مع سائق يتحدث العربية",shoppingtours:"جولات التسوق الفاخرة","shoppingtours-desc":"تجارب تسوق حصرية في أفضل وجهات التسوق الفاخرة في أوروبا",freizeitparks:"مدن الملاهي والترفيه","freizeitparks-desc":"زيارة أفضل مدن الملاهي في أوروبا مع سائق خاص",bauernhofe:"جولات ريفية","bauernhofe-desc":"تجربة حياة المزرعة الأوروبية الأصيلة والتقاليد الريفية مع سائق يتحدث العربية"},hero:{title:"خدمة سائق فاخر",subtitle:"شريكك للسفر الفاخر في أوروبا",typewriter:["خدمة سائق فاخر في باريس","سائق فاخر في ميونخ ألمانيا","خدمة نقل كبار الشخصيات في لندن","سائق خاص في سويسرا","خدمة نقل من مطار فيينا","سائق خلال أسبوع الموضة في ميلانو","سائق لجولة في مدينة برشلونة"]},footer:{copyright:"© {{year}} خدمات السائق الفاخر. جميع الحقوق محفوظة.",address:"العنوان",phone:"الهاتف",email:"البريد الإلكتروني",quickLinks:"روابط سريعة",legal:"قانوني",privacyPolicy:"سياسة الخصوصية",termsOfService:"شروط الخدمة",cookiePolicy:"سياسة ملفات تعريف الارتباط",imprint:"بصمة",companyInfo:"خدمات نقل فاخرة للعملاء المميزين."},contact:{title:"اتصل بنا",subtitle:"تواصل معنا",name:"الاسم",email:"البريد الإلكتروني",message:"الرسالة",send:"إرسال",sending:"جاري الإرسال...",success:"شكرا لك! سنعاود الاتصال بك في أقرب وقت ممكن.",error:"حدث خطأ ما. يرجى المحاولة مرة أخرى."},common:{readMore:"اقرأ المزيد",learnMore:"تعرف على المزيد",bookNow:"احجز الآن",bookTour:"احجز هذه الجولة",ourVehicles:"سياراتنا",clickToView:"انقر لعرض التفاصيل",planCustomTour:"خطط لجولتك المخصصة"},booking:{title:"طلب حجز",step1:"الخطوة 1: تفاصيل الرحلة",step2:"الخطوة 2: المركبة والإضافات",step3:"الخطوة 3: البيانات الشخصية",step4:"التأكيد",startLocation:"موقع البداية",startLocationPlaceholder:"مثال: محطة برلين المركزية",service:"الخدمة",servicePlaceholder:"الرجاء اختيار خدمة",otherService:"أخرى",customServicePlaceholder:"الرجاء إدخال الخدمة المطلوبة",destination:"الوجهة",destinationPlaceholder:"الرجاء اختيار وجهة",otherDestination:"أخرى",customDestinationPlaceholder:"الرجاء إدخال وجهتك",date:"التاريخ",time:"الوقت",duration:"المدة (أيام)",day:"يوم",days:"أيام",moreThan7Days:"أكثر من 7 أيام",passengers:"عدد الركاب",person:"شخص",people:"أشخاص",moreThan8People:"أكثر من 8 أشخاص",next:"التالي",back:"رجوع",vehicleType:"نوع المركبة",upTo3People:"حتى 3 أشخاص",premiumVehicle:"مركبة فاخرة",upTo8People:"حتى 8 أشخاص",extras:"إضافات",wifi:"واي فاي في المركبة",wheelchair:"كرسي متحرك",childSeat:"مقعد أطفال",tourGuide:"مرشد سياحي",name:"الاسم",namePlaceholder:"اسمك الكامل",email:"البريد الإلكتروني",emailPlaceholder:"عنوان بريدك الإلكتروني",phone:"الهاتف",phonePlaceholder:"رقم هاتفك",notes:"ملاحظات",notesPlaceholder:"معلومات إضافية أو طلبات لجولتك",privacyPolicy:"لقد قرأت وأوافق على",privacyPolicyLink:"سياسة الخصوصية",requestTour:"طلب جولة",successMessage:"تم إرسال طلبك بنجاح!",errorMessage:"حدث خطأ أثناء إرسال الحجز الخاص بك. يرجى المحاولة مرة أخرى لاحقًا."},vehicles:{"mercedes-sclass":{title:"مرسيدس الفئة S",subtitle:"سيارة فاخرة","cta-title":"هل أنت مستعد لتجربة الفخامة؟","cta-description":"احجز خدمة السائق الخاص لمرسيدس الفئة S الفاخرة اليوم واستمتع بأقصى درجات الراحة والأناقة."},"bmw-7":{title:"بي إم دبليو 7",subtitle:"سيارة فاخرة","cta-title":"جرب فخامة القيادة المطلقة","cta-description":"احجز خدمة السائق الخاص لسيارة بي إم دبليو الفئة 7 الفاخرة اليوم واستمتع بمزيج مثالي من الأداء والفخامة."},"mercedes-vclass":{title:"مرسيدس الفئة V",subtitle:"سيارة فاخرة","cta-title":"مثالية لسفر المجموعات","cta-description":"احجز خدمة السائق الخاص لمرسيدس الفئة V الفاخرة اليوم واستمتع بالفخامة الواسعة لمجموعتك أو عائلتك."}},"service-details":{executive:{title:"خدمة السائق التنفيذي",company:"سائق فاخر | سفر الأعمال",date:"متاح على مدار الساعة",points:["خدمة سائق محترفة للمديرين التنفيذيين ومحترفي الأعمال مع سيارات مرسيدس الفئة S وبي إم دبليو الفئة 7 الفاخرة.","نقل متميز وموثوق به مع سائقين ذوي خبرة يفهمون احتياجات عملاء الشركات.","وسائل راحة مجانية تشمل واي فاي وتقديم المرطبات والصحف اليومية لوقت سفر منتج."]},airport:{title:"خدمة النقل من وإلى المطار",company:"سائق فاخر | نقل المطار",date:"جميع المطارات الرئيسية",points:["نقل سلس من وإلى المطار مع مراقبة الرحلات وتعديل أوقات الاستلام للوصول المبكر أو التأخير.","خدمة الاستقبال والترحيب مع المساعدة في حمل الأمتعة والاستلام ذو الأولوية في جميع المطارات الأوروبية الرئيسية.","نقل مريح وخالي من التوتر في سيارات فاخرة بعد رحلات طويلة مع 60 دقيقة من وقت الانتظار المجاني."]},group:{title:"نقل المجموعات",company:"سائق فاخر | سفر المجموعات",date:"حتى 7 ركاب",points:["سيارات مرسيدس الفئة V الواسعة للنقل المريح للمجموعات مع مساحة كبيرة للأمتعة.","مثالية للإجازات العائلية أو فرق الشركات أو جولات المجموعات الصغيرة مع خدمة شخصية.","خيارات متاحة للكراسي المتحركة مع مساعدة احترافية للركاب ذوي احتياجات التنقل."]}},"service-pages":{common:{"our-services":"خدماتنا","book-now":"احجز الآن",inquire:"استفسر عن الخدمة","service-features":"ميزات الخدمة:","service-options":"خيارات الخدمة:"},"chauffeur-service":{title:"خدمة السائق الخاص",description:"استمتع بأقصى درجات النقل الفاخر مع خدمة السائق الخاص المميزة لدينا. يكرس سائقونا المحترفون أنفسهم لتقديم خدمة استثنائية، مما يضمن أن تكون رحلتك مريحة وآمنة ومصممة خصيصًا لتلبية احتياجاتك الخاصة.","experience-title":"تجربة السائق الخاص الفاخرة لدينا:","professional-chauffeurs":"سائقون محترفون","professional-chauffeurs-desc":"يقدم سائقونا بالزي الرسمي خدمة استثنائية مع الاهتمام بالتفاصيل.","luxury-vehicles":"سيارات فاخرة","luxury-vehicles-desc":"سافر براحة مع سياراتنا الفاخرة المجهزة بوسائل الراحة لرحلة مريحة.","personalized-service":"خدمة شخصية","personalized-service-desc":"حلول نقل مخصصة مصممة خصيصًا لمتطلباتك وتفضيلاتك الخاصة.","business-travel":"سفر الأعمال","business-travel-desc":"مثالية للمديرين التنفيذيين ومحترفي الأعمال. يضمن سائقونا وصولك إلى الاجتماعات والمؤتمرات وفعاليات الشركات في الوقت المحدد وبأناقة.","special-occasions":"المناسبات الخاصة","special-occasions-desc":"اجعل يومك الخاص أكثر تميزًا مع خدمة السائق الفاخرة لدينا للأعراس والذكرى السنوية والاحتفالات الأخرى.","airport-transfers":"خدمة المطار","airport-transfers-desc":"نقل خالٍ من التوتر من وإلى المطارات مع مراقبة الرحلات وتعديل أوقات الاستلام للوصول المبكر أو التأخير.","city-tours":"جولات المدينة","city-tours-desc":"استكشف المدن مع سائق مطلع يمكنه تقديم رؤى وتوصيات لتجربة معززة.","vip-service":"خدمة كبار الشخصيات","vip-service-desc":"خدمة حصرية لكبار الشخصيات مع تعزيز الخصوصية والأمان والاهتمام الشخصي بالتفاصيل."},"airport-transfer":{title:"خدمة المطار",description:"ابدأ رحلتك وانهيها براحة وأناقة مع خدمة نقل المطار الفاخرة لدينا. نحن نوفر نقلًا سلسًا من وإلى المطارات، مما يضمن تجربة سفر خالية من التوتر مع سائقينا المحترفين والسيارات الفاخرة.",features:["مراقبة الرحلات للتكيف مع الوصول المبكر أو التأخير","خدمة الاستقبال والترحيب مع لافتة ترحيب شخصية","المساعدة في حمل الأمتعة","سيارات فاخرة مكيفة ومريحة","وقت انتظار مجاني (45 دقيقة للرحلات الداخلية، 60 دقيقة للرحلات الدولية)"],"services-title":"خدمات نقل المطار الفاخرة:","meet-greet":"استقبال وترحيب","meet-greet-desc":"سيلتقي بك سائقونا في قاعة الوصول مع لافتة ترحيب شخصية.","luxury-vehicles":"سيارات فاخرة","luxury-vehicles-desc":"سافر براحة مع سياراتنا الفاخرة المجهزة بوسائل الراحة لرحلة مريحة.","vip-terminal":"الوصول إلى محطة كبار الشخصيات","vip-terminal-desc":"استمتع بخدمة سريعة مع وصولنا إلى محطة كبار الشخصيات في مطارات مختارة.","airports-title":"المطارات التي نخدمها:","major-airports":"المطارات الدولية الرئيسية","major-airports-list":["مطار فرانكفورت (FRA)","مطار ميونيخ (MUC)","مطار برلين براندنبورغ (BER)","مطار دوسلدورف (DUS)"],"regional-airports":"المطارات الإقليمية","regional-airports-list":["مطار شتوتغارت (STR)","مطار كولونيا بون (CGN)","مطار هامبورغ (HAM)","مطار نورنبرغ (NUE)"],"booking-process":"عملية الحجز:","booking-steps":["قدم تفاصيل رحلتك ومواقع الاستلام/التوصيل","اختر السيارة المفضلة لديك","استلم تأكيدًا مع تفاصيل السائق","استمتع بنقل خالٍ من التوتر من وإلى المطار"]},"vip-service":{title:"خدمة كبار الشخصيات",description:"توفر خدمة كبار الشخصيات الحصرية لدينا أعلى مستويات الفخامة والخصوصية والأمان للعملاء المميزين. من المشاهير والمديرين التنفيذيين إلى الدبلوماسيين والشخصيات البارزة، نحن نقدم نقلًا متميزًا ومخصصًا مع تدابير أمنية معززة ووسائل راحة فاخرة.","services-title":"خدمات كبار الشخصيات الحصرية:",security:"أمان معزز","security-desc":"بروتوكولات أمنية شاملة للعملاء البارزين الذين يتطلبون التمييز والحماية.",privacy:"خصوصية كاملة","privacy-desc":"نوافذ معتمة وحواجز خصوصية واتفاقيات سرية تضمن بقاء رحلتك خاصة.",luxury:"فخامة مطلقة","luxury-desc":"سيارات فاخرة مع وسائل راحة حصرية مصممة وفقًا لتفضيلاتك لتجربة لا مثيل لها.","options-title":"خيارات خدمة كبار الشخصيات:",protection:"حماية تنفيذية","protection-desc":"خدمة أمنية شاملة مع موظفين مدربين وسيارات آمنة للعملاء البارزين الذين يتطلبون حماية معززة.",celebrity:"نقل المشاهير","celebrity-desc":"نقل متميز وآمن للمشاهير والشخصيات العامة مع الخصوصية والأمان كأولويات قصوى.",features:["سائقون مدربون احترافيًا ذوو خبرة أمنية","أسطول سيارات آمن مع ميزات أمان معززة","اتفاقيات سرية واتفاقيات عدم إفشاء لجميع الموظفين","تخطيط متقدم للطرق لتجنب التعرض العام","سيارات بزجاج خصوصية وميزات أمان معززة"]}},legal:{"privacy-policy":{title:"سياسة الخصوصية",subtitle:"معلومات قانونية"}},"tourism-pages":{"popular-destinations":{title:"الوجهات الشهيرة",subtitle:"خدمات السياحة",description:"اكتشف أكثر وجهات ألمانيا شهرة مع خدمات النقل الفاخرة لدينا. سيأخذك سائقونا الخبراء إلى المعالم الشهيرة والمواقع التاريخية والعجائب الطبيعية الخلابة بكل راحة وأناقة. قم بتخصيص رحلتك أو اختر من مجموعتنا المنتقاة من الوجهات الشهيرة.","custom-tours":"جولات مخصصة:","custom-tours-description":"لم تجد ما تبحث عنه؟ نحن متخصصون في إنشاء جولات مخصصة تناسب اهتماماتك وتفضيلاتك. اتصل بنا لتصميم مغامرتك الألمانية المثالية مع تجربة نقل فاخرة.",destinations:{munich:{name:"ميونيخ",description:"عاصمة بافاريا مع إطلالة على جبال الألب، وكنيسة فراونكيرشه ذات القباب البصلية المميزة، وحديقة إنجليش جاردن، واحدة من أكبر الحدائق الحضرية في العالم."},hamburg:{name:"هامبورغ",description:"تبهر مدينة الهانزا بأجوائها البحرية، وقاعة إلبفيلهارموني، ومنطقة شبايخرشتات المدرجة في قائمة اليونسكو للتراث العالمي بمبانيها الطوبية القوطية الجديدة والقنوات."},frankfurt:{name:"فرانكفورت آم ماين",description:"تتميز عاصمة البنوك بأفق مذهل وأجواء دولية مع تناقضات بين ناطحات السحاب الحديثة والكنوز التاريخية."},heidelberg:{name:"هايدلبرغ",description:"مدينة جامعية رومانسية ذات بلدة قديمة خلابة وقلعة شهيرة تطل بشكل مهيب على المدينة."},"black-forest":{name:"الغابة السوداء",description:"منطقة خلابة ذات غابات كثيفة وقرى تقليدية وساعات الوقواق وجبل فيلدبرغ (1,493 متر)، أعلى جبل في سلسلة الجبال المنخفضة."},"baden-baden":{name:"بادن-بادن",description:"مدينة منتجع أنيقة مع حمامات حرارية وكازينو مشهور عالميًا وممشى ليشتنتالر آلي، وهو حديقة يبلغ طولها 2.3 كم على طول نهر أووس."}}},"shopping-tours":{title:"جولات التسوق",subtitle:"خدمات السياحة",description:"استمتع بمغامرات تسوق حصرية مع خدمة السائق الفاخرة لدينا. قم بزيارة أرقى قرى الأوتليت ووجهات التسوق في أوروبا بكل راحة وأناقة. سيتولى سائقونا المحترفون جميع الخدمات اللوجستية بينما تركز أنت على العثور على العناصر المثالية.","custom-tours":"تجارب تسوق مخصصة:","custom-tours-description":"هل تبحث عن تجربة تسوق مخصصة؟ يمكننا إنشاء جولات تسوق مخصصة بناءً على تفضيلاتك، سواء كنت مهتمًا بالعلامات التجارية الفاخرة أو المتاجر المحلية أو عناصر محددة.",destinations:{"la-vallee":{name:"قرية لا فالي (باريس)",description:"منفذ فاخر بالقرب من ديزني لاند باريس مع أكثر من 110 علامة تجارية للمصممين بما في ذلك أرماني وبربري وغوتشي."},serravalle:{name:"سيرافالي ديزاينر أوتلت (ميلان)",description:"أكبر مركز للمنافذ في إيطاليا مع أكثر من 300 علامة تجارية فاخرة بأسلوب إيطالي نموذجي."},metzingen:{name:"أوتلت سيتي ميتزينغن",description:"أكبر منفذ في أوروبا ومسقط رأس هوغو بوس مع أكبر منفذ لبوس في العالم."},wertheim:{name:"قرية فيرتهايم",description:"تقع بشكل خلاب على نهر ماين مع أكثر من 110 بوتيك للعلامات التجارية العالمية في هندسة معمارية تقليدية للقرية الفرانكونية."},roermond:{name:"رورموند ديزاينر أوتلت (هولندا)",description:"واحدة من أكبر المنافذ في دول البنلوكس مع أكثر من 150 متجرًا في إطار قرية هولندية خلابة."},ingolstadt:{name:"قرية إنغولشتات",description:"منفذ حصري مع أكثر من 110 بوتيك للمصممين العالميين في أجواء بافارية، على بعد 50 دقيقة فقط من ميونيخ."}}},"theme-parks":{title:"مدن الملاهي",subtitle:"خدمات السياحة",description:"استمتع بزيارة خالية من التوتر لأفضل مدن الملاهي في أوروبا مع خدمة النقل الفاخرة لدينا. سيتولى سائقونا المحترفون جميع خدمات القيادة وصف السيارات، مما يتيح لك التركيز على إنشاء ذكريات لا تُنسى مع عائلتك أو أصدقائك.","custom-tours":"جولات متعددة المدن:","custom-tours-description":"هل ترغب في تجربة العديد من مدن الملاهي خلال إقامتك؟ نقدم باقات جولات مخصصة متعددة المدن مع نقل فاخر بين الوجهات، وأماكن إقامة فاخرة، وجداول سفر مخصصة. اتصل بنا لإنشاء مغامرة مدينة الملاهي المثالية الخاصة بك.",parks:{disneyland:{name:"ديزني لاند باريس (فرنسا)",description:"أكبر مدينة ملاهي في أوروبا تمتد على مساحة 2,100 هكتار مع ديزني لاند بارك ووالت ديزني ستوديوز بارك."},"europa-park":{name:"يوروبا بارك (روست)",description:"فائز عدة مرات بجائزة 'أفضل مدينة ملاهي في العالم'، تضم 15 منطقة أوروبية مواضيعية مع هندسة معمارية خاصة بكل بلد."},phantasialand:{name:"فانتازيالاند (برول)",description:"معروفة بالأفعوانيات المبتكرة والمناطق المواضيعية مثل 'كلوغهايم' ذات التصميم المفصل."},"heide-park":{name:"هايدي بارك ريزورت (سولتاو)",description:"أكبر مدينة ملاهي في شمال ألمانيا مع مناطق جذب أسطورية وأماكن إقامة مواضيعية."},legoland:{name:"ليغولاند ألمانيا (غونزبورغ)",description:"مثالية للعائلات مع الأطفال الصغار مع أكثر من 60 منطقة جذب في ثمانية مناطق مواضيعية."},"movie-park":{name:"موفي بارك ألمانيا (بوتروب)",description:"مدينة ملاهي ذات طابع سينمائي مع أجواء هوليوود وستة مناطق مواضيعية مثل 'هوليوود ستريت سيت' و'نيكلاند'."}}},farms:{title:"المزارع",subtitle:"خدمات السياحة",description:"اكتشف تجارب ريفية أصيلة في أجمل مزارع ألمانيا مع خدمة النقل الفاخرة لدينا. سيأخذك سائقونا المحترفون في رحلة مريحة لتجربة الزراعة التقليدية والمنتجات المحلية والريف الهادئ.","custom-tours":"جولات مزارع مخصصة:","custom-tours-description":"هل أنت مهتم بتجارب زراعية محددة؟ يمكننا ترتيب جولات مزارع مخصصة تركز على مزارع الكروم، أو الزراعة العضوية، أو تجارب الحيوانات، أو الحرف التقليدية. اتصل بنا لتخطيط مغامرتك الريفية المثالية.",farms:{"ferienhof-konig":{name:"فيرينهوف كونيغ (بادن-فورتمبيرغ)",description:"مزرعة عضوية حائزة على جوائز مع إطلالة على بحيرة كونستانس وأراضي واسعة."},"wohlfuhlhof-zeh":{name:"فولفولهوف زيه (ألغوي)",description:"مزرعة علاجية مع تركيز خاص على العلاجات بمساعدة الحيوانات للأطفال."},"staller-ferienhof":{name:"شتالر فيرينهوف",description:"تم اختيارها كأكثر مزرعة عطلات شعبية في ألمانيا في عامي 2017 و2020، بأسلوب بافاري تقليدي."},huberhof:{name:"فيرينباراديس هوبرهوف (كيمغاو)",description:"مزرعة عضوية مع عروض متنوعة للعائلات وإنتاج خاص للجبن والنقانق."},marchenbauernhof:{name:"مارشينباويرنهوف فايدلسهوف (هيسن)",description:"مزرعة مناسبة للعائلات بشكل خاص مع تصميم خيالي وشقق عطلات ذات طابع مميز."},"biohof-schlossberg":{name:"بيوهوف شلوسبيرغ (بافاريا)",description:"مزرعة تقليدية تركز على الزراعة البيئية والتسويق المباشر للمنتجات الإقليمية."}}}},"tourism-details":{popular_cities:{title:"الوجهات الشهيرة",subtitle:"سائق فاخر | خدمات السياحة",points:["اكتشف أكثر المعالم السياحية والمعالم الأثرية شهرة في أوروبا مع خدمات النقل الفاخرة لدينا.","زيارة المدن الشهيرة مثل برلين وميونيخ وباريس ولندن مع سائق محترف يتحدث العربية.","تخصيص مسار رحلتك لتشمل المواقع التاريخية والمعالم الثقافية والعجائب الطبيعية."]},shopping_tours:{title:"جولات التسوق",subtitle:"سائق فاخر | خدمات السياحة",points:["تجارب تسوق حصرية في أفضل وجهات التجزئة في أوروبا مع خدمة نقل VIP.","زيارة قرى المنافذ الفاخرة ومتاجر الأقسام الفاخرة ومناطق التسوق في البوتيكات.","استمتع بخدمة من الباب إلى الباب مع سائق محترف يتعامل مع جميع الخدمات اللوجستية والحقائب."]},theme_parks:{title:"مدن الملاهي",subtitle:"سائق فاخر | خدمات السياحة",points:["زيارة أفضل مدن الملاهي ومعالم الجذب الترفيهية في أوروبا مع وسائل نقل فاخرة ومريحة.","تجاوز متاعب مواقف السيارات واستمتع بخدمة الإنزال والاستلام المباشرة عند المدخل.","مثالية للعائلات التي لديها أطفال، مع توفر مقاعد الأطفال عند الطلب."]},farms:{title:"تجارب المزارع",subtitle:"سائق فاخر | خدمات السياحة",points:["استمتع بتجربة حياة المزرعة الأوروبية الأصيلة والتقاليد الريفية مع جولاتنا المصحوبة بمرشدين في المزارع.","زيارة المزارع التقليدية وكروم العنب ومعالم الجذب في الريف مع وسائل نقل فاخرة.","استمتع بتجارب تناول الطعام من المزرعة إلى المائدة والتسوق للمنتجات المحلية مع وسائل نقل مريحة."]}}}}};Si.use(HD).use(nK).init({resources:Hq,fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},react:{useSuspense:!1},returnObjects:!0});const Gq=document.getElementById("root"),Vq=j_(Gq);Vq.render(m.jsx(pn.StrictMode,{children:m.jsx(aK,{children:m.jsx(cq,{})})}));
